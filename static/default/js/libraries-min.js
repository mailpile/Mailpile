/* **********************************************
     Begin underscore.js
********************************************** *///     Underscore.js 1.5.2
//     http://underscorejs.org
//     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
function abbrNum(e,t){t=Math.pow(10,t);var n=["k","m","b","t"];for(var r=n.length-1;r>=0;r--){var i=Math.pow(10,(r+1)*3);if(i<=e){e=Math.round(e*t/i)/t;if(e==1e3&&r<n.length-1){e=1;r++}e+=n[r];break}}return e}(function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};if(typeof exports!="undefined"){typeof module!="undefined"&&module.exports&&(exports=module.exports=x);exports._=x}else e._=x;x.VERSION="1.5.2";var T=x.each=x.forEach=function(e,t,r){if(e==null)return;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else{var o=x.keys(e);for(var i=0,s=o.length;i<s;i++)if(t.call(r,e[o[i]],o[i],e)===n)return}};x.map=x.collect=function(e,t,n){var r=[];if(e==null)return r;if(h&&e.map===h)return e.map(t,n);T(e,function(e,i,s){r.push(t.call(n,e,i,s))});return r};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p){r&&(t=x.bind(t,r));return i?e.reduce(t,n):e.reduce(t)}T(e,function(e,s,o){if(!i){n=e;i=!0}else n=t.call(r,n,e,s,o)});if(!i)throw new TypeError(N);return n};x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d){r&&(t=x.bind(t,r));return i?e.reduceRight(t,n):e.reduceRight(t)}var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s;if(!i){n=e[a];i=!0}else n=t.call(r,n,e[a],a,f)});if(!i)throw new TypeError(N);return n};x.find=x.detect=function(e,t,n){var r;C(e,function(e,i,s){if(t.call(n,e,i,s)){r=e;return!0}});return r};x.filter=x.select=function(e,t,n){var r=[];if(e==null)return r;if(v&&e.filter===v)return e.filter(t,n);T(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)});return r};x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)};x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;if(e==null)return i;if(m&&e.every===m)return e.every(t,r);T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n});return!!i};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;if(e==null)return i;if(g&&e.some===g)return e.some(t,r);T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n});return!!i};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})};x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})};x.pluck=function(e,t){return x.map(e,function(e){return e[t]})};x.where=function(e,t,n){return x.isEmpty(t)?n?void 0:[]:x[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})};x.findWhere=function(e,t){return x.where(e,t,!0)};x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-Infinity;var r={computed:-Infinity,value:-Infinity};T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>r.computed&&(r={value:e,computed:o})});return r.value};x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return Infinity;var r={computed:Infinity,value:Infinity};T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})});return r.value};x.shuffle=function(e){var t,n=0,r=[];T(e,function(e){t=x.random(n++);r[n-1]=r[t];r[t]=e});return r};x.sample=function(e,t,n){return arguments.length<2||n?e[x.random(e.length-1)]:x.shuffle(e).slice(0,Math.max(0,t))};var k=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=k(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var L=function(e){return function(t,n,r){var i={},s=n==null?x.identity:k(n);T(t,function(n,o){var u=s.call(r,n,o,t);e(i,u,n)});return i}};x.groupBy=L(function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)});x.indexBy=L(function(e,t,n){e[t]=n});x.countBy=L(function(e,t){x.has(e,t)?e[t]++:e[t]=1});x.sortedIndex=function(e,t,n,r){n=n==null?x.identity:k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s};x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]};x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length};x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:u.call(e,0,t)};x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))};x.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))};x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)};x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){if(t&&x.every(e,x.isArray))return a.apply(n,e);T(e,function(e){x.isArray(e)||x.isArguments(e)?t?o.apply(n,e):A(e,t,n):n.push(e)});return n};x.flatten=function(e,t){return A(e,t,[])};x.without=function(e){return x.difference(e,u.call(arguments,1))};x.uniq=x.unique=function(e,t,n,r){if(x.isFunction(t)){r=n;n=t;t=!1}var i=n?x.map(e,n,r):e,s=[],o=[];T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n)){o.push(n);s.push(e[r])}});return s};x.union=function(){return x.uniq(x.flatten(arguments,!0))};x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})};x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})};x.zip=function(){var e=x.max(x.pluck(arguments,"length").concat(0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=x.pluck(arguments,""+n);return t};x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number"){r=x.sortedIndex(e,t);return e[r]===t?r:-1}r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1};x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1};x.range=function(e,t,n){if(arguments.length<=1){t=e||0;e=0}n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r){s[i++]=e;e+=n}return s};var O=function(){};x.bind=function(e,t){var n,r;if(S&&e.bind===S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;n=u.call(arguments,2);return r=function(){if(this instanceof r){O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(u.call(arguments)))}};x.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}};x.bindAll=function(e){var t=u.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");T(t,function(t){e[t]=x.bind(e[t],e)});return e};x.memoize=function(e,t){var n={};t||(t=x.identity);return function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}};x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)};x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))};x.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:new Date;o=null;s=e.apply(r,i)};return function(){var f=new Date;!u&&n.leading===!1&&(u=f);var l=t-(f-u);r=this;i=arguments;if(l<=0){clearTimeout(o);o=null;u=f;s=e.apply(r,i)}else!o&&n.trailing!==!1&&(o=setTimeout(a,l));return s}};x.debounce=function(e,t,n){var r,i,s,o,u;return function(){s=this;i=arguments;o=new Date;var a=function(){var f=new Date-o;if(f<t)r=setTimeout(a,t-f);else{r=null;n||(u=e.apply(s,i))}},f=n&&!r;r||(r=setTimeout(a,t));f&&(u=e.apply(s,i));return u}};x.once=function(e){var t=!1,n;return function(){if(t)return n;t=!0;n=e.apply(this,arguments);e=null;return n}};x.wrap=function(e,t){return function(){var n=[e];o.apply(n,arguments);return t.apply(this,n)}};x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}};x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}};x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&t.push(n);return t};x.values=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r};x.pairs=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r};x.invert=function(e){var t={},n=x.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t};x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()};x.extend=function(e){T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]});return e};x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));T(n,function(n){n in e&&(t[n]=e[n])});return t};x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t};x.defaults=function(e){T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])});return e};x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e};x.tap=function(e,t){t(e);return e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped);t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(u)&&u instanceof u))return!1;n.push(e);r.push(t);var a=0,l=!0;if(i=="[object Array]"){a=e.length;l=a==t.length;if(l)while(a--)if(!(l=M(e[a],t[a],n,r)))break}else{for(var c in e)if(x.has(e,c)){a++;if(!(l=x.has(t,c)&&M(e[c],t[c],n,r)))break}if(l){for(c in t)if(x.has(t,c)&&!(a--))break;l=!a}}n.pop();r.pop();return l};x.isEqual=function(e,t){return M(e,t,[],[])};x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0};x.isElement=function(e){return!!e&&e.nodeType===1};x.isArray=w||function(e){return f.call(e)=="[object Array]"};x.isObject=function(e){return e===Object(e)};T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}});x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")});typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"});x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))};x.isNaN=function(e){return x.isNumber(e)&&e!=+e};x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"};x.isNull=function(e){return e===null};x.isUndefined=function(e){return e===void 0};x.has=function(e,t){return l.call(e,t)};x.noConflict=function(){e._=t;return this};x.identity=function(e){return e};x.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r};x.random=function(e,t){if(t==null){t=e;e=0}return e+Math.floor(Math.random()*(t-e+1))};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};_.unescape=x.invert(_.escape);var D={escape:new RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}});x.result=function(e,t){if(e==null)return void 0;var n=e[t];return x.isFunction(n)?n.call(e):n};x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];o.apply(e,arguments);return F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=++P+"";return e?e+t:t};x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){o+=e.slice(s,u).replace(j,function(e){return"\\"+B[e]});n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'");r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'");i&&(o+="';\n"+i+"\n__p+='");s=u+t.length;return t});o+="';\n";n.variable||(o="with(obj||{}){\n"+o+"}\n");o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){u.source=o;throw u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};a.source="function("+(n.variable||"obj")+"){\n"+o+"}";return a};x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x);T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);(e=="shift"||e=="splice")&&n.length===0&&delete n[0];return F.call(this,n)}});T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}});x.extend(x.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this);(function(e,t){function n(){var e=v.elements;return"string"==typeof e?e.split(" "):e}function r(e){var t=p[e[c]];t||(t={},h++,e[c]=h,p[h]=t);return t}function i(e,n,i){n||(n=t);if(d)return n.createElement(e);i||(i=r(n));n=i.cache[e]?i.cache[e].cloneNode():f.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e);return n.canHaveChildren&&!a.test(e)?i.frag.appendChild(n):n}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag());e.createElement=function(n){return v.shivMethods?i(n,e,t):t.createElem(n)};e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/\w+/g,function(e){t.createElem(e);t.frag.createElement(e);return'c("'+e+'")'})+");return n}")(v,t.frag)}function o(e){e||(e=t);var n=r(e);if(v.shivCSS&&!l&&!n.hasCSS){var i,o=e;i=o.createElement("p");o=o.getElementsByTagName("head")[0]||o.documentElement;i.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}</style>";i=o.insertBefore(i.lastChild,o.firstChild);n.hasCSS=!!i}d||s(e,n);return e}var u=e.html5||{},a=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,l,c="_html5shiv",h=0,p={},d;(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>";l="hidden"in e;var n;if(!(n=1==e.childNodes.length)){t.createElement("a");var r=t.createDocumentFragment();n="undefined"==typeof r.cloneNode||"undefined"==typeof r.createDocumentFragment||"undefined"==typeof r.createElement}d=n}catch(i){d=l=!0}})();var v={elements:u.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video",version:"3.6.2pre",shivCSS:!1!==u.shivCSS,supportsUnknownElements:d,shivMethods:!1!==u.shivMethods,type:"default",shivDocument:o,createElement:i,createDocumentFragment:function(e,i){e||(e=t);if(d)return e.createDocumentFragment();for(var i=i||r(e),s=i.frag.cloneNode(),o=0,u=n(),a=u.length;o<a;o++)s.createElement(u[o]);return s}};e.html5=v;o(t)})(this,document);(function(e,t){function i(t,n){var r,i,o,u=t.nodeName.toLowerCase();if("area"===u){r=t.parentNode;i=r.name;if(!t.href||!i||r.nodeName.toLowerCase()!=="map")return!1;o=e("img[usemap=#"+i+"]")[0];return!!o&&s(o)}return(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return e.css(this,"visibility")==="hidden"}).length}var n=0,r=/^ui-id-\d+$/;e.ui=e.ui||{};e.extend(e.ui,{version:"@VERSION",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});e.fn.extend({focus:function(t){return function(n,r){return typeof n=="number"?this.each(function(){var t=this;setTimeout(function(){e(t).focus();r&&r.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):t=this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!t.length?e(this[0].ownerDocument||document):t},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}});e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(t,!r)}});e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function u(t,n,r,s){e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0;r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0);s&&(n-=parseFloat(e.css(t,"margin"+this))||0)});return n}var i=r==="Width"?["Left","Right"]:["Top","Bottom"],s=r.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?o["inner"+r].call(this):this.each(function(){e(this).css(s,u(this,n)+"px")})};e.fn["outer"+r]=function(t,n){return typeof t!="number"?o["outer"+r].call(this,t):this.each(function(){e(this).css(s,u(this,t,!0,n)+"px")})}});e.fn.addBack||(e.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))});e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData));e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());e.support.selectstart="onselectstart"in document.createElement("div");e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length){var r=e(this[0]),i,s;while(r.length&&r[0]!==document){i=r.css("position");if(i==="absolute"||i==="relative"||i==="fixed"){s=parseInt(r.css("zIndex"),10);if(!isNaN(s)&&s!==0)return s}r=r.parent()}}return 0}});e.ui.plugin={add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r){s.plugins[i]=s.plugins[i]||[];s.plugins[i].push([n,r[i]])}},call:function(e,t,n,r){var i,s=e.plugins[t];if(!s)return;if(!r&&(!e.element[0].parentNode||e.element[0].parentNode.nodeType===11))return;for(i=0;i<s.length;i++)e.options[s[i][0]]&&s[i][1].apply(e.element,n)}}})(jQuery);(function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)};e.widget=function(t,n,r){var i,s,o,u,a={},f=t.split(".")[0];t=t.split(".")[1];i=f+"-"+t;if(!r){r=n;n=e.Widget}e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)};e[f]=e[f]||{};s=e[f][t];o=e[f][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)};e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]});u=new n;u.options=e.widget.extend({},u.options);e.each(r,function(t,r){if(!e.isFunction(r)){a[t]=r;return}a[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;this._super=e;this._superApply=i;s=r.apply(this,arguments);this._super=t;this._superApply=n;return s}}()});o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix||t:t},a,{constructor:o,namespace:f,widgetName:t,widgetFullName:i});if(s){e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)});delete s._childConstructors}else n._childConstructors.push(o);e.widget.bridge(t,o);return o};e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s]){a=i[s][u];i[s].hasOwnProperty(u)&&a!==t&&(e.isPlainObject(a)?n[u]=e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a):n[u]=a)}return n};e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName||n;e.fn[n]=function(o){var u=typeof o=="string",a=r.call(arguments,1),f=this;o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o;u?this.each(function(){var r,i=e.data(this,s);if(o==="instance"){f=i;return!1}if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,a);if(r!==i&&r!==t){f=r&&r.jquery?f.pushStack(r.get()):r;return!1}}):this.each(function(){var t=e.data(this,s);if(t){t.option(o||{});t._init&&t._init()}else e.data(this,s,new i(o,this))});return f}};e.Widget=function(){};e.Widget._childConstructors=[];e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0];this.element=e(r);this.uuid=n++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=e.widget.extend({},this.options,this._getCreateOptions(),t);this.bindings=e();this.hoverable=e();this.focusable=e();if(r!==this){e.data(r,this.widgetFullName,this);this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}});this.document=e(r.style?r.ownerDocument:r.document||r);this.window=e(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={};s=n.split(".");n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++){o[s[u]]=o[s[u]]||{};o=o[s[u]]}n=s.pop();if(r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];i[n]=r}}this._setOptions(i);return this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){this.options[e]=t;if(e==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled",!!t);if(t){this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}}return this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,s=this;if(typeof t!="boolean"){r=n;n=t;t=!1}if(!r){r=n;n=this.element;i=this.widget()}else{n=i=e(n);this.bindings=this.bindings.add(n)}e.each(r,function(r,o){function u(){if(!t&&(s.options.disabled===!0||e(this).hasClass("ui-state-disabled")))return;return(typeof o=="string"?s[o]:o).apply(s,arguments)}typeof o!="string"&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^(\w+)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.delegate(l,f,u):n.bind(f,u)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{};n=e.Event(n);n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase();n.target=this.element[0];s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);this.element.trigger(n,r);return!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}};e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{};typeof i=="number"&&(i={duration:i});o=!e.isEmptyObject(i);i.complete=s;i.delay&&r.delay(i.delay);o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t]();s&&s.call(r[0]);n()})}})})(jQuery);(function(e,t){var n=!1;e(document).mouseup(function(){n=!1});e.widget("ui.mouse",{version:"@VERSION",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent")){e.removeData(n.target,t.widgetName+".preventClickEvent");n.stopImmediatePropagation();return!1}});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(n)return;this._mouseStarted&&this._mouseUp(t);this._mouseDownEvent=t;var r=this,i=t.which===1,s=typeof this.options.cancel=="string"&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;if(!i||s||!this._mouseCapture(t))return!0;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(t)!==!1;if(!this._mouseStarted){t.preventDefault();return!0}}!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(e){return r._mouseMove(e)};this._mouseUpDelegate=function(e){return r._mouseUp(e)};this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);t.preventDefault();n=!0;return!0},_mouseMove:function(t){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t);if(this._mouseStarted){this._mouseDrag(t);return t.preventDefault()}if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1;this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)}return!this._mouseStarted},_mouseUp:function(t){this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=!1;t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0);this._mouseStop(t)}n=!1;return!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);(function(e,t){function h(e,t,n){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?n/100:1)]}function p(t,n){return parseInt(e.css(t,n),10)||0}function d(t){var n=t[0];return n.nodeType===9?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,r=Math.max,i=Math.abs,s=Math.round,o=/left|center|right/,u=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,f=/^\w+/,l=/%$/,c=e.fn.position;e.position={scrollbarWidth:function(){if(n!==t)return n;var r,i,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];e("body").append(s);r=o.offsetWidth;s.css("overflow","scroll");i=o.offsetWidth;r===i&&(i=s[0].clientWidth);s.remove();return n=r-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),r=t.isWindow?"":t.element.css("overflow-y"),i=n==="scroll"||n==="auto"&&t.width<t.element[0].scrollWidth,s=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]);return{element:n,isWindow:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r?n.width():n.outerWidth(),height:r?n.height():n.outerHeight()}}};e.fn.position=function(t){if(!t||!t.of)return c.apply(this,arguments);t=e.extend({},t);var n,l,v,m,g,y,b=e(t.of),w=e.position.getWithinInfo(t.within),E=e.position.getScrollInfo(w),S=(t.collision||"flip").split(" "),x={};y=d(b);b[0].preventDefault&&(t.at="left top");l=y.width;v=y.height;m=y.offset;g=e.extend({},m);e.each(["my","at"],function(){var e=(t[this]||"").split(" "),n,r;e.length===1&&(e=o.test(e[0])?e.concat(["center"]):u.test(e[0])?["center"].concat(e):["center","center"]);e[0]=o.test(e[0])?e[0]:"center";e[1]=u.test(e[1])?e[1]:"center";n=a.exec(e[0]);r=a.exec(e[1]);x[this]=[n?n[0]:0,r?r[0]:0];t[this]=[f.exec(e[0])[0],f.exec(e[1])[0]]});S.length===1&&(S[1]=S[0]);t.at[0]==="right"?g.left+=l:t.at[0]==="center"&&(g.left+=l/2);t.at[1]==="bottom"?g.top+=v:t.at[1]==="center"&&(g.top+=v/2);n=h(x.at,l,v);g.left+=n[0];g.top+=n[1];return this.each(function(){var o
,u,a=e(this),f=a.outerWidth(),c=a.outerHeight(),d=p(this,"marginLeft"),y=p(this,"marginTop"),T=f+d+p(this,"marginRight")+E.width,N=c+y+p(this,"marginBottom")+E.height,C=e.extend({},g),k=h(x.my,a.outerWidth(),a.outerHeight());t.my[0]==="right"?C.left-=f:t.my[0]==="center"&&(C.left-=f/2);t.my[1]==="bottom"?C.top-=c:t.my[1]==="center"&&(C.top-=c/2);C.left+=k[0];C.top+=k[1];if(!e.support.offsetFractions){C.left=s(C.left);C.top=s(C.top)}o={marginLeft:d,marginTop:y};e.each(["left","top"],function(r,i){e.ui.position[S[r]]&&e.ui.position[S[r]][i](C,{targetWidth:l,targetHeight:v,elemWidth:f,elemHeight:c,collisionPosition:o,collisionWidth:T,collisionHeight:N,offset:[n[0]+k[0],n[1]+k[1]],my:t.my,at:t.at,within:w,elem:a})});t.using&&(u=function(e){var n=m.left-C.left,s=n+l-f,o=m.top-C.top,u=o+v-c,h={target:{element:b,left:m.left,top:m.top,width:l,height:v},element:{element:a,left:C.left,top:C.top,width:f,height:c},horizontal:s<0?"left":n>0?"right":"center",vertical:u<0?"top":o>0?"bottom":"middle"};l<f&&i(n+s)<l&&(h.horizontal="center");v<c&&i(o+u)<v&&(h.vertical="middle");r(i(n),i(s))>r(i(o),i(u))?h.important="horizontal":h.important="vertical";t.using.call(this,e,h)});a.offset(e.extend(C,{using:u}))})};e.ui.position={fit:{left:function(e,t){var n=t.within,i=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,o=e.left-t.collisionPosition.marginLeft,u=i-o,a=o+t.collisionWidth-s-i,f;if(t.collisionWidth>s)if(u>0&&a<=0){f=e.left+u+t.collisionWidth-s-i;e.left+=u-f}else a>0&&u<=0?e.left=i:u>a?e.left=i+s-t.collisionWidth:e.left=i;else u>0?e.left+=u:a>0?e.left-=a:e.left=r(e.left-o,e.left)},top:function(e,t){var n=t.within,i=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,o=e.top-t.collisionPosition.marginTop,u=i-o,a=o+t.collisionHeight-s-i,f;if(t.collisionHeight>s)if(u>0&&a<=0){f=e.top+u+t.collisionHeight-s-i;e.top+=u-f}else a>0&&u<=0?e.top=i:u>a?e.top=i+s-t.collisionHeight:e.top=i;else u>0?e.top+=u:a>0?e.top-=a:e.top=r(e.top-o,e.top)}},flip:{left:function(e,t){var n=t.within,r=n.offset.left+n.scrollLeft,s=n.width,o=n.isWindow?n.scrollLeft:n.offset.left,u=e.left-t.collisionPosition.marginLeft,a=u-o,f=u+t.collisionWidth-s-o,l=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,c=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,h=-2*t.offset[0],p,d;if(a<0){p=e.left+l+c+h+t.collisionWidth-s-r;if(p<0||p<i(a))e.left+=l+c+h}else if(f>0){d=e.left-t.collisionPosition.marginLeft+l+c+h-o;if(d>0||i(d)<f)e.left+=l+c+h}},top:function(e,t){var n=t.within,r=n.offset.top+n.scrollTop,s=n.height,o=n.isWindow?n.scrollTop:n.offset.top,u=e.top-t.collisionPosition.marginTop,a=u-o,f=u+t.collisionHeight-s-o,l=t.my[1]==="top",c=l?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,h=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,p=-2*t.offset[1],d,v;if(a<0){v=e.top+c+h+p+t.collisionHeight-s-r;e.top+c+h+p>a&&(v<0||v<i(a))&&(e.top+=c+h+p)}else if(f>0){d=e.top-t.collisionPosition.marginTop+c+h+p-o;e.top+c+h+p>f&&(d>0||i(d)<f)&&(e.top+=c+h+p)}}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments);e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments);e.ui.position.fit.top.apply(this,arguments)}}};(function(){var t,n,r,i,s,o=document.getElementsByTagName("body")[0],u=document.createElement("div");t=document.createElement(o?"div":"body");r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};o&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in r)t.style[s]=r[s];t.appendChild(u);n=o||document.documentElement;n.insertBefore(t,n.firstChild);u.style.cssText="position: absolute; left: 10.7432222px;";i=e(u).offset().left;e.support.offsetFractions=i>10&&i<11;t.innerHTML="";n.removeChild(t)})()})(jQuery);(function(e,t){function n(e,t,n){return e>=t&&e<t+n}function r(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"@VERSION",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?e.axis==="x"||r(this.items[0].item):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var r=null,i=!1,s=this;if(this.reverting)return!1;if(this.options.disabled||this.options.type==="static")return!1;this._refreshItems(t);e(t.target).parents().each(function(){if(e.data(this,s.widgetName+"-item")===s){r=e(this);return!1}});e.data(t.target,s.widgetName+"-item")===s&&(r=e(t.target));if(!r)return!1;if(this.options.handle&&!n){e(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(i=!0)});if(!i)return!1}this.currentItem=r;this._removeCurrentsFromItems();return!0},_mouseStart:function(t,n,r){var i,s,o=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(t);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(t);this.originalPageX=t.pageX;this.originalPageY=t.pageY;o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();o.containment&&this._setContainment();if(o.cursor&&o.cursor!=="auto"){s=this.document.find("body");this.storedCursor=s.css("cursor");s.css("cursor",o.cursor);this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)}if(o.opacity){this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity"));this.helper.css("opacity",o.opacity)}if(o.zIndex){this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex"));this.helper.css("zIndex",o.zIndex)}this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",t,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));e.ui.ddmanager&&(e.ui.ddmanager.current=this);e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t);this.dragging=!0;this.helper.addClass("ui-sortable-helper");this._mouseDrag(t);return!0},_mouseDrag:function(t){var n,r,i,s,o=this.options,u=!1;this.position=this._generatePosition(t);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop-o.scrollSpeed);this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft-o.scrollSpeed)}else{t.pageY-e(document).scrollTop()<o.scrollSensitivity?u=e(document).scrollTop(e(document).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<o.scrollSensitivity&&(u=e(document).scrollTop(e(document).scrollTop()+o.scrollSpeed));t.pageX-e(document).scrollLeft()<o.scrollSensitivity?u=e(document).scrollLeft(e(document).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<o.scrollSensitivity&&(u=e(document).scrollLeft(e(document).scrollLeft()+o.scrollSpeed))}u!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!=="x")this.helper[0].style.top=this.position.top+"px";for(n=this.items.length-1;n>=0;n--){r=this.items[n];i=r.item[0];s=this._intersectsWithPointer(r);if(!s)continue;if(r.instance!==this.currentContainer)continue;if(i!==this.currentItem[0]&&this.placeholder[s===1?"next":"prev"]()[0]!==i&&!e.contains(this.placeholder[0],i)&&(this.options.type==="semi-dynamic"?!e.contains(this.element[0],i):!0)){this.direction=s===1?"down":"up";if(this.options.tolerance!=="pointer"&&!this._intersectsWithSides(r))break;this._rearrange(t,r);this._trigger("change",t,this._uiHash());break}}this._contactContainers(t);e.ui.ddmanager&&e.ui.ddmanager.drag(this,t);this._trigger("sort",t,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(t,n){if(!t)return;e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t);if(this.options.revert){var r=this,i=this.placeholder.offset(),s=this.options.axis,o={};if(!s||s==="x")o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft);if(!s||s==="y")o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop);this.reverting=!0;e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1},cancel:function(){if(this.dragging){this._mouseUp({target:null});this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--){this.containers[t]._trigger("deactivate",null,this._uiHash(this));if(this.containers[t].containerCache.over){this.containers[t]._trigger("out",null,this._uiHash(this));this.containers[t].containerCache.over=0}}}if(this.placeholder){this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null});this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];t=t||{};e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))});!r.length&&t.key&&r.push(t.key+"=");return r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];t=t||{};n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")});return r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,s=e.left,o=s+e.width,u=e.top,a=u+e.height,f=this.offset.click.top,l=this.offset.click.left,c=this.options.axis==="x"||r+f>u&&r+f<a,h=this.options.axis==="y"||t+l>s&&t+l<o,p=c&&h;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:s<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&u<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<a},_intersectsWithPointer:function(e){var t=this.options.axis==="x"||n(this.positionAbs.top+this.offset.click.top,e.top,e.height),r=this.options.axis==="y"||n(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=t&&r,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&o==="right"||s==="down"?2:1:s&&(s==="down"?2:1):!1},_intersectsWithSides:function(e){var t=n(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),r=n(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?s==="right"&&r||s==="left"&&!r:i&&(i==="down"&&t||i==="up"&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!==0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!==0&&(e>0?"right":"left")},refresh:function(e){this._refreshItems(e);this.refreshPositions();return this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function f(){o.push(this)}var n,r,i,s,o=[],u=[],a=this._connectWith();if(a&&t)for(n=a.length-1;n>=0;n--){i=e(a[n]);for(r=i.length-1;r>=0;r--){s=e.data(i[r],this.widgetFullName);s&&s!==this&&!s.options.disabled&&u.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s])}}u.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(n=u.length-1;n>=0;n--)u[n][0].each(f);return e(o)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[];this.containers=[this];var n,r,i,s,o,u,a,f,l=this.items,c=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--){i=e(h[n]);for(r=i.length-1;r>=0;r--){s=e.data(i[r],this.widgetFullName);if(s&&s!==this&&!s.options.disabled){c.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]);this.containers.push(s)}}}for(n=c.length-1;n>=0;n--){o=c[n][1];u=c[n][0];for(r=0,f=u.length;r<f;r++){a=e(u[r]);a.data(this.widgetName+"-item",o);l.push({item:a,instance:o,width:0,height:0,left:0,top:0})}}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,r,i,s;for(n=this.items.length-1;n>=0;n--){r=this.items[n];if(r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0])continue;i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item;if(!t){r.width=i.outerWidth();r.height=i.outerHeight()}s=i.offset();r.left=s.left;r.top=s.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--){s=this.containers[n].element.offset();this.containers[n].containerCache.left=s.left;this.containers[n].containerCache.top=s.top;this.containers[n].containerCache.width=this.containers[n].element.outerWidth();this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(t){t=t||this;var n,r=t.options;if(!r.placeholder||r.placeholder.constructor===String){n=r.placeholder;r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),i=e("<"+r+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");r==="tr"?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)}):r==="img"&&i.attr("src",t.currentItem.attr("src"));n||i.css("visibility","hidden");return i},update:function(e,i){if(n&&!r.forcePlaceholderSize)return;i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10));i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10))}}}t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem));t.currentItem.after(t.placeholder);r.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var i,s,o,u,a,f,l,c,h,p,d=null,v=null;for(i=this.containers.length-1;i>=0;i--){if(e.contains(this.currentItem[0],this.containers[i].element[0]))continue;if(this._intersectsWith(this.containers[i].containerCache)){if(d&&e.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i];v=i}else if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",t,this._uiHash(this));this.containers[i].containerCache.over=0}}if(!d)return;if(this.containers.length===1){if(!this.containers[v].containerCache.over){this.containers[v]._trigger("over",t,this._uiHash(this));this.containers[v].containerCache.over=1}}else{o=1e4;u=null;p=d.floating||r(this.currentItem);a=p?"left":"top";f=p?"width":"height";l=this.positionAbs[a]+this.offset.click[a];for(s=this.items.length-1;s>=0;s--){if(!e.contains(this.containers[v].element[0],this.items[s].item[0]))continue;if(this.items[s].item[0]===this.currentItem[0])continue;if(p&&!n(this.positionAbs.top+this.offset.click.top,this.items[s].top,this.items[s].height))continue;c=this.items[s].item.offset()[a];h=!1;if(Math.abs(c-l)>Math.abs(c+this.items[s][f]-l)){h=!0;c+=this.items[s][f]}if(Math.abs(c-l)<o){o=Math.abs(c-l);u=this.items[s];this.direction=h?"up":"down"}}if(!u&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[v])return;u?this._rearrange(t,u,null,!0):this._rearrange(t,null,this.containers[v].element,!0);this._trigger("change",t,this._uiHash());this.containers[v]._trigger("change",t,this._uiHash(this));this.currentContainer=this.containers[v];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[v]._trigger("over",t,this._uiHash(this));this.containers[v].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):n.helper==="clone"?this.currentItem.clone():this.currentItem;r.parents("body").length||e(n.appendTo!=="parent"?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]);r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});(!r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width());(!r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height());return r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" "));e.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])){t.left+=this.scrollParent.scrollLeft();t.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&e.ui.ie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;i.containment==="parent"&&(i.containment=this.helper[0].parentNode);if(i.containment==="document"||i.containment==="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e(i.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e(i.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(i.containment)){t=e(i.containment)[0];n=e(i.containment).offset();r=e(t).css("overflow")!=="hidden";this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position);var r=t==="absolute"?1:-1,i=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():s?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():s?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,s=t.pageX,o=t.pageY,u=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(u[0].tagName);this.cssPosition==="relative"&&(this.scrollParent[0]===document||this.scrollParent[0]===this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());if(this.originalPosition){if(this.containment){t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left);t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top);t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left);t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)}if(i.grid){n=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1];o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n;r=this.originalPageX+Math.round((s-this.originalPageX)/i.grid[0])*i.grid[0];s=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():a?0:u.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():a?0:u.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i===this.counter&&this.refreshPositions(!r)})},_clear:function(e,t){function i(e,t,n){return function(r){n._trigger(e,r,t._uiHash(t))}}this.reverting=!1;var n,r=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)if(this._storedCSS[n]==="auto"||this._storedCSS[n]==="static")this._storedCSS[n]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))});(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!t&&r.push(function(e){this._trigger("update",e,this._uiHash())});if(this!==this.currentContainer&&!t){r.push(function(e){this._trigger("remove",e,this._uiHash())});r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer));r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))}for(n=this.containers.length-1;n>=0;n--){t||r.push(i("deactivate",this,this.containers[n]));if(this.containers[n].containerCache.over){r.push(i("out",this,this.containers[n]));this.containers[n].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!t){this._trigger("beforeStop",e,this._uiHash());for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}this.fromOutside=!1;return!1}t||this._trigger("beforeStop",e,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!==this.currentItem[0]&&this.helper.remove();this.helper=null;if(!t){for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}this.fromOutside=!1;return!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})})(jQuery);(function(e,t){function n(e,t,n){return e>=t&&e<t+n}e.widget("ui.droppable",{version:"@VERSION",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,r=n.accept;this.isover=!1;this.isout=!0;this.accept=e.isFunction(r)?r:function(e){return e.is(r)};this.proportions=function(){if(!arguments.length)return t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};t=arguments[0]};e.ui.ddmanager.droppables[n.scope]=e.ui.ddmanager.droppables[n.scope]||[];e.ui.ddmanager.droppables[n.scope].push(this);n.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){var t=0,n=e.ui.ddmanager.droppables[this.options.scope];for(;t<n.length;t++)n[t]===this&&n.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){t==="accept"&&(this.accept=e.isFunction(n)?n:function(e){return e.is(n)});this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]===this.element[0])return;if(this.accept.call(this.element[0],n.currentItem||n.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);this._trigger("over",t,this.ui(n))}},_out:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]===this.element[0])return;if(this.accept.call(this.element[0],n.currentItem||n.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",t,this.ui(n))}},_drop:function(t,n){var r=n||e.ui.ddmanager.current,i=!1;if(!r||(r.currentItem||r.element)[0]===this.element[0])return!1;this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e(this).droppable("instance");if(t.options.greedy&&!t.options.disabled&&t.options.scope===r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(t,{offset:t.element.offset()}),t.options.tolerance)){i=!0;return!1}});if(i)return!1;if(this.accept.call(this.element[0],r.currentItem||r.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",t,this.ui(r));return this.element}return!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}});e.ui.intersect=function(e,t,r){if(!t.offset)return!1;var i,s,o=(e.positionAbs||e.position.absolute).left,u=(e.positionAbs||e.position.absolute).top,a=o+e.helperProportions.width,f=u+e.helperProportions.height,l=t.offset.left,c=t.offset.top,h=l+t.proportions().width,p=c+t.proportions().height;switch(r){case"fit":return l<=o&&a<=h&&c<=u&&f<=p;case"intersect":return l<o+e.helperProportions.width/2&&a-e.helperProportions.width/2<h&&c<u+e.helperProportions.height/2&&f-e.helperProportions.height/2<p;case"pointer":i=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left;s=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top;return n(s,c,t.proportions().height)&&n(i,l,t.proportions().width);case"touch":return(u>=c&&u<=p||f>=c&&f<=p||u<c&&f>p)&&(o>=l&&o<=h||a>=l&&a<=h||o<l&&a>h);default:return!1}};e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var r,i,s=e.ui.ddmanager.droppables[t.options.scope]||[],o=n?n.type:null,u=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;r<s.length;r++){if(s[r].options.disabled||t&&!s[r].accept.call(s[r].element[0],t.currentItem||t.element))continue;for(i=0;i<u.length;i++)if(u[i]===s[r].element[0]){s[r].proportions().height=0;continue e}s[r].visible=s[r].element.css("display")!=="none";if(!s[r].visible)continue;o==="mousedown"&&s[r]._activate.call(s[r],n);s[r].offset=s[r].element.offset();s[r].proportions({width:s[r].element[0].offsetWidth,height:s[r].element[0].offsetHeight})}},drop:function(t,n){var r=!1;e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){if(!this.options)return;!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(r=this._drop.call(this,n)||r);if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)){this.isout=!0;this.isover=!1;this._deactivate.call(this,n)}});return r},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager
.prepareOffsets(t,n);e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible)return;var r,i,s,o=e.ui.intersect(t,this,this.options.tolerance),u=!o&&this.isover?"isout":o&&!this.isover?"isover":null;if(!u)return;if(this.options.greedy){i=this.options.scope;s=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===i});if(s.length){r=e(s[0]).droppable("instance");r.greedyChild=u==="isover"}}if(r&&u==="isover"){r.isover=!1;r.isout=!0;r._out.call(r,n)}this[u]=!0;this[u==="isout"?"isover":"isout"]=!1;this[u==="isover"?"_over":"_out"].call(this,n);if(r&&u==="isout"){r.isout=!1;r.isover=!0;r._over.call(r,n)}})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable");t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}}})(jQuery);(function(e,t){e.widget("ui.draggable",e.ui.mouse,{version:"@VERSION",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper==="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=!0;return}this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(t){var n=this.document[0],r=this.options;try{n.activeElement&&n.activeElement.nodeName.toLowerCase()!=="body"&&e(n.activeElement).blur()}catch(i){}if(this.helper||r.disabled||e(t.target).closest(".ui-resizable-handle").length>0)return!1;this.handle=this._getHandle(t);if(!this.handle)return!1;e(r.iframeFix===!0?"iframe":r.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")});return!0},_mouseStart:function(t){var n=this.options;this.helper=this._createHelper(t);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();e.ui.ddmanager&&(e.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=!1;e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(t);this.originalPageX=t.pageX;this.originalPageY=t.pageY;n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt);this._setContainment();if(this._trigger("start",t)===!1){this._clear();return!1}this._cacheHelperProportions();e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t);this._mouseDrag(t,!0);e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t);return!0},_mouseDrag:function(t,n){this.offsetParentCssPosition==="fixed"&&(this.offset.parent=this._getParentOffset());this.position=this._generatePosition(t);this.positionAbs=this._convertPositionTo("absolute");if(!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1){this._mouseUp({});return!1}this.position=r.position}if(!this.options.axis||this.options.axis!=="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!=="x")this.helper[0].style.top=this.position.top+"px";e.ui.ddmanager&&e.ui.ddmanager.drag(this,t);return!1},_mouseStop:function(t){var n=this,r=!1;e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t));if(this.dropped){r=this.dropped;this.dropped=!1}this.options.revert==="invalid"&&!r||this.options.revert==="valid"&&r||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear();return!1},_mouseUp:function(t){e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t);this.element.focus();return e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):n.helper==="clone"?this.element.clone().removeAttr("id"):this.element;r.parents("body").length||r.appendTo(n.appendTo==="parent"?this.element[0].parentNode:n.appendTo);r[0]!==this.element[0]&&!/(fixed|absolute)/.test(r.css("position"))&&r.css("position","absolute");return r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" "));e.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])){t.left+=this.scrollParent.scrollLeft();t.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===n.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&e.ui.ie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options,s=this.document[0];if(!i.containment){this.containment=null;return}if(i.containment==="window"){this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(i.containment==="document"){this.containment=[0,0,e(s).width()-this.helperProportions.width-this.margins.left,(e(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(i.containment.constructor===Array){this.containment=i.containment;return}i.containment==="parent"&&(i.containment=this.helper[0].parentNode);n=e(i.containment);r=n[0];if(!r)return;t=n.css("overflow")!=="hidden";this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=n},_convertPositionTo:function(t,n){n||(n=this.position);var r=t==="absolute"?1:-1,i=this.document[0],s=this.cssPosition==="absolute"&&(this.scrollParent[0]===i||!e.contains(this.scrollParent[0],this.offsetParent[0])),o=s?this.offsetParent:this.scrollParent,u=s&&/(html|body)/i.test(o[0].nodeName);this.offset.scroll||(this.offset.scroll={top:o.scrollTop(),left:o.scrollLeft()});return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():u?0:this.offset.scroll.top)*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():u?0:this.offset.scroll.left)*r}},_generatePosition:function(t){var n,r,i,s,o=this.options,u=this.document[0],a=this.cssPosition==="absolute"&&(this.scrollParent[0]===u||!e.contains(this.scrollParent[0],this.offsetParent[0])),f=a?this.offsetParent:this.scrollParent,l=a&&/(html|body)/i.test(f[0].nodeName),c=t.pageX,h=t.pageY;this.offset.scroll||(this.offset.scroll={top:f.scrollTop(),left:f.scrollLeft()});if(this.originalPosition){if(this.containment){if(this.relative_container){r=this.relative_container.offset();n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]}else n=this.containment;t.pageX-this.offset.click.left<n[0]&&(c=n[0]+this.offset.click.left);t.pageY-this.offset.click.top<n[1]&&(h=n[1]+this.offset.click.top);t.pageX-this.offset.click.left>n[2]&&(c=n[2]+this.offset.click.left);t.pageY-this.offset.click.top>n[3]&&(h=n[3]+this.offset.click.top)}if(o.grid){i=o.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;h=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-o.grid[1]:i+o.grid[1]:i;s=o.grid[0]?this.originalPageX+Math.round((c-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;c=n?s-this.offset.click.left>=n[0]||s-this.offset.click.left>n[2]?s:s-this.offset.click.left>=n[0]?s-o.grid[0]:s+o.grid[0]:s}}return{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():l?0:this.offset.scroll.top),left:c-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():l?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_trigger:function(t,n,r){r=r||this._uiHash();e.ui.plugin.call(this,t,[n,r,this],!0);t==="drag"&&(this.positionAbs=this._convertPositionTo("absolute"));return e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,r){var i=r.options,s=e.extend({},n,{item:r.element});r.sortables=[];e(i.connectToSortable).each(function(){var n=e(this).sortable("instance");if(n&&!n.options.disabled){r.sortables.push({instance:n,shouldRevert:n.options.revert});n.refreshPositions();n._trigger("activate",t,s)}})},stop:function(t,n,r){var i=e.extend({},n,{item:r.element});e.each(r.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;r.cancelHelperRemoval=!0;this.instance.cancelHelperRemoval=!1;this.shouldRevert&&(this.instance.options.revert=this.shouldRevert);this.instance._mouseStop(t);this.instance.options.helper=this.instance.options._helper;r.options.helper==="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=!1;this.instance._trigger("deactivate",t,i)}})},drag:function(t,n,r){var i=this;e.each(r.sortables,function(){var s=!1,o=this;this.instance.positionAbs=r.positionAbs;this.instance.helperProportions=r.helperProportions;this.instance.offset.click=r.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){s=!0;e.each(r.sortables,function(){this.instance.positionAbs=r.positionAbs;this.instance.helperProportions=r.helperProportions;this.instance.offset.click=r.offset.click;this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(o.instance.element[0],this.instance.element[0])&&(s=!1);return s})}if(s){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=e(i).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return n.helper[0]};t.target=this.instance.currentItem[0];this.instance._mouseCapture(t,!0);this.instance._mouseStart(t,!0,!0);this.instance.offset.click.top=r.offset.click.top;this.instance.offset.click.left=r.offset.click.left;this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top;r._trigger("toSortable",t);r.dropped=this.instance.element;r.currentItem=r.element;this.instance.fromOutside=r}this.instance.currentItem&&this.instance._mouseDrag(t)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=!0;this.instance.options.revert=!1;this.instance._trigger("out",t,this.instance._uiHash(this.instance));this.instance._mouseStop(t,!0);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();r._trigger("fromSortable",t);r.dropped=!1}})}});e.ui.plugin.add("draggable","cursor",{start:function(t,n,r){var i=e("body"),s=r.options;i.css("cursor")&&(s._cursor=i.css("cursor"));i.css("cursor",s.cursor)},stop:function(t,n,r){var i=r.options;i._cursor&&e("body").css("cursor",i._cursor)}});e.ui.plugin.add("draggable","opacity",{start:function(t,n,r){var i=e(n.helper),s=r.options;i.css("opacity")&&(s._opacity=i.css("opacity"));i.css("opacity",s.opacity)},stop:function(t,n,r){var i=r.options;i._opacity&&e(n.helper).css("opacity",i._opacity)}});e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParent[0]!==n.document[0]&&n.scrollParent[0].tagName!=="HTML"&&(n.overflowOffset=n.scrollParent.offset())},drag:function(t,n,r){var i=r.options,s=!1,o=r.document[0];if(r.scrollParent[0]!==o&&r.scrollParent[0].tagName!=="HTML"){if(!i.axis||i.axis!=="x")r.overflowOffset.top+r.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?r.scrollParent[0].scrollTop=s=r.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(r.scrollParent[0].scrollTop=s=r.scrollParent[0].scrollTop-i.scrollSpeed);if(!i.axis||i.axis!=="y")r.overflowOffset.left+r.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?r.scrollParent[0].scrollLeft=s=r.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(r.scrollParent[0].scrollLeft=s=r.scrollParent[0].scrollLeft-i.scrollSpeed)}else{if(!i.axis||i.axis!=="x")t.pageY-e(o).scrollTop()<i.scrollSensitivity?s=e(o).scrollTop(e(o).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(o).scrollTop())<i.scrollSensitivity&&(s=e(o).scrollTop(e(o).scrollTop()+i.scrollSpeed));if(!i.axis||i.axis!=="y")t.pageX-e(o).scrollLeft()<i.scrollSensitivity?s=e(o).scrollLeft(e(o).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(o).scrollLeft())<i.scrollSensitivity&&(s=e(o).scrollLeft(e(o).scrollLeft()+i.scrollSpeed))}s!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}});e.ui.plugin.add("draggable","snap",{start:function(t,n,r){var i=r.options;r.snapElements=[];e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=e(this),n=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,r){var i,s,o,u,a,f,l,c,h,p,d=r.options,v=d.snapTolerance,m=n.offset.left,g=m+r.helperProportions.width,y=n.offset.top,b=y+r.helperProportions.height;for(h=r.snapElements.length-1;h>=0;h--){a=r.snapElements[h].left;f=a+r.snapElements[h].width;l=r.snapElements[h].top;c=l+r.snapElements[h].height;if(g<a-v||m>f+v||b<l-v||y>c+v||!e.contains(r.snapElements[h].item.ownerDocument,r.snapElements[h].item)){r.snapElements[h].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item}));r.snapElements[h].snapping=!1;continue}if(d.snapMode!=="inner"){i=Math.abs(l-b)<=v;s=Math.abs(c-y)<=v;o=Math.abs(a-g)<=v;u=Math.abs(f-m)<=v;i&&(n.position.top=r._convertPositionTo("relative",{top:l-r.helperProportions.height,left:0}).top-r.margins.top);s&&(n.position.top=r._convertPositionTo("relative",{top:c,left:0}).top-r.margins.top);o&&(n.position.left=r._convertPositionTo("relative",{top:0,left:a-r.helperProportions.width}).left-r.margins.left);u&&(n.position.left=r._convertPositionTo("relative",{top:0,left:f}).left-r.margins.left)}p=i||s||o||u;if(d.snapMode!=="outer"){i=Math.abs(l-y)<=v;s=Math.abs(c-b)<=v;o=Math.abs(a-m)<=v;u=Math.abs(f-g)<=v;i&&(n.position.top=r._convertPositionTo("relative",{top:l,left:0}).top-r.margins.top);s&&(n.position.top=r._convertPositionTo("relative",{top:c-r.helperProportions.height,left:0}).top-r.margins.top);o&&(n.position.left=r._convertPositionTo("relative",{top:0,left:a}).left-r.margins.left);u&&(n.position.left=r._convertPositionTo("relative",{top:0,left:f-r.helperProportions.width}).left-r.margins.left)}!r.snapElements[h].snapping&&(i||s||o||u||p)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item}));r.snapElements[h].snapping=i||s||o||u||p}}});e.ui.plugin.add("draggable","stack",{start:function(t,n,r){var i,s=r.options,o=e.makeArray(e(s.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});if(!o.length)return;i=parseInt(e(o[0]).css("zIndex"),10)||0;e(o).each(function(t){e(this).css("zIndex",i+t)});this.css("zIndex",i+o.length)}});e.ui.plugin.add("draggable","zIndex",{start:function(t,n,r){var i=e(n.helper),s=r.options;i.css("zIndex")&&(s._zIndex=i.css("zIndex"));i.css("zIndex",s.zIndex)},stop:function(t,n,r){var i=r.options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}})})(jQuery);(function(e,t,n){"use strict";var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x;S={paneClass:"pane",sliderClass:"slider",contentClass:"content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null};y="scrollbar";g="scroll";l="mousedown";c="mousemove";p="mousewheel";h="mouseup";m="resize";u="drag";w="up";v="panedown";s="DOMMouseScroll";o="down";E="wheel";a="keydown";f="keyup";b="touchmove";r=t.navigator.appName==="Microsoft Internet Explorer"&&/msie 7./i.test(t.navigator.appVersion)&&t.ActiveXObject;i=null;x=function(){var e,t,r;e=n.createElement("div");t=e.style;t.position="absolute";t.width="100px";t.height="100px";t.overflow=g;t.top="-9999px";n.body.appendChild(e);r=e.offsetWidth-e.clientWidth;n.body.removeChild(e);return r};d=function(){function a(r,s){this.el=r;this.options=s;i||(i=x());this.$el=e(this.el);this.doc=e(this.options.documentContext||n);this.win=e(this.options.windowContext||t);this.$content=this.$el.children("."+s.contentClass);this.$content.attr("tabindex",this.options.tabIndex||0);this.content=this.$content[0];this.options.iOSNativeScrolling&&this.el.style.WebkitOverflowScrolling!=null?this.nativeScrolling():this.generate();this.createEvents();this.addEvents();this.reset()}a.prototype.preventScrolling=function(e,t){if(!this.isActive)return;if(e.type===s)(t===o&&e.originalEvent.detail>0||t===w&&e.originalEvent.detail<0)&&e.preventDefault();else if(e.type===p){if(!e.originalEvent||!e.originalEvent.wheelDelta)return;(t===o&&e.originalEvent.wheelDelta<0||t===w&&e.originalEvent.wheelDelta>0)&&e.preventDefault()}};a.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"});this.iOSNativeScrolling=!0;this.isActive=!0};a.prototype.updateScrollValues=function(){var e;e=this.content;this.maxScrollTop=e.scrollHeight-e.clientHeight;this.prevScrollTop=this.contentScrollTop||0;this.contentScrollTop=e.scrollTop;if(!this.iOSNativeScrolling){this.maxSliderTop=this.paneHeight-this.sliderHeight;this.sliderTop=this.maxScrollTop===0?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop}};a.prototype.createEvents=function(){var e=this;this.events={down:function(t){e.isBeingDragged=!0;e.offsetY=t.pageY-e.slider.offset().top;e.pane.addClass("active");e.doc.bind(c,e.events[u]).bind(h,e.events[w]);return!1},drag:function(t){e.sliderY=t.pageY-e.$el.offset().top-e.offsetY;e.scroll();e.updateScrollValues();e.contentScrollTop>=e.maxScrollTop&&e.prevScrollTop!==e.maxScrollTop?e.$el.trigger("scrollend"):e.contentScrollTop===0&&e.prevScrollTop!==0&&e.$el.trigger("scrolltop");return!1},up:function(t){e.isBeingDragged=!1;e.pane.removeClass("active");e.doc.unbind(c,e.events[u]).unbind(h,e.events[w]);return!1},resize:function(t){e.reset()},panedown:function(t){e.sliderY=(t.offsetY||t.originalEvent.layerY)-e.sliderHeight*.5;e.scroll();e.events.down(t);return!1},scroll:function(t){if(e.isBeingDragged)return;e.updateScrollValues();if(!e.iOSNativeScrolling){e.sliderY=e.sliderTop;e.slider.css({top:e.sliderTop})}if(t==null)return;if(e.contentScrollTop>=e.maxScrollTop){e.options.preventPageScrolling&&e.preventScrolling(t,o);e.prevScrollTop!==e.maxScrollTop&&e.$el.trigger("scrollend")}else if(e.contentScrollTop===0){e.options.preventPageScrolling&&e.preventScrolling(t,w);e.prevScrollTop!==0&&e.$el.trigger("scrolltop")}},wheel:function(t){var n;if(t==null)return;n=t.delta||t.wheelDelta||t.originalEvent&&t.originalEvent.wheelDelta||-t.detail||t.originalEvent&&-t.originalEvent.detail;n&&(e.sliderY+=-n/3);e.scroll();return!1}}};a.prototype.addEvents=function(){var e;this.removeEvents();e=this.events;this.options.disableResize||this.win.bind(m,e[m]);if(!this.iOSNativeScrolling){this.slider.bind(l,e[o]);this.pane.bind(l,e[v]).bind(""+p+" "+s,e[E])}this.$content.bind(""+g+" "+p+" "+s+" "+b,e[g])};a.prototype.removeEvents=function(){var e;e=this.events;this.win.unbind(m,e[m]);if(!this.iOSNativeScrolling){this.slider.unbind();this.pane.unbind()}this.$content.unbind(""+g+" "+p+" "+s+" "+b,e[g])};a.prototype.generate=function(){var e,t,n,r,s;n=this.options;r=n.paneClass,s=n.sliderClass,e=n.contentClass;!this.$el.find(""+r).length&&!this.$el.find(""+s).length&&this.$el.append('<div class="'+r+'"><div class="'+s+'" /></div>');this.pane=this.$el.children("."+r);this.slider=this.pane.find("."+s);if(i){t={right:-i};this.$el.addClass("has-scrollbar")}t!=null&&this.$content.css(t);return this};a.prototype.restore=function(){this.stopped=!1;this.pane.show();this.addEvents()};a.prototype.reset=function(){var e,t,n,s,o,u,a,f,l,c;if(this.iOSNativeScrolling){this.contentHeight=this.content.scrollHeight;return}this.$el.find("."+this.options.paneClass).length||this.generate().stop();this.stopped&&this.restore();e=this.content;n=e.style;s=n.overflowY;r&&this.$content.css({height:this.$content.height()});t=e.scrollHeight+i;l=parseInt(this.$el.css("max-height"),10);if(l>0){this.$el.height("");this.$el.height(e.scrollHeight>l?l:e.scrollHeight)}u=this.pane.outerHeight(!1);f=parseInt(this.pane.css("top"),10);o=parseInt(this.pane.css("bottom"),10);a=u+f+o;c=Math.round(a/t*a);c<this.options.sliderMinHeight?c=this.options.sliderMinHeight:this.options.sliderMaxHeight!=null&&c>this.options.sliderMaxHeight&&(c=this.options.sliderMaxHeight);s===g&&n.overflowX!==g&&(c+=i);this.maxSliderTop=a-c;this.contentHeight=t;this.paneHeight=u;this.paneOuterHeight=a;this.sliderHeight=c;this.slider.height(c);this.events.scroll();this.pane.show();this.isActive=!0;if(e.scrollHeight===e.clientHeight||this.pane.outerHeight(!0)>=e.scrollHeight&&s!==g){this.pane.hide();this.isActive=!1}else this.el.clientHeight===e.scrollHeight&&s===g?this.slider.hide():this.slider.show();this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""});return this};a.prototype.scroll=function(){if(!this.isActive)return;this.sliderY=Math.max(0,this.sliderY);this.sliderY=Math.min(this.maxSliderTop,this.sliderY);this.$content.scrollTop((this.paneHeight-this.contentHeight+i)*this.sliderY/this.maxSliderTop*-1);this.iOSNativeScrolling||this.slider.css({top:this.sliderY});return this};a.prototype.scrollBottom=function(e){if(!this.isActive)return;this.reset();this.$content.scrollTop(this.contentHeight-this.$content.height()-e).trigger(p);return this};a.prototype.scrollTop=function(e){if(!this.isActive)return;this.reset();this.$content.scrollTop(+e).trigger(p);return this};a.prototype.scrollTo=function(t){if(!this.isActive)return;this.reset();this.scrollTop(e(t).get(0).offsetTop);return this};a.prototype.stop=function(){this.stopped=!0;this.removeEvents();this.pane.hide();return this};a.prototype.destroy=function(){this.stopped||this.stop();this.pane.length&&this.pane.remove();r&&this.$content.height("");this.$content.removeAttr("tabindex");if(this.$el.hasClass("has-scrollbar")){this.$el.removeClass("has-scrollbar");this.$content.css({right:""})}return this};a.prototype.flash=function(){var e=this;if(!this.isActive)return;this.reset();this.pane.addClass("flashed");setTimeout(function(){e.pane.removeClass("flashed")},this.options.flashDelay);return this};return a}();e.fn.nanoScroller=function(t){return this.each(function(){var n,r;if(!(r=this.nanoscroller)){n=e.extend({},S,t);this.nanoscroller=r=new d(this,n)}if(t&&typeof t=="object"){e.extend(r.options,t);if(t.scrollBottom)return r.scrollBottom(t.scrollBottom);if(t.scrollTop)return r.scrollTop(t.scrollTop);if(t.scrollTo)return r.scrollTo(t.scrollTo);if(t.scroll==="bottom")return r.scrollBottom(0);if(t.scroll==="top")return r.scrollTop(0);if(t.scroll&&t.scroll instanceof e)return r.scrollTo(t.scroll);if(t.stop)return r.stop();if(t.destroy)return r.destroy();if(t.flash)return r.flash()}return r.reset()})};e.fn.nanoScroller.Constructor=d})(jQuery,window,document);jQuery.url=function(){var e={},t={},n={url:window.location,strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=function(){str=decodeURI(n.url);var e=n.parser[n.strictMode?"strict":"loose"].exec(str),t={},r=14;while(r--)t[n.key[r]]=e[r]||"";t[n.q.name]={};t[n.key[12]].replace(n.q.parser,function(e,r,i){r&&(t[n.q.name][r]=i)});return t},i=function(e){jQuery.isEmptyObject(t)&&o();return e=="base"?t.port!==null&&t.port!==""?t.protocol+"://"+t.host+":"+t.port+"/":t.protocol+"://"+t.host+"/":t[e]===""?null:t[e]},s=function(e){jQuery.isEmptyObject(t)&&o();return t.queryKey[e]===null?null:t.queryKey[e]},o=function(){t=r();u()},u=function(){var n=t.path;e=[];e=t.path.length==1?{}:(n.charAt(n.length-1)=="/"?n.substring(1,n.length-1):path=n.substring(1)).split("/")};return{setMode:function(e){n.strictMode=e=="strict"?!0:!1;return this},setUrl:function(e){n.url=e===undefined?window.location:e;o();return this},segment:function(n){jQuery.isEmptyObject(t)&&o();return n===undefined?e.length:e[n]===""||e[n]===undefined?null:e[n]},attr:i,param:s}}();(function(e,t,n){(function(e){"use strict";typeof define=="function"&&define.amd?define(["jquery","imagesloaded"],e):jQuery&&!jQuery.fn.qtip&&e(jQuery)})(function(r){function I(e,t,n,i){this.id=n;this.target=e;this.tooltip=u;this.elements=elements={target:e};this._id=N+"-"+n;this.timers={img:{}};this.options=t;this.plugins={};this.cache=cache={event:{},target:r(),disabled:o,attr:i,onTooltip:o,lastClass:""};this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=o}function q(e){return e===u||r.type(e)!=="object"}function R(e){return!(r.isFunction(e)||e&&e.attr||e.length||r.type(e)==="object"&&(e.jquery||e.then))}function U(e){var t,n,i,a;if(q(e))return o;q(e.metadata)&&(e.metadata={type:e.metadata});if("content"in e){t=e.content;q(t)||t.jquery||t.done?t=e.content={text:n=R(t)?o:t}:n=t.text;if("ajax"in t){i=t.ajax;a=i&&i.once!==o;delete t.ajax;t.text=function(e,t){var s=n||r(this).attr(t.options.content.attr)||"Loading...",o=r.ajax(r.extend({},i,{context:t})).then(i.success,u,i.error).then(function(e){e&&a&&t.set("content.text",e);return e},function(e,n,r){if(t.destroyed||e.status===0)return;t.set("content.text",n+": "+r)});return a?s:(t.set("content.text",s),o)}}if("title"in t){if(!q(t.title)){t.button=t.title.button;t.title=t.title.text}R(t.title||o)&&(t.title=o)}}"position"in e&&q(e.position)&&(e.position={my:e.position,at:e.position});"show"in e&&q(e.show)&&(e.show=e.show.jquery?{target:e.show}:e.show===s?{ready:s}:{event:e.show});"hide"in e&&q(e.hide)&&(e.hide=e.hide.jquery?{target:e.hide}:{event:e.hide});"style"in e&&q(e.style)&&(e.style={classes:e.style});r.each(T,function(){this.sanitize&&this.sanitize(e)});return e}function z(e,t){var n=0,r,i=e,s=t.split(".");while(i=i[s[n++]])n<s.length&&(r=i);return[r||e,s.pop()]}function W(e,t){var n,r,i;for(n in this.checks)for(r in this.checks[n])if(i=(new RegExp(r,"i")).exec(e)){t.push(i);(n==="builtin"||this.plugins[n])&&this.checks[n][r].apply(this.plugins[n]||this,t)}}function J(e){return L.concat("").join(e?"-"+e+" ":" ")}function K(e){if(this.tooltip.hasClass(H))return o;clearTimeout(this.timers.show);clearTimeout(this.timers.hide);var t=r.proxy(function(){this.toggle(s,e)},this);this.options.show.delay>0?this.timers.show=setTimeout(t,this.options.show.delay):t()}function Q(e){if(this.tooltip.hasClass(H))return o;var t=r(e.relatedTarget),n=t.closest(A)[0]===this.tooltip[0],i=t[0]===this.options.show.target[0];clearTimeout(this.timers.show);clearTimeout(this.timers.hide);if(this!==t[0]&&this.options.position.target==="mouse"&&n||this.options.hide.fixed&&/mouse(out|leave|move)/.test(e.type)&&(n||i)){try{e.preventDefault();e.stopImmediatePropagation()}catch(s){}return}var u=r.proxy(function(){this.toggle(o,e)},this);this.options.hide.delay>0?this.timers.hide=setTimeout(u,this.options.hide.delay):u()}function G(e){if(this.tooltip.hasClass(H)||!this.options.hide.inactive)return o;clearTimeout(this.timers.inactive);this.timers.inactive=setTimeout(r.proxy(function(){this.hide(e)},this),this.options.hide.inactive)}function Y(e){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(e)}function et(e,n,i){r(t.body).delegate(e,(n.split?n:n.join(Z+" "))+Z,function(){var e=w.api[r.attr(this,k)];e&&!e.disabled&&i.apply(e,arguments)})}function tt(e,n,i){var a,f,l,c,h,p=r(t.body),d=e[0]===t?p:e,v=e.metadata?e.metadata(i.metadata):u,m=i.metadata.type==="html5"&&v?v[i.metadata.name]:u,g=e.data(i.metadata.name||"qtipopts");try{g=typeof g=="string"?r.parseJSON(g):g}catch(y){}c=r.extend(s,{},w.defaults,i,typeof g=="object"?U(g):u,U(m||v));f=c.position;c.id=n;if("boolean"==typeof c.content.text){l=e.attr(c.content.attr);if(c.content.attr===o||!l)return o;c.content.text=l}f.container.length||(f.container=p);f.target===o&&(f.target=d);c.show.target===o&&(c.show.target=d);c.show.solo===s&&(c.show.solo=f.container.closest("body"));c.hide.target===o&&(c.hide.target=d);c.position.viewport===s&&(c.position.viewport=f.container);f.container=f.container.eq(0);f.at=new S(f.at,s);f.my=new S(f.my);if(e.data(N))if(c.overwrite)e.qtip("destroy");
else if(c.overwrite===o)return o;e.attr(C,n);c.suppress&&(h=e.attr("title"))&&e.removeAttr("title").attr(j,h).attr("title","");a=new I(e,c,n,!!l);e.data(N,a);e.one("remove.qtip-"+n+" removeqtip.qtip-"+n,function(){var e;(e=r(this).data(N))&&e.destroy()});return a}function ht(e){return e.charAt(0).toUpperCase()+e.slice(1)}function vt(e,t){var r=t.charAt(0).toUpperCase()+t.slice(1),i=(t+" "+dt.join(r+" ")+r).split(" "),s,o,u=0;if(pt[t])return e.css(pt[t]);while(s=i[u++])if((o=e.css(s))!==n)return pt[t]=s,o}function mt(e,t){return parseInt(vt(e,t),10)}function gt(e,t){this._ns="tip";this.options=t;this.offset=t.offset;this.size=[t.width,t.height];this.init(this.qtip=e)}var s=!0,o=!1,u=null,a="x",f="y",l="width",c="height",h="top",p="left",d="bottom",v="right",m="center",g="flip",y="flipinvert",b="shift",w,E,S,x,T={},N="qtip",C="data-hasqtip",k="data-qtip-id",L=["ui-widget","ui-tooltip"],A="."+N,O="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),M=N+"-fixed",_=N+"-default",D=N+"-focus",P=N+"-hover",H=N+"-disabled",B="_replacedByqTip",j="oldtitle",F;BROWSER={ie:function(){var e=3,n=t.createElement("div");while(n.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")if(!n.getElementsByTagName("i")[0])break;return e>4?e:NaN}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||o};E=I.prototype;E.render=function(e){if(this.rendered||this.destroyed)return this;var t=this,n=this.options,i=this.cache,u=this.elements,a=n.content.text,f=n.content.title,l=n.content.button,c=n.position,h="."+this._id+" ",p=[];r.attr(this.target[0],"aria-describedby",this._id);this.tooltip=u.tooltip=tooltip=r("<div/>",{id:this._id,"class":[N,_,n.style.classes,N+"-pos-"+n.position.my.abbrev()].join(" "),width:n.style.width||"",height:n.style.height||"",tracking:c.target==="mouse"&&c.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":o,"aria-describedby":this._id+"-content","aria-hidden":s}).toggleClass(H,this.disabled).attr(k,this.id).data(N,this).appendTo(c.container).append(u.content=r("<div />",{"class":N+"-content",id:this._id+"-content","aria-atomic":s}));this.rendered=-1;this.positioning=s;if(f){this._createTitle();r.isFunction(f)||p.push(this._updateTitle(f,o))}l&&this._createButton();r.isFunction(a)||p.push(this._updateContent(a,o));this.rendered=s;this._setWidget();r.each(n.events,function(e,t){r.isFunction(t)&&tooltip.bind((e==="toggle"?["tooltipshow","tooltiphide"]:["tooltip"+e]).join(h)+h,t)});r.each(T,function(e){var n;this.initialize==="render"&&(n=this(t))&&(t.plugins[e]=n)});this._assignEvents();r.when.apply(r,p).then(function(){t._trigger("render");t.positioning=o;!t.hiddenDuringWait&&(n.show.ready||e)&&t.toggle(s,i.event,o);t.hiddenDuringWait=o});w.api[this.id]=this;return this};E.destroy=function(e){function t(){if(this.destroyed)return;this.destroyed=s;var e=this.target,t=e.attr(j);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove();r.each(this.plugins,function(e){this.destroy&&this.destroy()});clearTimeout(this.timers.show);clearTimeout(this.timers.hide);this._unassignEvents();e.removeData(N).removeAttr(k).removeAttr("aria-describedby");this.options.suppress&&t&&e.attr("title",t).removeAttr(j);this._unbind(e);this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=u;delete w.api[this.id]}if(this.destroyed)return this.target;if(e!==s&&this.rendered){tooltip.one("tooltiphidden",r.proxy(t,this));!this.triggering&&this.hide()}else t.call(this);return this.target};x=E.checks={builtin:{"^id$":function(e,t,n,i){var u=n===s?w.nextid:n,a=N+"-"+u;if(u!==o&&u.length>0&&!r("#"+a).length){this._id=a;if(this.rendered){this.tooltip[0].id=this._id;this.elements.content[0].id=this._id+"-content";this.elements.title[0].id=this._id+"-title"}}else e[t]=i},"^prerender":function(e,t,n){n&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(e,t,n){this._updateContent(n)},"^content.attr$":function(e,t,n,r){this.options.content.text===this.target.attr(r)&&this._updateContent(this.target.attr(n))},"^content.title$":function(e,t,n){if(!n)return this._removeTitle();n&&!this.elements.title&&this._createTitle();this._updateTitle(n)},"^content.button$":function(e,t,n){this._updateButton(n)},"^content.title.(text|button)$":function(e,t,n){this.set("content."+t,n)},"^position.(my|at)$":function(e,t,n){"string"==typeof n&&(e[t]=new S(n,t==="at"))},"^position.container$":function(e,t,n){this.tooltip.appendTo(n)},"^show.ready$":function(e,t,n){n&&(!this.rendered&&this.render(s)||this.toggle(s))},"^style.classes$":function(e,t,n,r){this.tooltip.removeClass(r).addClass(n)},"^style.width|height":function(e,t,n){this.tooltip.css(t,n)},"^style.widget|content.title":function(){this._setWidget()},"^style.def":function(e,t,n){this.tooltip.toggleClass(_,!!n)},"^events.(render|show|move|hide|focus|blur)$":function(e,t,n){tooltip[(r.isFunction(n)?"":"un")+"bind"]("tooltip"+t,n)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var e=this.options.position;tooltip.attr("tracking",e.target==="mouse"&&e.adjust.mouse);this._unassignEvents();this._assignEvents()}}};E.get=function(e){if(this.destroyed)return this;var t=z(this.options,e.toLowerCase()),n=t[0][t[1]];return n.precedance?n.string():n};var X=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,V=/^prerender|show\.ready/i;E.set=function(e,t){if(this.destroyed)return this;var n=this.rendered,i=o,a=this.options,f=this.checks,l;if("string"==typeof e){l=e;e={};e[l]=t}else e=r.extend({},e);r.each(e,function(t,s){if(!n&&!V.test(t)){delete e[t];return}var o=z(a,t.toLowerCase()),u;u=o[0][o[1]];o[0][o[1]]=s&&s.nodeType?r(s):s;i=X.test(t)||i;e[t]=[o[0],o[1],s,u]});U(a);this.positioning=s;r.each(e,r.proxy(W,this));this.positioning=o;this.rendered&&this.tooltip[0].offsetWidth>0&&i&&this.reposition(a.position.target==="mouse"?u:this.cache.event);return this};E._update=function(e,t,n){var i=this,a=this.cache;if(!this.rendered||!e)return o;r.isFunction(e)&&(e=e.call(this.elements.target,a.event,this)||"");if(r.isFunction(e.then)){a.waiting=s;return e.then(function(e){a.waiting=o;return i._update(e,t)},u,function(e){return i._update(e,t)})}if(e===o||!e&&e!=="")return o;e.jquery&&e.length>0?t.children().detach().end().append(e.css({display:"block"})):t.html(e);a.waiting=s;return(r.fn.imagesLoaded?t.imagesLoaded():r.Deferred().resolve(r([]))).done(function(e){a.waiting=o;e.length&&i.rendered&&i.tooltip[0].offsetWidth>0&&i.reposition(a.event,!e.length)}).promise()};E._updateContent=function(e,t){this._update(e,this.elements.content,t)};E._updateTitle=function(e,t){this._update(e,this.elements.title,t)===o&&this._removeTitle(o)};E._createTitle=function(){var e=this.elements,t=this._id+"-title";e.titlebar&&this._removeTitle();e.titlebar=r("<div />",{"class":N+"-titlebar "+(this.options.style.widget?J("header"):"")}).append(e.title=r("<div />",{id:t,"class":N+"-title","aria-atomic":s})).insertBefore(e.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(e){r(this).toggleClass("ui-state-active ui-state-focus",e.type.substr(-4)==="down")}).delegate(".qtip-close","mouseover mouseout",function(e){r(this).toggleClass("ui-state-hover",e.type==="mouseover")});this.options.content.button&&this._createButton()};E._removeTitle=function(e){var t=this.elements;if(t.title){t.titlebar.remove();t.titlebar=t.title=t.button=u;e!==o&&this.reposition()}};E.reposition=function(n,i){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=s;var u=this.cache,a=this.tooltip,f=this.options.position,l=f.target,c=f.my,g=f.at,y=f.viewport,b=f.container,w=f.adjust,E=w.method.split(" "),S=a.outerWidth(o),x=a.outerHeight(o),N=0,C=0,k=a.css("position"),L={left:0,top:0},A=a[0].offsetWidth>0,O=n&&n.type==="scroll",M=r(e),_=b[0].ownerDocument,D=this.mouse,P,H;if(r.isArray(l)&&l.length===2){g={x:p,y:h};L={left:l[0],top:l[1]}}else if(l==="mouse"&&(n&&n.pageX||u.event.pageX)){g={x:p,y:h};n=D&&D.pageX&&(w.mouse||!n||!n.pageX)?D:(!n||n.type!=="resize"&&n.type!=="scroll"?n&&n.pageX&&n.type==="mousemove"?n:(!w.mouse||this.options.show.distance)&&u.origin&&u.origin.pageX?u.origin:n:u.event)||n||u.event||D||{};k!=="static"&&(L=b.offset());_.body.offsetWidth!==(e.innerWidth||_.documentElement.clientWidth)&&(H=r(_.body).offset());L={left:n.pageX-L.left+(H&&H.left||0),top:n.pageY-L.top+(H&&H.top||0)};if(w.mouse&&O){L.left-=D.scrollX-M.scrollLeft();L.top-=D.scrollY-M.scrollTop()}}else{l==="event"&&n&&n.target&&n.type!=="scroll"&&n.type!=="resize"?u.target=r(n.target):l!=="event"&&(u.target=r(l.jquery?l:elements.target));l=u.target;l=r(l).eq(0);if(l.length===0)return this;if(l[0]===t||l[0]===e){N=BROWSER.iOS?e.innerWidth:l.width();C=BROWSER.iOS?e.innerHeight:l.height();l[0]===e&&(L={top:(y||l).scrollTop(),left:(y||l).scrollLeft()})}else if(T.imagemap&&l.is("area"))P=T.imagemap(this,l,g,T.viewport?E:o);else if(T.svg&&l[0].ownerSVGElement)P=T.svg(this,l,g,T.viewport?E:o);else{N=l.outerWidth(o);C=l.outerHeight(o);L=l.offset()}if(P){N=P.width;C=P.height;H=P.offset;L=P.position}L=this.reposition.offset(l,L,b);if(BROWSER.iOS>3.1&&BROWSER.iOS<4.1||BROWSER.iOS>=4.3&&BROWSER.iOS<4.33||!BROWSER.iOS&&k==="fixed"){L.left-=M.scrollLeft();L.top-=M.scrollTop()}if(!P||P&&P.adjustable!==o){L.left+=g.x===v?N:g.x===m?N/2:0;L.top+=g.y===d?C:g.y===m?C/2:0}}L.left+=w.x+(c.x===v?-S:c.x===m?-S/2:0);L.top+=w.y+(c.y===d?-x:c.y===m?-x/2:0);if(T.viewport){L.adjusted=T.viewport(this,L,f,N,C,S,x);H&&L.adjusted.left&&(L.left+=H.left);H&&L.adjusted.top&&(L.top+=H.top)}else L.adjusted={left:0,top:0};if(!this._trigger("move",[L,y.elem||y],n))return this;delete L.adjusted;if(i===o||!A||isNaN(L.left)||isNaN(L.top)||l==="mouse"||!r.isFunction(f.effect))a.css(L);else if(r.isFunction(f.effect)){f.effect.call(a,this,r.extend({},L));a.queue(function(e){r(this).css({opacity:"",height:""});BROWSER.ie&&this.style.removeAttribute("filter");e()})}this.positioning=o;return this};E.reposition.offset=function(e,n,i){function h(e,t){n.left+=t*e.scrollLeft();n.top+=t*e.scrollTop()}if(!i[0])return n;var s=r(e[0].ownerDocument),o=!!BROWSER.ie&&t.compatMode!=="CSS1Compat",u=i[0],a,f,l,c;do if((f=r.css(u,"position"))!=="static"){if(f==="fixed"){l=u.getBoundingClientRect();h(s,-1)}else{l=r(u).position();l.left+=parseFloat(r.css(u,"borderLeftWidth"))||0;l.top+=parseFloat(r.css(u,"borderTopWidth"))||0}n.left-=l.left+(parseFloat(r.css(u,"marginLeft"))||0);n.top-=l.top+(parseFloat(r.css(u,"marginTop"))||0);!a&&(c=r.css(u,"overflow"))!=="hidden"&&c!=="visible"&&(a=r(u))}while(u=u.offsetParent);a&&(a[0]!==s[0]||o)&&h(a,1);return n};var $=(S=E.reposition.Corner=function(e,t){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,m).toLowerCase();this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase();this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();this.forceY=!!t;var n=e.charAt(0);this.precedance=n==="t"||n==="b"?f:a}).prototype;$.invert=function(e,t){this[e]=this[e]===p?v:this[e]===v?p:t||this[e]};$.string=function(){var e=this.x,t=this.y;return e===t?e:this.precedance===f||this.forceY&&t!=="center"?t+" "+e:e+" "+t};$.abbrev=function(){var e=this.string().split(" ");return e[0].charAt(0)+(e[1]&&e[1].charAt(0)||"")};$.clone=function(){return new S(this.string(),this.forceY)};E.toggle=function(e,n){var i=this.cache,a=this.options,f=this.tooltip;if(n){if(/over|enter/.test(n.type)&&/out|leave/.test(i.event.type)&&a.show.target.add(n.target).length===a.show.target.length&&f.has(n.relatedTarget).length)return this;i.event=r.extend({},n)}this.waiting&&!e&&(this.hiddenDuringWait=s);if(!this.rendered)return e?this.render(1):this;if(this.destroyed||this.disabled)return this;var l=e?"show":"hide",c=this.options[l],h=this.options[e?"hide":"show"],p=this.options.position,d=this.options.content,v=this.tooltip.css("width"),m=this.tooltip[0].offsetWidth>0,g=e||c.target.length===1,y=!n||c.target.length<2||i.target[0]===n.target,b,w,E,S;(typeof e).search("boolean|number")&&(e=!m);b=!f.is(":animated")&&m===e&&y;w=b?u:!!this._trigger(l,[90]);w!==o&&e&&this.focus(n);if(!w||b)return this;r.attr(f[0],"aria-hidden",!e);if(e){i.origin=r.extend({},this.mouse);r.isFunction(d.text)&&this._updateContent(d.text,o);r.isFunction(d.title)&&this._updateTitle(d.title,o);if(!F&&p.target==="mouse"&&p.adjust.mouse){r(t).bind("mousemove."+N,this._storeMouse);F=s}v||f.css("width",f.outerWidth(o));this.reposition(n,arguments[2]);v||f.css("width","");!c.solo||(typeof c.solo=="string"?r(c.solo):r(A,c.solo)).not(f).not(c.target).qtip("hide",r.Event("tooltipsolo"))}else{clearTimeout(this.timers.show);delete i.origin;if(F&&!r(A+'[tracking="true"]:visible',c.solo).not(f).length){r(t).unbind("mousemove."+N);F=o}this.blur(n)}after=r.proxy(function(){if(e){BROWSER.ie&&f[0].style.removeAttribute("filter");f.css("overflow","");"string"==typeof c.autofocus&&r(this.options.show.autofocus,f).focus();this.options.show.target.trigger("qtip-"+this.id+"-inactive")}else f.css({display:"",visibility:"",opacity:"",left:"",top:""});this._trigger(e?"visible":"hidden")},this);if(c.effect===o||g===o){f[l]();after()}else if(r.isFunction(c.effect)){f.stop(1,1);c.effect.call(f,this);f.queue("fx",function(e){after();e()})}else f.fadeTo(90,e?1:0,after);e&&c.target.trigger("qtip-"+this.id+"-inactive");return this};E.show=function(e){return this.toggle(s,e)};E.hide=function(e){return this.toggle(o,e)};E.focus=function(e){if(!this.rendered||this.destroyed)return this;var t=r(A),n=this.tooltip,i=parseInt(n[0].style.zIndex,10),s=w.zindex+t.length,o;if(!n.hasClass(D)&&this._trigger("focus",[s],e)){if(i!==s){t.each(function(){this.style.zIndex>i&&(this.style.zIndex=this.style.zIndex-1)});t.filter("."+D).qtip("blur",e)}n.addClass(D)[0].style.zIndex=s}return this};E.blur=function(e){if(!this.rendered||this.destroyed)return this;this.tooltip.removeClass(D);this._trigger("blur",[this.tooltip.css("zIndex")],e);return this};E.disable=function(e){if(this.destroyed)return this;"boolean"!=typeof e&&(e=!this.tooltip.hasClass(H)&&!this.disabled);this.rendered&&this.tooltip.toggleClass(H,e).attr("aria-disabled",e);this.disabled=!!e;return this};E.enable=function(){return this.disable(o)};E._createButton=function(){var e=this,t=this.elements,n=t.tooltip,i=this.options.content.button,s=typeof i=="string",u=s?i:"Close tooltip";t.button&&t.button.remove();i.jquery?t.button=i:t.button=r("<a />",{"class":"qtip-close "+(this.options.style.widget?"":N+"-icon"),title:u,"aria-label":u}).prepend(r("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"}));t.button.appendTo(t.titlebar||n).attr("role","button").click(function(t){n.hasClass(H)||e.hide(t);return o})};E._updateButton=function(e){if(!this.rendered)return o;var t=this.elements.button;e?this._createButton():t.remove()};E._setWidget=function(){var e=this.options.style.widget,t=this.elements,n=t.tooltip,r=n.hasClass(H);n.removeClass(H);H=e?"ui-state-disabled":"qtip-disabled";n.toggleClass(H,r);n.toggleClass("ui-helper-reset "+J(),e).toggleClass(_,this.options.style.def&&!e);t.content&&t.content.toggleClass(J("content"),e);t.titlebar&&t.titlebar.toggleClass(J("header"),e);t.button&&t.button.toggleClass(N+"-icon",!e)};E._storeMouse=function(n){this.mouse={pageX:n.pageX,pageY:n.pageY,type:"mousemove",scrollX:e.pageXOffset||t.body.scrollLeft||t.documentElement.scrollLeft,scrollY:e.pageYOffset||t.body.scrollTop||t.documentElement.scrollTop}};E._bind=function(e,t,n,i,s){var o="."+this._id+(i?"-"+i:"");t.length&&r(e).bind((t.split?t:t.join(o+" "))+o,r.proxy(n,s||this))};E._unbind=function(e,t){r(e).unbind("."+this._id+(t?"-"+t:""))};var Z="."+N;r(function(){et(A,["mouseenter","mouseleave"],function(e){var t=e.type==="mouseenter",n=r(e.currentTarget),i=r(e.relatedTarget||e.target),s=this.options;if(t){this.focus(e);n.hasClass(M)&&!n.hasClass(H)&&clearTimeout(this.timers.hide)}else s.position.target==="mouse"&&s.hide.event&&s.show.target&&!i.closest(s.show.target[0]).length&&this.hide(e);n.toggleClass(P,t)});et("["+k+"]",O,G)});E._trigger=function(e,t,n){var i=r.Event("tooltip"+e);i.originalEvent=n&&r.extend({},n)||this.cache.event||u;this.triggering=s;this.tooltip.trigger(i,[this].concat(t||[]));this.triggering=o;return!i.isDefaultPrevented()};E._assignEvents=function(){var n=this.options,i=n.position,s=this.tooltip,o=n.show.target,u=n.hide.target,a=i.container,f=i.viewport,l=r(t),c=r(t.body),h=r(e),p=n.show.event?r.trim(""+n.show.event).split(" "):[],d=n.hide.event?r.trim(""+n.hide.event).split(" "):[],v=[];/mouse(out|leave)/i.test(n.hide.event)&&n.hide.leave==="window"&&this._bind(l,["mouseout","blur"],function(e){!/select|option/.test(e.target.nodeName)&&!e.relatedTarget&&this.hide(e)});n.hide.fixed?u=u.add(s.addClass(M)):/mouse(over|enter)/i.test(n.show.event)&&this._bind(u,"mouseleave",function(){clearTimeout(this.timers.show)});(""+n.hide.event).indexOf("unfocus")>-1&&this._bind(a.closest("html"),["mousedown","touchstart"],function(e){var t=r(e.target),n=this.rendered&&!this.tooltip.hasClass(H)&&this.tooltip[0].offsetWidth>0,i=t.parents(A).filter(this.tooltip[0]).length>0;t[0]!==this.target[0]&&t[0]!==this.tooltip[0]&&!i&&!this.target.has(t[0]).length&&n&&this.hide(e)});if("number"==typeof n.hide.inactive){this._bind(o,"qtip-"+this.id+"-inactive",G);this._bind(u.add(s),w.inactiveEvents,G,"-inactive")}d=r.map(d,function(e){var t=r.inArray(e,p);if(t>-1&&u.add(o).length===u.length){v.push(p.splice(t,1)[0]);return}return e});this._bind(o,p,K);this._bind(u,d,Q);this._bind(o,v,function(e){(this.tooltip[0].offsetWidth>0?Q:K).call(this,e)});this._bind(o.add(s),"mousemove",function(e){if("number"==typeof n.hide.distance){var t=this.cache.origin||{},r=this.options.hide.distance,i=Math.abs;(i(e.pageX-t.pageX)>=r||i(e.pageY-t.pageY)>=r)&&this.hide(e)}this._storeMouse(e)});if(i.target==="mouse"&&i.adjust.mouse){n.hide.event&&this._bind(o,["mouseenter","mouseleave"],function(e){this.cache.onTarget=e.type==="mouseenter"});this._bind(l,"mousemove",function(e){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(H)&&this.tooltip[0].offsetWidth>0&&this.reposition(e)})}(i.adjust.resize||f.length)&&this._bind(r.event.special.resize?f:h,"resize",Y);i.adjust.scroll&&this._bind(h.add(i.container),"scroll",Y)};E._unassignEvents=function(){var n=[this.options.show.target[0],this.options.hide.target[0],this.rendered&&this.tooltip[0],this.options.position.container[0],this.options.position.viewport[0],this.options.position.container.closest("html")[0],e,t];this.rendered?this._unbind(r([]).pushStack(r.grep(n,function(e){return typeof e=="object"}))):r(n[0]).unbind("."+this._id+"-create")};w=r.fn.qtip=function(e,t,i){var a=(""+e).toLowerCase(),f=u,l=r.makeArray(arguments).slice(1),c=l[l.length-1],h=this[0]?r.data(this[0],N):u;if(!arguments.length&&h||a==="api")return h;if("string"==typeof e){this.each(function(){var e=r.data(this,N);if(!e)return s;c&&c.timeStamp&&(e.cache.event=c);if(!t||a!=="option"&&a!=="options")e[a]&&e[a].apply(e,l);else{if(i===n&&!r.isPlainObject(t)){f=e.get(t);return o}e.set(t,i)}});return f!==u?f:this}if("object"==typeof e||!arguments.length){h=U(r.extend(s,{},e));return w.bind.call(this,h,c)}};w.bind=function(e,t){return this.each(function(i){function p(e){function t(){c.render(typeof e=="object"||u.show.ready);a.show.add(a.hide).unbind(l)}if(c.disabled)return o;c.cache.event=r.extend({},e);c.cache.target=e?r(e.target):[n];if(u.show.delay>0){clearTimeout(c.timers.show);c.timers.show=setTimeout(t,u.show.delay);f.show!==f.hide&&a.hide.bind(f.hide,function(){clearTimeout(c.timers.show)})}else t()}var u,a,f,l,c,h;h=r.isArray(e.id)?e.id[i]:e.id;h=!h||h===o||h.length<1||w.api[h]?w.nextid++:h;l=".qtip-"+h+"-create";c=tt(r(this),h,e);if(c===o)return s;w.api[h]=c;u=c.options;r.each(T,function(){this.initialize==="initialize"&&this(c)});a={show:u.show.target,hide:u.hide.target};f={show:r.trim(""+u.show.event).replace(/ /g,l+" ")+l,hide:r.trim(""+u.hide.event).replace(/ /g,l+" ")+l};/mouse(over|enter)/i.test(f.show)&&!/mouse(out|leave)/i.test(f.hide)&&(f.hide+=" mouseleave"+l);a.show.bind("mousemove"+l,function(e){c._storeMouse(e);c.cache.onTarget=s});a.show.bind(f.show,p);(u.show.ready||u.prerender)&&p(t)})};w.api={};r.each({attr:function(e,t){if(this.length){var n=this[0],i="title",s=r.data(n,"qtip");if(e===i&&s&&"object"==typeof s&&s.options.suppress){if(arguments.length<2)return r.attr(n,j);s&&s.options.content.attr===i&&s.cache.attr&&s.set("content.text",t);return this.attr(j,t)}}return r.fn["attr"+B].apply(this,arguments)},clone:function(e){var t=r([]),n="title",i=r.fn["clone"+B].apply(this,arguments);e||i.filter("["+j+"]").attr("title",function(){return r.attr(this,j)}).removeAttr(j);return i}},function(e,t){if(!t||r.fn[e+B])return s;var n=r.fn[e+B]=r.fn[e];r.fn[e]=function(){return t.apply(this,arguments)||n.apply(this,arguments)}});if(!r.ui){r["cleanData"+B]=r.cleanData;r.cleanData=function(e){for(var t=0,n;(n=r(e[t])).length;t++)if(n.attr(C))try{n.triggerHandler("removeqtip")}catch(i){}r["cleanData"+B].apply(this,arguments)}}w.version="2.1.1";w.nextid=0;w.inactiveEvents=O;w.zindex=15e3;w.defaults={prerender:o,id:o,overwrite:s,suppress:s,content:{text:s,attr:"title",title:o,button:o},position:{my:"top left",at:"bottom right",target:o,container:o,viewport:o,adjust:{x:0,y:0,mouse:s,scroll:s,resize:s,method:"flipinvert flipinvert"},effect:function(e,t,n){r(this).animate(t,{duration:200,queue:o})}},show:{target:o,event:"mouseenter",effect:s,delay:90,solo:o,ready:o,autofocus:o},hide:{target:o,event:"mouseleave",effect:s,delay:0,fixed:o,inactive:o,leave:"window",distance:o},style:{classes:"",widget:o,width:o,height:o,def:s},events:{render:u,move:u,show:u,hide:u,toggle:u,visible:u,hidden:u,focus:u,blur:u}};var nt,rt=".qtip-tip",it="margin",st="border",ot="color",ut="background-color",at="transparent",ft=" !important",lt=!!t.createElement("canvas").getContext,ct=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,pt={},dt=["Webkit","O","Moz","ms"];lt||(createVML=function(e,t,n){return"<qtipvml:"+e+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(t||"")+' style="behavior: url(#default#VML); '+(n||"")+'" />'});r.extend(gt.prototype,{init:function(e){var t,n;n=this.element=e.elements.tip=r("<div />",{"class":N+"-tip"}).prependTo(e.tooltip);if(lt){t=r("<canvas />").appendTo(this.element)[0].getContext("2d");t.lineJoin="miter";t.miterLimit=100;t.save()}else{t=createVML("shape",'coordorigin="0,0"',"position:absolute;");this.element.html(t+t);e._bind(r("*",n).add(n),["click","mousedown"],function(e){e.stopPropagation()},this._ns)}e._bind(e.tooltip,"tooltipmove",this.reposition,this._ns,this);this.create()},_swapDimensions:function(){this.size[0]=this.options.height;this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width;this.size[1]=this.options.height},_useTitle:function(e){var t=this.qtip.elements.titlebar;return t&&(e.y===h||e.y===m&&this.element.position().top+this.size[1]/2+this.options.offset<t.outerHeight(s))},_parseCorner:function(e){var t=this.qtip.options.position.my;if(e===o||t===o)e=o;else if(e===s)e=new S(t.string());else if(!e.string){e=new S(e);e.fixed=s}return e},_parseWidth:function(e,t,n){var r=this.qtip.elements,i=st+ht(t)+"Width";return(n?mt(n,i):mt(r.content,i)||mt(this._useTitle(e)&&r.titlebar||r.content,i)||mt(tooltip,i))||0},_parseRadius:function(e){var t=this.qtip.elements,n=st+ht(e.y)+ht(e.x)+"Radius";return BROWSER.ie<9?0:mt(this._useTitle(e)&&t.titlebar||t.content,n)||mt(t.tooltip,n)||0},_invalidColour:function(e,t,n){var r=e.css(t);return!r||n&&r===e.css(n)||ct.test(r)?o:r},_parseColours:function(e){var t=this.qtip.elements,n=this.element.css("cssText",""),i=st+ht(e[e.precedance])+ht(ot),s=this._useTitle(e)&&t.titlebar||t.content,o=this._invalidColour,u=[];u[0]=o(n,ut)||o(s,ut)||o(t.content,ut)||o(tooltip,ut)||n.css(ut);u[1]=o(n,i,ot)||o(s,i,ot)||o(t.content,i,ot)||o(tooltip,i,ot)||tooltip.css(i);r("*",n).add(n).css("cssText",ut+":"+at+ft+";"+st+":0"+ft+";");return u},_calculateSize:function(e){var t=e.precedance===f,n=this.options[t?"height":"width"],r=this.options[t?"width":"height"],i=e.abbrev()==="c",s=n*(i?.5:1),o=Math.pow,u=Math.round,a,l,c,h=Math.sqrt(o(s,2)+o(r,2)),p=[this.border/s*h,this.border/r*h];p[2]=Math.sqrt(o(p[0],2)-o(this.border,2));p[3]=Math.sqrt(o(p[1],2)-o(this.border,2));a=h+p[2]+p[3]+(i?0:p[0]);l=a/h;c=[u(l*n),u(l*r)];return t?c:c.reverse()},_calculateTip:function(e){var t=this.size[0],n=this.size[1],r=Math.ceil(t/2),i=Math.ceil(n/2),s={br:[0,0,t,n,t,0],bl:[0,0,t,0,0,n],tr:[0,n,t,0,t,n],tl:[0,0,0,n,t,n],tc:[0,n,r,0,t,n],bc:[0,0,t,0,r,n],rc:[0,0,t,i,0,n],lc:[t,0,t,n,0,i]};s.lt=s.br;s.rt=s.bl;s.lb=s.tr;s.rb=s.tl;return s[e.abbrev()]},create:function(){var e=this.corner=(lt||BROWSER.ie)&&this._parseCorner(this.options.corner);if(this.enabled=!!this.corner&&this.corner.abbrev()!=="c"){this.qtip.cache.corner=e.clone();this.update()}this.element.toggle(this.enabled);return this.corner},update:function(e,t){if(!this.enabled)return this;var n=this.qtip.elements,i=this.element,u=i.children(),g=this.options,y=this.size,b=g.mimic,w=Math.round,E,x,T,N,C,k,L;e||(e=this.qtip.cache.corner||this.corner);if(b===o)b=e;else{b=new S(b);b.precedance=e.precedance;b.x==="inherit"?b.x=e.x:b.y==="inherit"?b.y=e.y:b.x===b.y&&(b[e.precedance]=e[e.precedance])}x=b.precedance;e.precedance===a?this._swapDimensions():this._resetDimensions();E=this.color=this._parseColours(e);if(E[1]!==at){L=this.border=this._parseWidth(e,e[e.precedance]);g.border&&L<1&&(E[0]=E[1]);this.border=L=g.border!==s?g.border:L}else this.border=L=0;N=this._calculateTip(b);k=this.size=this._calculateSize(e);i.css({width:k[0],height:k[1],lineHeight:k[1]+"px"});e.precedance===f?C=[w(b.x===p?L:b.x===v?k[0]-y[0]-L:(k[0]-y[0])/2),w(b.y===h?k[1]-y[1]:0)]:C=[w(b.x===p?k[0]-y[0]:0),w(b.y===h?L:b.y===d?k[1]-y[1]-L:(k[1]-y[1])/2)];if(lt){u.attr(l,k[0]).attr(c,k[1]);T=u[0].getContext("2d");T.restore();T.save();T.clearRect(0,0,3e3,3e3);T.fillStyle=E[0];T.strokeStyle=E[1];T.lineWidth=L*2;T.translate(C[0],C[1]);T.beginPath();T.moveTo(N[0],N[1]);T.lineTo(N[2],N[3]);T.lineTo(N[4],N[5]);T.closePath();if(L){if(tooltip.css("background-clip")==="border-box"){T.strokeStyle=E[0];T.stroke()}T.strokeStyle=E[1];T.stroke()}T.fill()}else{N="m"+N[0]+","+N[1]+" l"+N[2]+","+N[3]+" "+N[4]+","+N[5]+" xe";C[2]=L&&/^(r|b)/i.test(e.string())?BROWSER.ie===8?2:1:0;u.css({coordsize:y[0]+L+" "+(y[1]+L),antialias:""+(b.string().indexOf(m)>-1),left:C[0]-C[2]*Number(x===a),top:C[1]-C[2]*Number(x===f),width:y[0]+L,height:y[1]+L}).each(function(e){var t=r(this);t[t.prop?"prop":"attr"]({coordsize:y[0]+L+" "+(y[1]+L),path:N,fillcolor:E[0],filled:!!e,stroked:!e}).toggle(!!L||!!e);!e&&t.html(createVML("stroke",'weight="'+L*2+'px" color="'+E[1]+'" miterlimit="1000" joinstyle="miter"'))})}t!==o&&this.calculate(e)},calculate:function(e){if(!this.enabled)return o;var t=this,n=this.qtip.elements,i=this.element,s=this.options.offset,u=this.qtip.tooltip.hasClass("ui-widget"),l={},c,d,v;e=e||this.corner;c=e.precedance;d=this._calculateSize(e);v=[e.x,e.y];c===a&&v.reverse();r.each(v,function(r,i){var o,u,a;if(i===m){o=c===f?p:h;l[o]="50%";l[it+"-"+o]=-Math.round(d[c===f?0:1]/2)+s}else{o=t._parseWidth(e,i,n.tooltip);u=t._parseWidth(e,i,n.content);a=t._parseRadius(e);l[i]=Math.max(-t.border,r?u:s+(a>o?a:-o))}});l[e[c]]-=d[c===a?0:1];i.css({margin:"",top:"",bottom:"",left:"",right:""}).css(l);return l},reposition:function(e,t,r,i){if(!this.enabled)return;var u=t.cache,l=this.corner.clone(),c=r.adjusted,g=t.options.position.adjust.method.split(" "),y=g[0],w=g[1]||g[0],E={left:o,top:o,x:0,y:0},S,x={},T;if(this.corner.fixed!==s){y===b&&l.precedance===a&&c.left&&l.y!==m?l.precedance=l.precedance===a?f:a:y!==b&&c.left&&(l.x=l.x===m?c.left>0?p:v:l.x===p?v:p);w===b&&l.precedance===f&&c.top&&l.x!==m?l.precedance=l.precedance===f?a:f:w!==b&&c.top&&(l.y=l.y===m?c.top>0?h:d:l.y===h?d:h);l.string()!==u.corner.string()&&(u.cornerTop!==c.top||u.cornerLeft!==c.left)&&this.update(l,o)}S=this.calculate(l,c);S.right!==n&&(S.left=-S.right);S.bottom!==n&&(S.top=-S.bottom);S.user=this.offset;if(E.left=y===b&&!!c.left)if(l.x===m)x[it+"-left"]=E.x=S[it+"-left"]-c.left;else{T=S.right!==n?[c.left,-S.left]:[-c.left,S.left];if((E.x=Math.max(T[0],T[1]))>T[0]){r.left-=c.left;E.left=o}x[S.right!==n?v:p]=E.x}if(E.top=w===b&&!!c.top)if(l.y===m)x[it+"-top"]=E.y=S[it+"-top"]-c.top;else{T=S.bottom!==n?[c.top,-S.top]:[-c.top,S.top];if((E.y=Math.max(T[0],T[1]))>T[0]){r.top-=c.top;E.top=o}x[S.bottom!==n?d:h]=E.y}this.element.css(x).toggle(!(E.x&&E.y||l.x===m&&E.y||l.y===m&&E.x));r.left-=S.left.charAt?S.user:y!==b||E.top||!E.left&&!E.top?S.left:0;r.top-=S.top.charAt?S.user:w!==b||E.left||!E.left&&!E.top?S.top:0;u.cornerLeft=c.left;u.cornerTop=c.top;u.corner=l.clone()},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns);this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}});nt=T.tip=function(e){return new gt(e,e.options.style.tip)};nt.initialize="render";nt.sanitize=function(e){if(e.style&&"tip"in e.style){opts=e.style.tip;typeof opts!="object"&&(opts=e.style.tip={corner:opts});/string|boolean/i.test(typeof opts.corner)||(opts.corner=s)}};x.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create();this.qtip.reposition()},"^style.tip.(height|width)$":function(e){this.size=size=[e.width,e.height];this.update();this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}};r.extend(s,w.defaults,{style:{tip:{corner:s,mimic:o,width:6,height:6,border:s,offset:0}}});T.polys={polygon:function(e,t){var n={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:o},r=0,i,s=[],u=1,a=1,f=0,l=0,c,g;r=e.length;while(r--){i=[parseInt(e[--r],10),parseInt(e[r+1],10)];i[0]>n.position.right&&(n.position.right=i[0]);i[0]<n.position.left&&(n.position.left=i[0]);i[1]>n.position.bottom&&(n.position.bottom=i[1]);i[1]<n.position.top&&(n.position.top=i[1]);s.push(i)}c=n.width=Math.abs(n.position.right-n.position.left);g=n.height=Math.abs(n.position.bottom-n.position.top);if(t.abbrev()==="c")n.position={left:n.position.left+n.width/2,top:n.position.top+n.height/2};else{while(c>0&&g>0&&u>0&&a>0){c=Math.floor(c/2);g=Math.floor(g/2);t.x===p?u=c:t.x===v?u=n.width-c:u+=Math.floor(c/2);t.y===h?a=g:t.y===d?a=n.height-g:a+=Math.floor(g/2);r=s.length;while(r--){if(s.length<2)break;f=s[r][0]-n.position.left;l=s[r][1]-n.position.top;(t.x===p&&f>=u||t.x===v&&f<=u||t.x===m&&(f<u||f>n.width-u)||t.y===h&&l>=a||t.y===d&&l<=a||t.y===m&&(l<a||l>n.height-a))&&s.splice(r,1)}}n.position={left:s[0][0],top:s[0][1]}}return n},rect:function(e,t,n,r,i){return{width:Math.abs(n-e),height:Math.abs(r-t),position:{left:Math.min(e,n),top:Math.min(t,r)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(e,t,n,r,i){var s=T.polys._angles[i.abbrev()],u=n*Math.cos(s*Math.PI),a=r*Math.sin(s*Math.PI);return{width:n*2-Math.abs(u),height:r*2-Math.abs(a),position:{left:e+u,top:t+a},adjustable:o}},circle:function(e,t,n,r){return T.polys.ellipse(e,t,n,n,r)}};T.svg=function(e,n,s,u){var a=r(t),f=n[0],l={},c,h,p,d;while(!f.getBBox)f=f.parentNode;if(!f.getBBox||!f.parentNode)return o;switch(f.nodeName){case"rect":p=T.svg.toPixel(f,f.x.baseVal.value,f.y.baseVal.value);d=T.svg.toPixel(f,f.x.baseVal.value+f.width.baseVal.value,f.y.baseVal.value+f.height.baseVal.value);l=T.polys.rect(p[0],p[1],d[0],d[1],s);break;case"ellipse":case"circle":p=T.svg.toPixel(f,f.cx.baseVal.value,f.cy.baseVal.value);l=T.polys.ellipse(p[0],p[1],(f.rx||f.r).baseVal.value,(f.ry||f.r).baseVal.value,s);break;case"line":case"polygon":case"polyline":points=f.points||[{x:f.x1.baseVal.value,y:f.y1.baseVal.value},{x:f.x2.baseVal.value,y:f.y2.baseVal.value}];for(l=[],i=-1,len=points.numberOfItems||points.length;++i<len;){next=points.getItem?points.getItem(i):points[i];l.push.apply(l,T.svg.toPixel(f,next.x,next.y))}l=T.polys.polygon(l,s);break;default:h=f.getBBox();mtx=f.getScreenCTM();root=f.farthestViewportElement||f;if(!root.createSVGPoint)return o;point=root.createSVGPoint();point.x=h.x;point.y=h.y;tPoint=point.matrixTransform(mtx);l.position={left:tPoint.x,top:tPoint.y};point.x+=h.width;point.y+=h.height;tPoint=point.matrixTransform(mtx);l.width=tPoint.x-l.position.left;l.height=tPoint.y-l.position.top}l.position.left+=a.scrollLeft();l.position.top+=a.scrollTop();return l};T.svg.toPixel=function(e,t,n){var r=e.getScreenCTM(),i=e.farthestViewportElement||e,s,u;if(!i.createSVGPoint)return o;u=i.createSVGPoint();u.x=t;u.y=n;s=u.matrixTransform(r);return[s.x,s.y]}})})(window,document);(function(){function e(e,t,n){e.addEventListener?e.addEventListener(t,n,!1
):e.attachEvent("on"+t,n)}function t(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);e.shiftKey||(t=t.toLowerCase());return" "==t?"space":t}return c[e.which]?c[e.which]:h[e.which]?h[e.which]:String.fromCharCode(e.which).toLowerCase()}function n(e){e=e||{};var t=!1,n;for(n in y)e[n]?t=!0:y[n]=0;t||(S=!1)}function r(e,t,n,r,i,s){var o,a,f=[],l=n.type;if(!m[e])return[];"keyup"==l&&u(e)&&(t=[e]);for(o=0;o<m[e].length;++o)if(a=m[e][o],!(!r&&a.seq&&y[a.seq]!=a.level||l!=a.action||("keypress"!=l||n.metaKey||n.ctrlKey)&&t.sort().join(",")!==a.modifiers.sort().join(","))){var c=r&&a.seq==r&&a.level==s;(!r&&a.combo==i||c)&&m[e].splice(o,1);f.push(a)}return f}function i(e){var t=[];e.shiftKey&&t.push("shift");e.altKey&&t.push("alt");e.ctrlKey&&t.push("ctrl");e.metaKey&&t.push("meta");return t}function s(e,t,n){T.stopCallback(t,t.target||t.srcElement,n)||!1!==e(t,n)||(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.returnValue=!1,t.cancelBubble=!0)}function o(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=t(e);n&&("keyup"==e.type&&w===n?w=!1:T.handleKey(n,i(e),e))}function u(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function a(e,r,i,o){function u(t){return function(){S=t;++y[e];clearTimeout(b);b=setTimeout(n,1e3)}}function a(r){s(i,r,e);"keyup"!==o&&(w=t(r));setTimeout(n,10)}for(var c=y[e]=0;c<r.length;++c){var h=c+1===r.length?a:u(o||f(r[c+1]).action);l(r[c],h,o,e,c)}}function f(e,t){var n,r,i,s=[];n="+"===e?["+"]:e.split("+");for(i=0;i<n.length;++i)r=n[i],d[r]&&(r=d[r]),t&&"keypress"!=t&&p[r]&&(r=p[r],s.push("shift")),u(r)&&s.push(r);n=r;i=t;if(!i){if(!v){v={};for(var o in c)95<o&&112>o||c.hasOwnProperty(o)&&(v[c[o]]=o)}i=v[n]?"keydown":"keypress"}"keypress"==i&&s.length&&(i="keydown");return{key:r,modifiers:s,action:i}}function l(e,t,n,i,s){g[e+":"+n]=t;e=e.replace(/\s+/g," ");var o=e.split(" ");1<o.length?a(e,o,t,n):(n=f(e,n),m[n.key]=m[n.key]||[],r(n.key,n.modifiers,{type:n.action},i,e,s),m[n.key][i?"unshift":"push"]({callback:t,modifiers:n.modifiers,action:n.action,seq:i,level:s,combo:e}))}for(var c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},h={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},p={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},d={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},v,m={},g={},y={},b,w=!1,E=!1,S=!1,x=1;20>x;++x)c[111+x]="f"+x;for(x=0;9>=x;++x)c[x+96]=x;e(document,"keypress",o);e(document,"keydown",o);e(document,"keyup",o);var T={bind:function(e,t,n){e=e instanceof Array?e:[e];for(var r=0;r<e.length;++r)l(e[r],t,n);return this},unbind:function(e,t){return T.bind(e,function(){},t)},trigger:function(e,t){g[e+":"+t]&&g[e+":"+t]({},e);return this},reset:function(){m={};g={};return this},stopCallback:function(e,t){return-1<(" "+t.className+" ").indexOf(" mousetrap ")?!1:"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.contentEditable&&"true"==t.contentEditable},handleKey:function(e,t,i){var o=r(e,t,i),a;t={};var f=0,l=!1;for(a=0;a<o.length;++a)o[a].seq&&(f=Math.max(f,o[a].level));for(a=0;a<o.length;++a)o[a].seq?o[a].level==f&&(l=!0,t[o[a].seq]=1,s(o[a].callback,i,o[a].combo)):l||s(o[a].callback,i,o[a].combo);o="keypress"==i.type&&E;i.type!=S||u(e)||o||n(t);E=l&&"keydown"==i.type}};window.Mousetrap=T;"function"==typeof define&&define.amd&&define(T)})();Mousetrap=function(e){var t={},n=e.stopCallback;e.stopCallback=function(e,r,i){return t[i]?!1:n(e,r,i)};e.bindGlobal=function(n,r,i){e.bind(n,r,i);if(n instanceof Array)for(r=0;r<n.length;r++)t[n[r]]=!0;else t[n]=!0};return e}(Mousetrap);(function(e,t){"use strict";var n=e.document,r,i=function(e,i,s){var o=this,u,a,f,l,c,p,d={updated:[]};this.listContainer=typeof e=="string"?n.getElementById(e):e;if(!this.listContainer)return;this.items=[];this.visibleItems=[];this.matchingItems=[];this.searched=!1;this.filtered=!1;this.list=null;this.templateEngines={};this.page=i.page||200;this.i=i.i||1;a={start:function(e,t){t.plugins=t.plugins||{};this.classes(t);u=new c(o,t);this.callbacks(t);this.items.start(e,t);o.update();this.plugins(t.plugins)},classes:function(e){e.listClass=e.listClass||"list";e.searchClass=e.searchClass||"search";e.sortClass=e.sortClass||"sort"},callbacks:function(e){o.list=r.getByClass(e.listClass,o.listContainer,!0);r.addEvent(r.getByClass(e.searchClass,o.listContainer),"keyup",o.search);p=r.getByClass(e.sortClass,o.listContainer);r.addEvent(p,"click",o.sort)},items:{start:function(e,n){if(n.valueNames){var r=this.get(),i=n.valueNames;n.indexAsync?this.indexAsync(r,i):this.index(r,i)}e!==t&&o.add(e)},get:function(){var e=o.list.childNodes,n=[];for(var r=0,i=e.length;r<i;r++)e[r].data===t&&n.push(e[r]);return n},index:function(e,t){for(var n=0,r=e.length;n<r;n++)o.items.push(new l(t,e[n]))},indexAsync:function(e,t){var n=e.splice(0,100);this.index(n,t);e.length>0?setTimeout(function(){a.items.indexAsync(e,t)},10):o.update()}},plugins:function(e){var t={templater:u,init:a,initialItems:f,Item:l,Templater:c,sortButtons:p,events:d,reset:g};for(var n=0;n<e.length;n++){e[n][1]=e[n][1]||{};var r=e[n][1].name||e[n][0];o[r]=o.plugins[e[n][0]].call(o,t,e[n][1])}}};this.add=function(e,n){n&&v(e,n);var r=[],i=!1;e[0]===t&&(e=[e]);for(var s=0,u=e.length;s<u;s++){var a=null;if(e[s]instanceof l){a=e[s];a.reload()}else{i=o.items.length>o.page?!0:!1;a=new l(e[s],t,i)}o.items.push(a);r.push(a)}o.update();return r};var v=function(e,t,n){var r=e.splice(0,100);n=n||[];n=n.concat(o.add(r));if(e.length>0)setTimeout(function(){v(e,t,n)},10);else{o.update();t(n)}};this.show=function(e,t){this.i=e;this.page=t;o.update()};this.remove=function(e,t,n){var r=0;for(var i=0,s=o.items.length;i<s;i++)if(o.items[i].values()[e]==t){u.remove(o.items[i],n);o.items.splice(i,1);s--;r++}o.update();return r};this.get=function(e,t){var n=[];for(var r=0,i=o.items.length;r<i;r++){var s=o.items[r];s.values()[e]==t&&n.push(s)}return n.length==0?null:n.length==1?n[0]:n};this.sort=function(e,n){var i=o.items.length,s=null,u=e.target||e.srcElement,a="",f=!1,l="asc",c="desc",n=n||{};if(u===t){s=e;f=n.asc||!1}else{s=r.getAttribute(u,"data-sort");f=r.hasClass(u,l)?!1:!0}for(var d=0,v=p.length;d<v;d++){r.removeClass(p[d],l);r.removeClass(p[d],c)}if(f){u!==t&&r.addClass(u,l);f=!0}else{u!==t&&r.addClass(u,c);f=!1}n.sortFunction?n.sortFunction=n.sortFunction:n.sortFunction=function(e,t){return r.sorter.alphanum(e.values()[s].toLowerCase(),t.values()[s].toLowerCase(),f)};o.items.sort(n.sortFunction);o.update()};this.search=function(e,n){o.i=1;var r=[],i,s,a,f,l,n=n===t?o.items[0].values():n,e=e===t?"":e,c=e.target||e.srcElement;e=c===t?(""+e).toLowerCase():""+c.value.toLowerCase();l=o.items;e=e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");u.clear();if(e===""){g.search();o.searched=!1;o.update()}else{o.searched=!0;for(var h=0,p=l.length;h<p;h++){i=!1;s=l[h];f=s.values();for(var d in n)if(f.hasOwnProperty(d)&&n[d]!==null){a=f[d]!=null?f[d].toString().toLowerCase():"";e!==""&&a.search(e)>-1&&(i=!0)}if(i){s.found=!0;r.push(s)}else s.found=!1}o.update()}return o.visibleItems};this.filter=function(e){o.i=1;g.filter();if(e===t)o.filtered=!1;else{o.filtered=!0;var n=o.items;for(var r=0,i=n.length;r<i;r++){var s=n[r];e(s)?s.filtered=!0:s.filtered=!1}}o.update();return o.visibleItems};this.size=function(){return o.items.length};this.clear=function(){u.clear();o.items=[]};this.on=function(e,t){d[e].push(t)};var m=function(e){var t=d[e].length;while(t--)d[e][t]()},g={filter:function(){var e=o.items,t=e.length;while(t--)e[t].filtered=!1},search:function(){var e=o.items,t=e.length;while(t--)e[t].found=!1}};this.update=function(){var e=o.items,t=e.length;o.visibleItems=[];o.matchingItems=[];u.clear();for(var n=0;n<t;n++)if(e[n].matching()&&o.matchingItems.length+1>=o.i&&o.visibleItems.length<o.page){e[n].show();o.visibleItems.push(e[n]);o.matchingItems.push(e[n])}else if(e[n].matching()){o.matchingItems.push(e[n]);e[n].hide()}else e[n].hide();m("updated")};l=function(e,n,r){var i=this,s={};this.found=!1;this.filtered=!1;var a=function(e,n,r){if(n===t)r?i.values(e,r):i.values(e);else{i.elm=n;var s=u.get(i,e);i.values(s)}};this.values=function(e,n){if(e===t)return s;for(var r in e)s[r]=e[r];n!==!0&&u.set(i,i.values())};this.show=function(){u.show(i)};this.hide=function(){u.hide(i)};this.matching=function(){return o.filtered&&o.searched&&i.found&&i.filtered||o.filtered&&!o.searched&&i.filtered||!o.filtered&&o.searched&&i.found||!o.filtered&&!o.searched};this.visible=function(){return i.elm.parentNode?!0:!1};a(e,n,r)};c=function(e,n){n.engine===t?n.engine="standard":n.engine=n.engine.toLowerCase();return new o.constructor.prototype.templateEngines[n.engine](e,n)};a.start(s,i)};i.prototype.templateEngines={};i.prototype.plugins={};i.prototype.templateEngines.standard=function(e,i){function a(e){if(e===t){var r=s.childNodes,o=[];for(var u=0,a=r.length;u<a;u++)if(r[u].data===t)return r[u];return null}if(e.indexOf("<")!==-1){var f=n.createElement("div");f.innerHTML=e;return f.firstChild}return n.getElementById(i.item)}var s=r.getByClass(i.listClass,e.listContainer,!0),o=a(i.item),u=this,f={created:function(e){e.elm===t&&u.create(e)}};this.get=function(e,t){f.created(e);var n={};for(var i=0,s=t.length;i<s;i++){var o=r.getByClass(t[i],e.elm,!0);n[t[i]]=o?o.innerHTML:""}return n};this.set=function(e,t){f.created(e);for(var n in t)if(t.hasOwnProperty(n)){var i=r.getByClass(n,e.elm,!0);i&&(i.innerHTML=t[n])}};this.create=function(e){if(e.elm!==t)return;var n=o.cloneNode(!0);n.id="";e.elm=n;u.set(e,e.values())};this.remove=function(e){s.removeChild(e.elm)};this.show=function(e){f.created(e);s.appendChild(e.elm)};this.hide=function(e){e.elm!==t&&e.elm.parentNode===s&&s.removeChild(e.elm)};this.clear=function(){if(s.hasChildNodes())while(s.childNodes.length>=1)s.removeChild(s.firstChild)}};r={getByClass:function(){return n.getElementsByClassName?function(e,t,n){return n?t.getElementsByClassName(e)[0]:t.getElementsByClassName(e)}:function(e,t,r){var i=[],s="*";t==null&&(t=n);var o=t.getElementsByTagName(s),u=o.length,a=new RegExp("(^|\\s)"+e+"(\\s|$)");for(var f=0,l=0;f<u;f++)if(a.test(o[f].className)){if(r)return o[f];i[l]=o[f];l++}return i}}(),addEvent:function(e,n){if(n.addEventListener)return function(n,i,s){if(n&&!(n instanceof Array)&&!n.length&&!r.isNodeList(n)&&n.length!==0||n===e)n.addEventListener(i,s,!1);else if(n&&n[0]!==t){var o=n.length;for(var u=0;u<o;u++)r.addEvent(n[u],i,s)}};if(n.attachEvent)return function(n,i,s){if(n&&!(n instanceof Array)&&!n.length&&!r.isNodeList(n)&&n.length!==0||n===e)n.attachEvent("on"+i,function(){return s.call(n,e.event)});else if(n&&n[0]!==t){var o=n.length;for(var u=0;u<o;u++)r.addEvent(n[u],i,s)}}}(this,n),getAttribute:function(e,n){var r=e.getAttribute&&e.getAttribute(n)||null;if(!r){var i=e.attributes,s=i.length;for(var o=0;o<s;o++)n[o]!==t&&n[o].nodeName===n&&(r=n[o].nodeValue)}return r},isNodeList:function(e){var t=Object.prototype.toString.call(e);return typeof e=="object"&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(t)&&(e.length==0||typeof e[0]=="object"&&e[0].nodeType>0)?!0:!1},hasClass:function(e,t){var n=this.getAttribute(e,"class")||this.getAttribute(e,"className")||"";return n.search(t)>-1},addClass:function(e,t){if(!this.hasClass(e,t)){var n=this.getAttribute(e,"class")||this.getAttribute(e,"className")||"";n=n+" "+t+" ";n=n.replace(/\s{2,}/g," ");e.setAttribute("class",n)}},removeClass:function(e,t){if(this.hasClass(e,t)){var n=this.getAttribute(e,"class")||this.getAttribute(e,"className")||"";n=n.replace(t,"");e.setAttribute("class",n)}},sorter:{alphanum:function(e,t,n){e||(e=" ");t||(t=" ");e=e.toString().replace(/&(lt|gt);/g,function(e,t){return t=="lt"?"<":">"});e=e.replace(/<\/?[^>]+(>|$)/g,"");t=t.toString().replace(/&(lt|gt);/g,function(e,t){return t=="lt"?"<":">"});t=t.replace(/<\/?[^>]+(>|$)/g,"");var r=this.chunkify(e),i=this.chunkify(t);for(var s=0;r[s]&&i[s];s++)if(r[s]!==i[s]){var o=Number(r[s]),u=Number(i[s]);return n?o==r[s]&&u==i[s]?o-u:r[s]>i[s]?1:-1:o==r[s]&&u==i[s]?u-o:r[s]>i[s]?-1:1}return r.length-i.length},chunkify:function(e){var t=[],n=0,r=-1,i=0,s,o;while(s=(o=e.charAt(n++)).charCodeAt(0)){var u=s==45||s==46||s>=48&&s<=57;if(u!==i){t[++r]="";i=u}t[r]+=o}return t}}};e.List=i;e.ListJsHelpers=r})(window);(function(){var e=function(e){"use strict";function T(e){if(e.paused||e.ended||p)return!1;try{u.clearRect(0,0,s,i);u.drawImage(e,0,0,s,i)}catch(t){}setTimeout(T,L.duration,e);N.setIcon(o)}function C(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,r){return t+t+n+n+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:!1}function k(e,t){var n={},r;for(r in e)n[r]=e[r];for(r in t)n[r]=t[r];return n}e=e?e:{};var t={bgColor:"#d00",textColor:"#fff",fontFamily:"sans-serif",fontStyle:"bold",type:"circle",position:"down",animation:"slide",elementId:!1},n,r,i,s,o,u,a,f,l,c,h,p,d;d={};d.ff=/firefox/i.test(navigator.userAgent.toLowerCase());d.chrome=/chrome/i.test(navigator.userAgent.toLowerCase());d.opera=/opera/i.test(navigator.userAgent.toLowerCase());d.ie=/msie/i.test(navigator.userAgent.toLowerCase())||/trident/i.test(navigator.userAgent.toLowerCase());d.supported=d.chrome||d.ff||d.opera;var v=[];h=function(){};f=p=!1;var m=function(){n=k(t,e);n.bgColor=C(n.bgColor);n.textColor=C(n.textColor);n.position=n.position.toLowerCase();n.animation=L.types[""+n.animation]?n.animation:t.animation;if(n.position==="up")for(var f=0;f<L.types[""+n.animation].length;f++){var l=L.types[""+n.animation][f];l.y<.6?l.y=l.y-.4:l.y=l.y-2*l.y+(1-l.w);L.types[""+n.animation][f]=l}n.type=y[""+n.type]?n.type:t.type;try{r=N.getIcon();o=document.createElement("canvas");a=document.createElement("img");if(r.hasAttribute("href")){a.setAttribute("src",r.getAttribute("href"));a.onload=function(){i=a.height>0?a.height:32;s=a.width>0?a.width:32;o.height=i;o.width=s;u=o.getContext("2d");g.ready()}}else{a.setAttribute("src","");i=32;s=32;a.height=i;a.width=s;o.height=i;o.width=s;u=o.getContext("2d");g.ready()}}catch(c){throw"Error initializing favico. Message: "+c.message}},g={};g.ready=function(){f=!0;g.reset();h()};g.reset=function(){v=[];l=!1;u.clearRect(0,0,s,i);u.drawImage(a,0,0,s,i);N.setIcon(o)};g.start=function(){if(!f||c)return;var e=function(){l=v[0];c=!1;if(v.length>0){v.shift();g.start()}};if(v.length>0){c=!0;l?L.run(l.options,function(){L.run(v[0].options,function(){e()},!1)},!0):L.run(v[0].options,function(){e()},!1)}};var y={},b=function(e){e.n=Math.abs(e.n);e.x=s*e.x;e.y=i*e.y;e.w=s*e.w;e.h=i*e.h;return e};y.circle=function(e){e=b(e);var t=e.n>9&&e.n<100;if(t){e.x=e.x-e.w*.4;e.w=e.w*1.4}u.clearRect(0,0,s,i);u.drawImage(a,0,0,s,i);u.beginPath();u.font=n.fontStyle+" "+Math.floor(e.h)+"px "+n.fontFamily;u.textAlign="center";if(t){u.moveTo(e.x+e.w/2,e.y);u.lineTo(e.x+e.w-e.h/2,e.y);u.quadraticCurveTo(e.x+e.w,e.y,e.x+e.w,e.y+e.h/2);u.lineTo(e.x+e.w,e.y+e.h-e.h/2);u.quadraticCurveTo(e.x+e.w,e.y+e.h,e.x+e.w-e.h/2,e.y+e.h);u.lineTo(e.x+e.h/2,e.y+e.h);u.quadraticCurveTo(e.x,e.y+e.h,e.x,e.y+e.h-e.h/2);u.lineTo(e.x,e.y+e.h/2);u.quadraticCurveTo(e.x,e.y,e.x+e.h/2,e.y)}else u.arc(e.x+e.w/2,e.y+e.h/2,e.h/2,0,2*Math.PI);u.fillStyle="rgba("+n.bgColor.r+","+n.bgColor.g+","+n.bgColor.b+","+e.o+")";u.fill();u.closePath();u.beginPath();u.stroke();u.fillStyle="rgba("+n.textColor.r+","+n.textColor.g+","+n.textColor.b+","+e.o+")";e.n>99?u.fillText("",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-e.h*.15)):u.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-e.h*.15));u.closePath()};y.rectangle=function(e){e=b(e);var t=e.n>9&&e.n<100;if(t){e.x=Math.floor(e.x-e.w*.4);e.w=Math.floor(e.w*1.4)}u.clearRect(0,0,s,i);u.drawImage(a,0,0,s,i);u.beginPath();u.font="bold "+Math.floor(e.h)+"px sans-serif";u.textAlign="center";u.fillStyle="rgba("+n.bgColor.r+","+n.bgColor.g+","+n.bgColor.b+","+e.o+")";u.fillRect(e.x,e.y,e.w,e.h);u.fillStyle="rgba("+n.textColor.r+","+n.textColor.g+","+n.textColor.b+","+e.o+")";e.n>99?u.fillText("",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-e.h*.15)):u.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-e.h*.15));u.closePath()};var w=function(e,t){h=function(){try{if(e>0){L.types[""+t]&&(n.animation=t);v.push({type:"badge",options:{n:e}});if(v.length>100)throw"Too many badges requests in queue.";g.start()}else g.reset()}catch(r){throw"Error setting badge. Message: "+r.message}};f&&h()},E=function(e){h=function(){try{var t=e.width,n=e.height,r=document.createElement("img"),a=t/s<n/i?t/s:n/i;r.setAttribute("src",e.getAttribute("src"));r.height=n/a;r.width=t/a;u.clearRect(0,0,s,i);u.drawImage(r,0,0,s,i);N.setIcon(o)}catch(f){throw"Error setting image. Message: "+f.message}};f&&h()},S=function(e){h=function(){try{if(e==="stop"){p=!0;g.reset();p=!1;return}e.addEventListener("play",function(){T(this)},!1)}catch(t){throw"Error setting video. Message: "+t.message}};f&&h()},x=function(e){if(!window.URL||!window.URL.createObjectURL){window.URL=window.URL||{};window.URL.createObjectURL=function(e){return e}}if(d.supported){var t=!1;navigator.getUserMedia=navigator.getUserMedia||navigator.oGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia;h=function(){try{if(e==="stop"){p=!0;g.reset();p=!1;return}t=document.createElement("video");t.width=s;t.height=i;navigator.getUserMedia({video:!0,audio:!1},function(e){t.src=URL.createObjectURL(e);t.play();T(t)},function(){})}catch(n){throw"Error setting webcam. Message: "+n.message}};f&&h()}},N={};N.getIcon=function(){var e=!1,t=function(){var e=document.getElementsByTagName("head")[0].getElementsByTagName("link");for(var t=e.length,n=t-1;n>=0;n--)if(/icon/i.test(e[n].getAttribute("rel")))return e[n];return!1};if(n.elementId){e=document.getElementById(n.elementId);e.setAttribute("href",e.getAttribute("src"))}else{e=t();if(e===!1){e=document.createElement("link");e.setAttribute("rel","icon");document.getElementsByTagName("head")[0].appendChild(e)}}e.setAttribute("type","image/png");return e};N.setIcon=function(e){var t=e.toDataURL("image/png");if(n.elementId)document.getElementById(n.elementId).setAttribute("src",t);else if(d.ff||d.opera){var i=r;r=document.createElement("link");d.opera&&r.setAttribute("rel","icon");r.setAttribute("rel","icon");r.setAttribute("type","image/png");document.getElementsByTagName("head")[0].appendChild(r);r.setAttribute("href",t);i.parentNode&&i.parentNode.removeChild(i)}else r.setAttribute("href",t)};var L={};L.duration=40;L.types={};L.types.fade=[{x:.4,y:.4,w:.6,h:.6,o:0},{x:.4,y:.4,w:.6,h:.6,o:.1},{x:.4,y:.4,w:.6,h:.6,o:.2},{x:.4,y:.4,w:.6,h:.6,o:.3},{x:.4,y:.4,w:.6,h:.6,o:.4},{x:.4,y:.4,w:.6,h:.6,o:.5},{x:.4,y:.4,w:.6,h:.6,o:.6},{x:.4,y:.4,w:.6,h:.6,o:.7},{x:.4,y:.4,w:.6,h:.6,o:.8},{x:.4,y:.4,w:.6,h:.6,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}];L.types.none=[{x:.4,y:.4,w:.6,h:.6,o:1}];L.types.pop=[{x:1,y:1,w:0,h:0,o:1},{x:.9,y:.9,w:.1,h:.1,o:1},{x:.8,y:.8,w:.2,h:.2,o:1},{x:.7,y:.7,w:.3,h:.3,o:1},{x:.6,y:.6,w:.4,h:.4,o:1},{x:.5,y:.5,w:.5,h:.5,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}];L.types.popFade=[{x:.75,y:.75,w:0,h:0,o:0},{x:.65,y:.65,w:.1,h:.1,o:.2},{x:.6,y:.6,w:.2,h:.2,o:.4},{x:.55,y:.55,w:.3,h:.3,o:.6},{x:.5,y:.5,w:.4,h:.4,o:.8},{x:.45,y:.45,w:.5,h:.5,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}];L.types.slide=[{x:.4,y:1,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.8,w:.6,h:.6,o:1},{x:.4,y:.7,w:.6,h:.6,o:1},{x:.4,y:.6,w:.6,h:.6,o:1},{x:.4,y:.5,w:.6,h:.6,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}];L.run=function(e,t,r,i){var s=L.types[n.animation];r===!0?i=typeof i!="undefined"?i:s.length-1:i=typeof i!="undefined"?i:0;t=t?t:function(){};if(!(i<s.length&&i>=0)){t();return}y[n.type](k(e,s[i]));setTimeout(function(){r?i-=1:i+=1;L.run(e,t,r,i)},L.duration);N.setIcon(o)};m();return{badge:w,video:S,image:E,webcam:x,reset:g.reset}};typeof define!="undefined"&&define.amd?define([],function(){return e}):typeof module!="undefined"&&module.exports?module.exports=e:this.Favico=e})();(function(e){typeof e.fn.each2=="undefined"&&e.extend(e.fn,{each2:function(t){var n=e([0]),r=-1,i=this.length;while(++r<i&&(n.context=n[0]=this[r])&&t.call(n[0],r,n)!==!1);return this}})})(jQuery);(function(e,t){"use strict";function p(e){var t,n,r,i;if(!e||e.length<1)return e;t="";for(n=0,r=e.length;n<r;n++){i=e.charAt(n);t+=h[i]||i}return t}function d(e,t){var n=0,r=t.length;for(;n<r;n+=1)if(m(e,t[n]))return n;return-1}function v(){var t=e(c);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};t.remove();return n}function m(e,n){return e===n?!0:e===t||n===t?!1:e===null||n===null?!1:e.constructor===String?e+""==n+"":n.constructor===String?n+""==e+"":!1}function g(t,n){var r,i,s;if(t===null||t.length<1)return[];r=t.split(n);for(i=0,s=r.length;i<s;i+=1)r[i]=e.trim(r[i]);return r}function y(e){return e.outerWidth(!1)-e.width()}function b(n){var r="keyup-change-value";n.on("keydown",function(){e.data(n,r)===t&&e.data(n,r,n.val())});n.on("keyup",function(){var i=e.data(n,r);if(i!==t&&n.val()!==i){e.removeData(n,r);n.trigger("keyup-change")}})}function w(n){n.on("mousemove",function(n){var r=a;(r===t||r.x!==n.pageX||r.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function E(e,n,r){r=r||t;var i;return function(){var t=arguments;window.clearTimeout(i);i=window.setTimeout(function(){n.apply(r,t)},e)}}function S(e){var t=!1,n;return function(){if(t===!1){n=e();t=!0}return n}}function x(e,t){var n=E(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){d(e.target,t.get())>=0&&n(e)})}function T(e){if(e[0]===document.activeElement)return;window.setTimeout(function(){var t=e[0],n=e.val().length,r;e.focus();if(e.is(":visible")&&t===document.activeElement)if(t.setSelectionRange)t.setSelectionRange(n,n);else if(t.createTextRange){r=t.createTextRange();r.collapse(!1);r.select()}},0)}function N(t){t=e(t)[0];var n=0,r=0;if("selectionStart"in t){n=t.selectionStart;r=t.selectionEnd-n}else if("selection"in document){t.focus();var i=document.selection.createRange();r=document.selection.createRange().text.length;i.moveStart("character",-t.value.length);n=i.text.length-r}return{offset:n,length:r}}function C(e){e.preventDefault();e.stopPropagation()}function k(e){e.preventDefault();e.stopImmediatePropagation()}function L(t){if(!u){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);u=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"});u.attr("class","select2-sizer");e("body").append(u)}u.text(t.val());return u.width()}function A(t,n,r){var i,s=[],o;i=t.attr("class");if(i){i=""+i;e(i.split(" ")).each2(function(){this.indexOf("select2-")===0&&s.push(this)})}i=n.attr("class");if(i){i=""+i;e(i.split(" ")).each2(function(){if(this.indexOf("select2-")!==0){o=r(this);o&&s.push(o)}})}t.attr("class",s.join(" "))}function O(e,t,n,r){var i=p(e.toUpperCase()).indexOf(p(t.toUpperCase())),s=t.length;if(i<0){n.push(r(e));return}n.push(r(e.substring(0,i)));n.push("<span class='select2-match'>");n.push(r(e.substring(i,i+s)));n.push("</span>");n.push(r(e.substring(i+s,e.length)))}function M(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function _(n){var r,i=null,s=n.quietMillis||100,o=n.url,u=this;return function(a){window.clearTimeout(r);r=window.setTimeout(function(){var r=n.data,s=o,f=n.transport||e.fn.select2.ajaxDefaults.transport,l={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},c=e.extend({},e.fn.select2.ajaxDefaults.params,l);r=r?r.call(u,a.term,a.page,a.context):null;s=typeof s=="function"?s.call(u,a.term,a.page,a.context):s;i&&i.abort();n.params&&(e.isFunction(n.params)?e.extend(c,n.params.call(u)):e.extend(c,n.params));e.extend(c,{url:s,dataType:n.dataType,data:r,success:function(e){var t=n.results(e,a.page);a.callback(t)}});i=f.call(u,c)},s)}}function D(t){var n=t,r,i,s=function(e){return""+e.text};if(e.isArray(n)){i=n;n={results:i}}if(e.isFunction(n)===!1){i=n;n=function(){return i}}var o=n();if(o.text){s=o.text;if(!e.isFunction(s)){r=o.text;s=function(e){return e[r]}}}return function(t){var r=t.term,i={results:[]},o;if(r===""){t.callback(n());return}o=function(n,i){var u,a;n=n[0];if(n.children){u={};for(a in n)n.hasOwnProperty(a)&&(u[a]=n[a]);u.children=[];e(n.children).each2(function(e,t){o(t,u.children)});(u.children.length||t.matcher(r,s(u),n))&&i.push(u)}else t.matcher(r,s(n),n)&&i.push(n)};e(n().results).each2(function(e,t){o(t,i.results)});t.callback(i)}}function P(n){var r=e.isFunction(n);return function(i){var s=i.term,o={results:[]};e(r?n():n).each(function(){var e=this.text!==t,n=e?this.text:this;(s===""||i.matcher(s,n))&&o.results.push(e?this:{id:this,text:this})});i.callback(o)}}function H(t,n){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error(n+" must be a function or a falsy value")}function B(t){return e.isFunction(t)?t():t}function j(t){var n=0;e.each(t,function(e,t){t.children?n+=j(t.children):n++});return n}function F(e,n,r,i){var s=e,o=!1,u,a,f,l,c;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return t;for(;;){a=-1;for(f=0,l=i.tokenSeparators.length;f<l;f++){c=i.tokenSeparators[f];a=e.indexOf(c);if(a>=0)break}if(a<0)break;u=e.substring(0,a);e=e.substring(a+c.length);if(u.length>0){u=i.createSearchChoice.call(this,u,n);if(u!==t&&u!==null&&i.id(u)!==t&&i.id(u)!==null){o=!1;for(f=0,l=n.length;f<l;f++)if(m(i.id(u),i.id(n[f]))){o=!0;break}o||r(u)}}}if(s!==e)return e}function I(t,n){var r=function(){};r.prototype=new t;r.prototype.constructor=r;r.prototype.parent=t.prototype;r.prototype=e.extend(r.prototype,n);return r}if(window.Select2!==t)return;var n,r,i,s,o,u,a={x:0,y:0},f,l,n={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){e=e.which?e.which:e;switch(e){case n.LEFT:case n.RIGHT:case n.UP:case n.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case n.SHIFT:case n.CTRL:case n.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){e=e.which?e.which:e;return e>=112&&e<=123}},c="<div class='select2-measure-scrollbar'></div>",h={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u"
,"":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z"};f=e(document);o=function(){var e=1;return function(){return e++}}();f.on("mousemove",function(e){a.x=e.pageX;a.y=e.pageY});r=I(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var r,i,s=".select2-results";this.opts=n=this.prepareOpts(n);this.id=n.id;n.element.data("select2")!==t&&n.element.data("select2")!==null&&n.element.data("select2").destroy();this.container=this.createContainer();this.containerId="s2id_"+(n.element.attr("id")||"autogen"+o());this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.body=S(function(){return n.element.closest("body")});A(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.attr("style",n.element.attr("style"));this.container.css(B(n.containerCss));this.container.addClass(B(n.containerCssClass));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",C);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");A(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(B(n.dropdownCssClass));this.dropdown.data("select2",this);this.dropdown.on("click",C);this.results=r=this.container.find(s);this.search=i=this.container.find("input.select2-input");this.queryCount=0;this.resultsPage=0;this.context=null;this.initContainer();this.container.on("click",C);w(this.results);this.dropdown.on("mousemove-filtered touchstart touchmove touchend",s,this.bind(this.highlightUnderEvent));x(80,this.results);this.dropdown.on("scroll-debounced",s,this.bind(this.loadMoreIfNeeded));e(this.container).on("change",".select2-input",function(e){e.stopPropagation()});e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()});e.fn.mousewheel&&r.mousewheel(function(e,t,n,i){var s=r.scrollTop();if(i>0&&s-i<=0){r.scrollTop(0);C(e)}else if(i<0&&r.get(0).scrollHeight-r.scrollTop()+i<=r.height()){r.scrollTop(r.get(0).scrollHeight-r.height());C(e)}});b(i);i.on("keyup-change input paste",this.bind(this.updateResults));i.on("focus",function(){i.addClass("select2-focused")});i.on("blur",function(){i.removeClass("select2-focused")});this.dropdown.on("mouseup",s,this.bind(function(t){if(e(t.target).closest(".select2-result-selectable").length>0){this.highlightUnderEvent(t);this.selectHighlighted(t)}}));this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()});if(e.isFunction(this.opts.initSelection)){this.initSelection();this.monitorSource()}n.maximumInputLength!==null&&this.search.attr("maxlength",n.maximumInputLength);var u=n.element.prop("disabled");u===t&&(u=!1);this.enable(!u);var a=n.element.prop("readonly");a===t&&(a=!1);this.readonly(a);l=l||v();this.autofocus=n.element.prop("autofocus");n.element.prop("autofocus",!1);this.autofocus&&this.focus();this.nextSearchTerm=t},destroy:function(){var e=this.opts.element,n=e.data("select2");this.close();if(this.propertyObserver){delete this.propertyObserver;this.propertyObserver=null}if(n!==t){n.container.remove();n.dropdown.remove();e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1);this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex");e.show()}},optionToData:function(e){if(e.is("option"))return{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:m(e.attr("locked"),"locked")||m(e.data("locked"),!0)};if(e.is("optgroup"))return{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}},prepareOpts:function(n){var r,i,s,u,a=this;r=n.element;r.get(0).tagName.toLowerCase()==="select"&&(this.select=i=n.element);i&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")});n=e.extend({},{populateResults:function(r,i,s){var u,f=this.opts.id;u=function(r,i,l){var c,h,p,d,v,m,g,y,b,w;r=n.sortResults(r,i,s);for(c=0,h=r.length;c<h;c+=1){p=r[c];v=p.disabled===!0;d=!v&&f(p)!==t;m=p.children&&p.children.length>0;g=e("<li></li>");g.addClass("select2-results-dept-"+l);g.addClass("select2-result");g.addClass(d?"select2-result-selectable":"select2-result-unselectable");v&&g.addClass("select2-disabled");m&&g.addClass("select2-result-with-children");g.addClass(a.opts.formatResultCssClass(p));g.attr("role","presentation");y=e(document.createElement("div"));y.addClass("select2-result-label");y.attr("id","select2-result-label-"+o());y.attr("role","option");w=n.formatResult(p,y,s,a.opts.escapeMarkup);w!==t&&y.html(w);g.append(y);if(m){b=e("<ul></ul>");b.addClass("select2-result-sub");u(p.children,b,l+1);g.append(b)}g.data("select2-data",p);i.append(g)}};u(i,r,0)}},e.fn.select2.defaults,n);if(typeof n.id!="function"){s=n.id;n.id=function(e){return e[s]}}if(e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(i){n.query=this.bind(function(e){var n={results:[],more:!1},i=e.term,s,o,u;u=function(t,n){var r;if(t.is("option"))e.matcher(i,t.text(),t)&&n.push(a.optionToData(t));else if(t.is("optgroup")){r=a.optionToData(t);t.children().each2(function(e,t){u(t,r.children)});r.children.length>0&&n.push(r)}};s=r.children();if(this.getPlaceholder()!==t&&s.length>0){o=this.getPlaceholderOption();o&&(s=s.not(o))}s.each2(function(e,t){u(t,n.results)});e.callback(n)});n.id=function(e){return e.id}}else if(!("query"in n))if("ajax"in n){u=n.element.data("ajax-url");u&&u.length>0&&(n.ajax.url=u);n.query=_.call(n.element,n.ajax)}else if("data"in n)n.query=D(n.data);else if("tags"in n){n.query=P(n.tags);n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}});n.initSelection===t&&(n.initSelection=function(t,r){var i=[];e(g(t.val(),n.separator)).each(function(){var t={id:this,text:this},r=n.tags;e.isFunction(r)&&(r=r());e(r).each(function(){if(m(this.id,t.id)){t=this;return!1}});i.push(t)});r(i)})}if(typeof n.query!="function")throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var e=this.opts.element,n,r;e.on("change.select2",this.bind(function(e){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()}));n=this.bind(function(){var n=e.prop("disabled");n===t&&(n=!1);this.enable(!n);var r=e.prop("readonly");r===t&&(r=!1);this.readonly(r);A(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(B(this.opts.containerCssClass));A(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(B(this.opts.dropdownCssClass))});e.on("propertychange.select2",n);this.mutationCallback===t&&(this.mutationCallback=function(e){e.forEach(n)});r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(r!==t){if(this.propertyObserver){delete this.propertyObserver;this.propertyObserver=null}this.propertyObserver=new r(this.mutationCallback);this.propertyObserver.observe(e.get(0),{attributes:!0,subtree:!1})}},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t});this.opts.element.trigger(n);return!n.isDefaultPrevented()},triggerChange:function(t){t=t||{};t=e.extend({},t,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",!0);this.opts.element.trigger(t);this.opts.element.data("select2-change-triggered",!1);this.opts.element.click();this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;if(e===this.enabledInterface)return!1;this.container.toggleClass("select2-container-disabled",t);this.close();this.enabledInterface=e;return!0},enable:function(e){e===t&&(e=!0);if(this._enabled===e)return;this._enabled=e;this.opts.element.prop("disabled",!e);this.enableInterface()},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1);if(this._readonly===e)return!1;this._readonly=e;this.opts.element.prop("readonly",e);this.enableInterface();return!0},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t=this.dropdown,n=this.container.offset(),r=this.container.outerHeight(!1),i=this.container.outerWidth(!1),s=t.outerHeight(!1),o=e(window),u=o.width(),a=o.height(),f=o.scrollLeft()+u,c=o.scrollTop()+a,h=n.top+r,p=n.left,d=h+s<=c,v=n.top-s>=this.body().scrollTop(),m=t.outerWidth(!1),g=p+m<=f,y=t.hasClass("select2-drop-above"),b,w,E,S,x;if(y){w=!0;if(!v&&d){E=!0;w=!1}}else{w=!1;if(!d&&v){E=!0;w=!0}}if(E){t.hide();n=this.container.offset();r=this.container.outerHeight(!1);i=this.container.outerWidth(!1);s=t.outerHeight(!1);f=o.scrollLeft()+u;c=o.scrollTop()+a;h=n.top+r;p=n.left;m=t.outerWidth(!1);g=p+m<=f;t.show()}if(this.opts.dropdownAutoWidth){x=e(".select2-results",t)[0];t.addClass("select2-drop-auto-width");t.css("width","");m=t.outerWidth(!1)+(x.scrollHeight===x.clientHeight?0:l.width);m>i?i=m:m=i;g=p+m<=f}else this.container.removeClass("select2-drop-auto-width");if(this.body().css("position")!=="static"){b=this.body().offset();h-=b.top;p-=b.left}g||(p-=p+m-f);S={left:p,width:i};if(w){S.top=n.top-s;S.bottom="auto";this.container.addClass("select2-drop-above");t.addClass("select2-drop-above")}else{S.top=h;S.bottom="auto";this.container.removeClass("select2-drop-above");t.removeClass("select2-drop-above")}S=e.extend(S,B(this.opts.dropdownCss));t.css(S)},shouldOpen:function(){var t;if(this.opened())return!1;if(this._enabled===!1||this._readonly===!0)return!1;t=e.Event("select2-opening");this.opts.element.trigger(t);return!t.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen())return!1;this.opening();return!0},opening:function(){var t=this.containerId,n="scroll."+t,r="resize."+t,i="orientationchange."+t,s;this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.clearDropdownAlignmentPreference();this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body());s=e("#select2-drop-mask");if(s.length==0){s=e(document.createElement("div"));s.attr("id","select2-drop-mask").attr("class","select2-drop-mask");s.hide();s.appendTo(this.body());s.on("mousedown touchstart click",function(t){var n=e("#select2-drop"),r;if(n.length>0){r=n.data("select2");r.opts.selectOnBlur&&r.selectHighlighted({noFocus:!0});r.close({focus:!0});t.preventDefault();t.stopPropagation()}})}this.dropdown.prev()[0]!==s[0]&&this.dropdown.before(s);e("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");s.show();this.positionDropdown();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");var o=this;this.container.parents().add(window).each(function(){e(this).on(r+" "+n+" "+i,function(e){o.positionDropdown()})})},close:function(){if(!this.opened())return;var t=this.containerId,n="scroll."+t,r="resize."+t,i="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(r).off(i)});this.clearDropdownAlignmentPreference();e("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();this.clearSearch();this.search.removeClass("select2-active");this.opts.element.trigger(e.Event("select2-close"))},externalSearch:function(e){this.open();this.search.val(e);this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return B(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t=this.results,n,r,i,s,o,u,a;r=this.highlight();if(r<0)return;if(r==0){t.scrollTop(0);return}n=this.findHighlightableChoices().find(".select2-result-label");i=e(n[r]);s=i.offset().top+i.outerHeight(!0);if(r===n.length-1){a=t.find("li.select2-more-results");a.length>0&&(s=a.offset().top+a.outerHeight(!0))}o=t.offset().top+t.outerHeight(!0);s>o&&t.scrollTop(t.scrollTop()+(s-o));u=i.offset().top-t.offset().top;u<0&&i.css("display")!="none"&&t.scrollTop(t.scrollTop()+u)},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(t){var n=this.findHighlightableChoices(),r=this.highlight();while(r>-1&&r<n.length){r+=t;var i=e(n[r]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")&&!i.hasClass("select2-selected")){this.highlight(r);break}}},highlight:function(t){var n=this.findHighlightableChoices(),r,i;if(arguments.length===0)return d(n.filter(".select2-highlighted")[0],n.get());t>=n.length&&(t=n.length-1);t<0&&(t=0);this.removeHighlight();r=e(n[t]);r.addClass("select2-highlighted");this.search.attr("aria-activedescendant",r.find(".select2-result-label").attr("id"));this.ensureHighlightVisible();i=r.data("select2-data");i&&this.opts.element.trigger({type:"select2-highlight",val:this.id(i),choice:i})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var r=this.findHighlightableChoices();this.highlight(r.index(n))}else n.length==0&&this.removeHighlight()},loadMoreIfNeeded:function(){var e=this.results,t=e.find("li.select2-more-results"),n,r=this.resultsPage+1,i=this,s=this.search.val(),o=this.context;if(t.length===0)return;n=t.offset().top-e.offset().top-e.height();if(n<=this.opts.loadMorePadding){t.addClass("select2-active");this.opts.query({element:this.opts.element,term:s,page:r,context:o,matcher:this.opts.matcher,callback:this.bind(function(n){if(!i.opened())return;i.opts.populateResults.call(this,e,n.results,{term:s,page:r,context:o});i.postprocessResults(n,!1,!1);if(n.more===!0){t.detach().appendTo(e).text(i.opts.formatLoadMore(r+1));window.setTimeout(function(){i.loadMoreIfNeeded()},10)}else t.remove();i.positionDropdown();i.resultsPage=r;i.context=n.context;this.opts.element.trigger({type:"select2-loaded",items:n})})})}},tokenize:function(){},updateResults:function(n){function h(){r.removeClass("select2-active");u.positionDropdown()}function p(e){i.html(e);h()}var r=this.search,i=this.results,s=this.opts,o,u=this,a,f=r.val(),l=e.data(this.container,"select2-last-term"),c;if(n!==!0&&l&&m(f,l))return;e.data(this.container,"select2-last-term",f);if(n!==!0&&(this.showSearchInput===!1||!this.opened()))return;c=++this.queryCount;var d=this.getMaximumSelectionSize();if(d>=1){o=this.data();if(e.isArray(o)&&o.length>=d&&H(s.formatSelectionTooBig,"formatSelectionTooBig")){p("<li class='select2-selection-limit'>"+s.formatSelectionTooBig(d)+"</li>");return}}if(r.val().length<s.minimumInputLength){H(s.formatInputTooShort,"formatInputTooShort")?p("<li class='select2-no-results'>"+s.formatInputTooShort(r.val(),s.minimumInputLength)+"</li>"):p("");n&&this.showSearch&&this.showSearch(!0);return}if(s.maximumInputLength&&r.val().length>s.maximumInputLength){H(s.formatInputTooLong,"formatInputTooLong")?p("<li class='select2-no-results'>"+s.formatInputTooLong(r.val(),s.maximumInputLength)+"</li>"):p("");return}s.formatSearching&&this.findHighlightableChoices().length===0&&p("<li class='select2-searching'>"+s.formatSearching()+"</li>");r.addClass("select2-active");this.removeHighlight();a=this.tokenize();a!=t&&a!=null&&r.val(a);this.resultsPage=1;s.query({element:s.element,term:r.val(),page:this.resultsPage,context:null,matcher:s.matcher,callback:this.bind(function(o){var a;if(c!=this.queryCount)return;if(!this.opened()){this.search.removeClass("select2-active");return}this.context=o.context===t?null:o.context;if(this.opts.createSearchChoice&&r.val()!==""){a=this.opts.createSearchChoice.call(u,r.val(),o.results);a!==t&&a!==null&&u.id(a)!==t&&u.id(a)!==null&&e(o.results).filter(function(){return m(u.id(this),u.id(a))}).length===0&&o.results.unshift(a)}if(o.results.length===0&&H(s.formatNoMatches,"formatNoMatches")){p("<li class='select2-no-results'>"+s.formatNoMatches(r.val())+"</li>");return}i.empty();u.opts.populateResults.call(this,i,o.results,{term:r.val(),page:this.resultsPage,context:null});if(o.more===!0&&H(s.formatLoadMore,"formatLoadMore")){i.append("<li class='select2-more-results'>"+u.opts.escapeMarkup(s.formatLoadMore(this.resultsPage))+"</li>");window.setTimeout(function(){u.loadMoreIfNeeded()},10)}this.postprocessResults(o,n);h();this.opts.element.trigger({type:"select2-loaded",items:o})})})},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0});this.close();this.container.removeClass("select2-container-active");this.search[0]===document.activeElement&&this.search.blur();this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){T(this.search)},selectHighlighted:function(e){var t=this.highlight(),n=this.results.find(".select2-highlighted"),r=n.closest(".select2-result").data("select2-data");if(r){this.highlight(t);this.onSelect(r,e)}else e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var e=this.select.children("option").first();if(this.opts.placeholderOption!==t)return this.opts.placeholderOption==="first"&&e||typeof this.opts.placeholderOption=="function"&&this.opts.placeholderOption(this.select);if(e.text()===""&&e.val()==="")return e}},initContainerWidth:function(){function n(){var n,r,i,s,o,u;if(this.opts.width==="off")return null;if(this.opts.width==="element")return this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px";if(this.opts.width==="copy"||this.opts.width==="resolve"){n=this.opts.element.attr("style");if(n!==t){r=n.split(";");for(s=0,o=r.length;s<o;s+=1){u=r[s].replace(/\s/g,"");i=u.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i);if(i!==null&&i.length>=1)return i[1]}}if(this.opts.width==="resolve"){n=this.opts.element.css("width");return n.indexOf("%")>0?n:this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px"}return null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var r=n.call(this);r!==null&&this.container.css("width",r)}});i=I(r,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' title='Search field' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,r,i;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0);this.parent.opening.apply(this,arguments);this.showSearchInput!==!1&&this.search.val(this.focusser.val());this.search.focus();n=this.search.get(0);if(n.createTextRange){r=n.createTextRange();r.collapse(!1);r.select()}else if(n.setSelectionRange){i=this.search.val().length;n.setSelectionRange(i,i)}if(this.search.val()===""&&this.nextSearchTerm!=t){this.search.val(this.nextSearchTerm);this.search.select()}this.focusser.prop("disabled",!0).val("");this.updateResults(!0);this.opts.element.trigger(e.Event("select2-open"))},close:function(e){if(!this.opened())return;this.parent.close.apply(this,arguments);e=e||{focus:!0};this.focusser.removeAttr("disabled");e.focus&&this.focusser.focus()},focus:function(){if(this.opened())this.close();else{this.focusser.removeAttr("disabled");this.focusser.focus()}},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.removeAttr("disabled");this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,r=this.container,i=this.dropdown,s=o(),u;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0);this.selection=t=r.find(".select2-choice");this.focusser=r.find(".select2-focusser");t.find(".select2-chosen").attr("id","select2-chosen-"+s);this.focusser.attr("aria-labelledby","select2-chosen-"+s);this.results.attr("id","select2-results-"+s);this.search.attr("aria-owns","select2-results-"+s);this.focusser.attr("id","s2id_autogen"+s);u=e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id"));var a=this.opts.element.attr("title");this.opts.element.attr("title",a||u.text());this.focusser.attr("tabindex",this.elementTabIndex);this.search.on("keydown",this.bind(function(e){if(!this.isInterfaceEnabled())return;if(e.which===n.PAGE_UP||e.which===n.PAGE_DOWN){C(e);return}switch(e.which){case n.UP:case n.DOWN:this.moveHighlight(e.which===n.UP?-1:1);C(e);return;case n.ENTER:this.selectHighlighted();C(e);return;case n.TAB:this.selectHighlighted({noFocus:!0});return;case n.ESC:this.cancel(e);C(e);return}}));this.search.on("blur",this.bind(function(e){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)}));this.focusser.on("keydown",this.bind(function(e){if(!this.isInterfaceEnabled())return;if(e.which===n.TAB||n.isControl(e)||n.isFunctionKey(e)||e.which===n.ESC)return;if(this.opts.openOnEnter===!1&&e.which===n.ENTER){C(e);return}if(e.which==n.DOWN||e.which==n.UP||e.which==n.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;this.open();C(e);return}if(e.which==n.DELETE||e.which==n.BACKSPACE){this.opts.allowClear&&this.clear();C(e);return}}));b(this.focusser);this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){e.stopPropagation();if(this.opened())return;this.open()}}));t.on("mousedown","abbr",this.bind(function(e){if(!this.isInterfaceEnabled())return;this.clear();k(e);this.close();this.selection.focus()}));t.on("mousedown",this.bind(function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus"));this.opened()?this.close():this.isInterfaceEnabled()&&this.open();C(t)}));i.on("mousedown",this.bind(function(){this.search.focus()}));t.on("focus",this.bind(function(e){C(e)}));this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus"));this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){if(!this.opened()){this.container.removeClass("select2-container-active");this.opts.element.trigger(e.Event("select2-blur"))}}));this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus"));this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var r=e.Event("select2-clearing");this.opts.element.trigger(r);if(r.isDefaultPrevented())return;var i=this.getPlaceholderOption();this.opts.element.val(i?i.val():"");this.selection.find(".select2-chosen").empty();this.selection.removeData("select2-data");this.setPlaceholder();if(t!==!1){this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n});this.triggerChange({removed:n})}}},initSelection:function(){var e;if(this.isPlaceholderOptionSelected()){this.updateSelection(null);this.close();this.setPlaceholder()}else{var n=this;this.opts.initSelection.call(null,this.opts.element,function(e){if(e!==t&&e!==null){n.updateSelection(e);n.close();n.setPlaceholder()}})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()?(e=this.getPlaceholderOption())!==t&&e.prop("selected")||this.opts.element.val()===""||this.opts.element.val()===t||this.opts.element.val()===null:!1},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;t.element.get(0).tagName.toLowerCase()==="select"?t.initSelection=function(e,t){var r=e.find("option").filter(function(){return this.selected});t(n.optionToData(r))}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=n.val(),s=null;t.query({matcher:function(e,n,r){var o=m(i,t.id(r));o&&(s=r);return o},callback:e.isFunction(r)?function(){r(s)}:e.noop})});return t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e));this.selection.addClass("select2-default");this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,n){var r=0,i=this,s=!0;this.findHighlightableChoices().each2(function(e,t){if(m(i.id(t.data("select2-data")),i.opts.element.val())){r=e;return!1}});n!==!1&&(t===!0&&r>=0?this.highlight(r):this.highlight(0));if(t===!0){var o=this.opts.minimumResultsForSearch;o>=0&&this.showSearch(j(e.results)>=o)}},showSearch:function(t){if(this.showSearchInput===t)return;this.showSearchInput=t;this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t);this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t);e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t)},onSelect:function(e,t){if(!this.triggerSelect(e))return;var n=this.opts.element.val(),r=this.data();this.opts.element.val(this.id(e));this.updateSelection(e);this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e});this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val());this.close();(!t||!t.noFocus)&&this.focusser.focus();m(n,this.id(e))||this.triggerChange({added:e,removed:r})},updateSelection:function(e){var n=this.selection.find(".select2-chosen"),r,i;this.selection.data("select2-data",e);n.empty();e!==null&&(r=this.opts.formatSelection(e,n,this.opts.escapeMarkup));r!==t&&n.append(r);i=this.opts.formatSelectionCssClass(e,n);i!==t&&n.addClass(i);this.selection.removeClass("select2-default");this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,r=null,i=this,s=this.data();if(arguments.length===0)return this.opts.element.val();e=arguments[0];arguments.length>1&&(n=arguments[1]);if(this.select){this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){r=i.optionToData(t);return!1});this.updateSelection(r);this.setPlaceholder();n&&this.triggerChange({added:r,removed:s})}else{if(!e&&e!==0){this.clear(n);return}if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e);this.opts.initSelection(this.opts.element,function(e){i.opts.element.val(e?i.id(e):"");i.updateSelection(e);i.setPlaceholder();n&&i.triggerChange({added:e,removed:s})})}},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(e){var n,r=!1;if(arguments.length===0){n=this.selection.data("select2-data");n==t&&(n=null);return n}arguments.length>1&&(r=arguments[1]);if(!e)this.clear(r);else{n=this.data();this.opts.element.val(e?this.id(e):"");this.updateSelection(e);r&&this.triggerChange({added:e,removed:n})}}});s=I(r,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;t.element.get(0).tagName.toLowerCase()==="select"?t.initSelection=function(e,t){var r=[];e.find("option").filter(function(){return this.selected}).each2(function(e,t){r.push(n.optionToData(t))});t(r)}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=g(n.val(),t.separator),s=[];t.query({matcher:function(n,r,o){var u=e.grep(i,function(e){return m(e,t.id(o))}).length;u&&s.push(o);return u},callback:e.isFunction(r)?function(){var e=[];for(var n=0;n<i.length;n++){var o=i[n];for(var u=0;u<s.length;u++){var a=s[u];if(m(o,t.id(a))){e.push(a);s.splice(u,1);break}}}r(e)}:e.noop})});return t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");if(!t.length||!e||e[0]!=t[0]){t.length&&this.opts.element.trigger("choice-deselected",t);t.removeClass("select2-search-choice-focus");if(e&&e.length){this.close();e.addClass("select2-search-choice-focus");this.opts.element.trigger("choice-selected",e)}}},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var t=".select2-choices",r;this.searchContainer=this.container.find(".select2-search-field");this.selection=r=this.container.find(t);var i=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(t){i.search[0].focus();i.selectChoice(e(this))});this.search.attr("id","s2id_autogen"+o());e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id"));this.search.on("input paste",this.bind(function(){if(!this.isInterfaceEnabled())return;this.opened()||this.open()}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(e){if(!this.isInterfaceEnabled())return;++this.keydowns;var t=r.find(".select2-search-choice-focus"),i=t.prev(".select2-search-choice:not(.select2-locked)"),s=t.next(".select2-search-choice:not(.select2-locked)"),o=N(this.search);if(!(!t.length||e.which!=n.LEFT&&e.which!=n.RIGHT&&e.which!=n.BACKSPACE&&e.which!=n.DELETE&&e.which!=n.ENTER)){var u=t;if(e.which==n.LEFT&&i.length)u=i;else if(e.which==n.RIGHT)u=s.length?s:null;else if(e.which===n.BACKSPACE){this.unselect(t.first());this.search.width(10);u=i.length?i:s}else if(e.which==n.DELETE){this.unselect(t.first());this.search.width(10);u=s.length?s:null}else e.which==n.ENTER&&(u=null);this.selectChoice(u);C(e);(!u||!u.length)&&this.open();return}if((e.which===n.BACKSPACE&&this.keydowns==1||e.which==n.LEFT)&&o.offset==0&&!o.length){this.selectChoice(r.find(".select2-search-choice:not(.select2-locked)").last());C(e);return}this.selectChoice(null);if(this.opened())switch(e.which){case n.UP:case n.DOWN:this.moveHighlight(e.which===n.UP?-1:1);C(e);return;case n.ENTER:this.
selectHighlighted();C(e);return;case n.TAB:this.selectHighlighted({noFocus:!0});this.close();return;case n.ESC:this.cancel(e);C(e);return}if(e.which===n.TAB||n.isControl(e)||n.isFunctionKey(e)||e.which===n.BACKSPACE||e.which===n.ESC)return;if(e.which===n.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open();(e.which===n.PAGE_UP||e.which===n.PAGE_DOWN)&&C(e);e.which===n.ENTER&&C(e)}));this.search.on("keyup",this.bind(function(e){this.keydowns=0;this.resizeSearch()}));this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.selectChoice(null);this.opened()||this.clearSearch();t.stopImmediatePropagation();this.opts.element.trigger(e.Event("select2-blur"))}));this.container.on("click",t,this.bind(function(t){if(!this.isInterfaceEnabled())return;if(e(t.target).closest(".select2-search-choice").length>0)return;this.selectChoice(null);this.clearPlaceholder();this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus"));this.open();this.focusSearch();t.preventDefault()}));this.container.on("focus",t,this.bind(function(){if(!this.isInterfaceEnabled())return;this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus"));this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active");this.clearPlaceholder()}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){var e;if(this.opts.element.val()===""&&this.opts.element.text()===""){this.updateSelection([]);this.close();this.clearSearch()}if(this.select||this.opts.element.val()!==""){var n=this;this.opts.initSelection.call(null,this.opts.element,function(e){if(e!==t&&e!==null){n.updateSelection(e);n.close();n.clearSearch()}})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();if(e!==t&&this.getVal().length===0&&this.search.hasClass("select2-focused")===!1){this.search.val(e).addClass("select2-default");this.search.width(n>0?n:this.container.css("width"))}else this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();this.updateResults(!0);this.search.focus();this.opts.element.trigger(e.Event("select2-open"))},close:function(){if(!this.opened())return;this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],r=[],i=this;e(t).each(function(){if(d(i.id(this),n)<0){n.push(i.id(this));r.push(this)}});t=r;this.selection.find(".select2-search-choice").remove();e(t).each(function(){i.addSelectedChoice(this)});i.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts);if(e!=null&&e!=t){this.search.val(e);e.length>0&&this.open()}},onSelect:function(e,t){if(!this.triggerSelect(e))return;this.addSelectedChoice(e);this.opts.element.trigger({type:"selected",val:this.id(e),choice:e});(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0);if(this.opts.closeOnSelect){this.close();this.search.width(10)}else if(this.countSelectableResults()>0){this.search.width(10);this.resizeSearch();this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0);this.positionDropdown()}else{this.close();this.search.width(10)}this.triggerChange({added:e});(!t||!t.noFocus)&&this.focusSearch()},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(n){var r=!n.locked,i=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=e("<li class='select2-search-choice select2-locked'><div></div></li>"),o=r?i:s,u=this.id(n),a=this.getVal(),f,l;f=this.opts.formatSelection(n,o.find("div"),this.opts.escapeMarkup);f!=t&&o.find("div").replaceWith("<div>"+f+"</div>");l=this.opts.formatSelectionCssClass(n,o.find("div"));l!=t&&o.addClass(l);r&&o.find(".select2-search-choice-close").on("mousedown",C).on("click dblclick",this.bind(function(t){if(!this.isInterfaceEnabled())return;e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.close();this.focusSearch()})).dequeue();C(t)})).on("focus",this.bind(function(){if(!this.isInterfaceEnabled())return;this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active")}));o.data("select2-data",n);o.insertBefore(this.searchContainer);a.push(u);this.setVal(a)},unselect:function(t){var n=this.getVal(),r,i;t=t.closest(".select2-search-choice");if(t.length===0)throw"Invalid argument: "+t+". Must be .select2-search-choice";r=t.data("select2-data");if(!r)return;while((i=d(this.id(r),n))>=0){n.splice(i,1);this.setVal(n);this.select&&this.postprocessResults()}var s=e.Event("select2-removing");s.val=this.id(r);s.choice=r;this.opts.element.trigger(s);if(s.isDefaultPrevented())return;t.remove();this.opts.element.trigger({type:"select2-removed",val:this.id(r),choice:r});this.triggerChange({removed:r})},postprocessResults:function(e,t,n){var r=this.getVal(),i=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),o=this;i.each2(function(e,t){var n=o.id(t.data("select2-data"));if(d(n,r)>=0){t.addClass("select2-selected");t.find(".select2-result-selectable").addClass("select2-selected")}});s.each2(function(e,t){!t.is(".select2-result-selectable")&&t.find(".select2-result-selectable:not(.select2-selected)").length===0&&t.addClass("select2-selected")});this.highlight()==-1&&n!==!1&&o.highlight(0);!this.opts.createSearchChoice&&!i.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&this.results.find(".select2-no-results").length===0)&&H(o.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+o.opts.formatNoMatches(o.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-y(this.search)},resizeSearch:function(){var e,t,n,r,i,s=y(this.search);e=L(this.search)+10;t=this.search.offset().left;n=this.selection.width();r=this.selection.offset().left;i=n-(t-r)-s;i<e&&(i=n-s);i<40&&(i=n-s);i<=0&&(i=e);this.search.width(Math.floor(i))},getVal:function(){var e;if(this.select){e=this.select.val();return e===null?[]:e}e=this.opts.element.val();return g(e,this.opts.separator)},setVal:function(t){var n;if(this.select)this.select.val(t);else{n=[];e(t).each(function(){d(this,n)<0&&n.push(this)});this.opts.element.val(n.length===0?"":n.join(this.opts.separator))}},buildChangeDetails:function(e,t){var t=t.slice(0),e=e.slice(0);for(var n=0;n<t.length;n++)for(var r=0;r<e.length;r++)if(m(this.opts.id(t[n]),this.opts.id(e[r]))){t.splice(n,1);n>0&&n--;e.splice(r,1);r--}return{added:t,removed:e}},val:function(n,r){var i,s=this;if(arguments.length===0)return this.getVal();i=this.data();i.length||(i=[]);if(!n&&n!==0){this.opts.element.val("");this.updateSelection([]);this.clearSearch();r&&this.triggerChange({added:this.data(),removed:i});return}this.setVal(n);if(this.select){this.opts.initSelection(this.select,this.bind(this.updateSelection));r&&this.triggerChange(this.buildChangeDetails(i,this.data()))}else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,s.id);s.setVal(n);s.updateSelection(t);s.clearSearch();r&&s.triggerChange(s.buildChangeDetails(i,s.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))});this.setVal(t);this.triggerChange()},data:function(t,n){var r=this,i,s;if(arguments.length===0)return this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get();s=this.data();t||(t=[]);i=e.map(t,function(e){return r.opts.id(e)});this.setVal(i);this.updateSelection(t);this.clearSearch();n&&this.triggerChange(this.buildChangeDetails(s,this.data()))}});e.fn.select2=function(){var n=Array.prototype.slice.call(arguments,0),r,o,u,a,f,l=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],c=["opened","isFocused","container","dropdown"],h=["val","data"],p={search:"externalSearch"};this.each(function(){if(n.length===0||typeof n[0]=="object"){r=n.length===0?{}:e.extend({},n[0]);r.element=e(this);if(r.element.get(0).tagName.toLowerCase()==="select")f=r.element.prop("multiple");else{f=r.multiple||!1;"tags"in r&&(r.multiple=f=!0)}o=f?new s:new i;o.init(r)}else{if(typeof n[0]!="string")throw"Invalid arguments to select2 plugin: "+n;if(d(n[0],l)<0)throw"Unknown method: "+n[0];a=t;o=e(this).data("select2");if(o===t)return;u=n[0];if(u==="container")a=o.container;else if(u==="dropdown")a=o.dropdown;else{p[u]&&(u=p[u]);a=o[u].apply(o,n.slice(1))}if(d(n[0],c)>=0||d(n[0],h)&&n.length==1)return!1}});return a===t?this:a};e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,r){var i=[];O(e.text,n.term,i,r);return i.join("")},formatSelection:function(e,n,r){return e?r(e.text):t},sortResults:function(e,t,n){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(e,n){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" more character"+(n==1?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(n==1?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(e==1?"":"s")},formatLoadMore:function(e){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return p(""+t).toUpperCase().indexOf(p(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:F,escapeMarkup:M,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null},nextSearchTerm:function(e,n){return t}};e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}};window.Select2={query:{ajax:_,local:D,tags:P},util:{debounce:E,markMatch:O,escapeMarkup:M,stripDiacritics:p},"class":{"abstract":r,single:i,multi:s}}})(jQuery);