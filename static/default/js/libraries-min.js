function abbrNum(t,e){e=Math.pow(10,e);for(var i=["k","m","b","t"],s=i.length-1;s>=0;s--){var n=Math.pow(10,3*(s+1));if(t>=n){t=Math.round(t*e/n)/e,1e3==t&&s<i.length-1&&(t=1,s++),t+=i[s];break}}return t}(function(){var t=this,e=t._,i={},s=Array.prototype,n=Object.prototype,o=Function.prototype,r=s.push,a=s.slice,l=s.concat,h=n.toString,c=n.hasOwnProperty,u=s.forEach,d=s.map,p=s.reduce,f=s.reduceRight,g=s.filter,m=s.every,v=s.some,b=s.indexOf,y=s.lastIndexOf,w=Array.isArray,x=Object.keys,_=o.bind,C=function(t){return t instanceof C?t:this instanceof C?void(this._wrapped=t):new C(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=C),exports._=C):t._=C,C.VERSION="1.6.0";var S=C.each=C.forEach=function(t,e,s){if(null==t)return t;if(u&&t.forEach===u)t.forEach(e,s);else if(t.length===+t.length){for(var n=0,o=t.length;o>n;n++)if(e.call(s,t[n],n,t)===i)return}else for(var r=C.keys(t),n=0,o=r.length;o>n;n++)if(e.call(s,t[r[n]],r[n],t)===i)return;return t};C.map=C.collect=function(t,e,i){var s=[];return null==t?s:d&&t.map===d?t.map(e,i):(S(t,function(t,n,o){s.push(e.call(i,t,n,o))}),s)};var P="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(t,e,i,s){var n=arguments.length>2;if(null==t&&(t=[]),p&&t.reduce===p)return s&&(e=C.bind(e,s)),n?t.reduce(e,i):t.reduce(e);if(S(t,function(t,o,r){n?i=e.call(s,i,t,o,r):(i=t,n=!0)}),!n)throw new TypeError(P);return i},C.reduceRight=C.foldr=function(t,e,i,s){var n=arguments.length>2;if(null==t&&(t=[]),f&&t.reduceRight===f)return s&&(e=C.bind(e,s)),n?t.reduceRight(e,i):t.reduceRight(e);var o=t.length;if(o!==+o){var r=C.keys(t);o=r.length}if(S(t,function(a,l,h){l=r?r[--o]:--o,n?i=e.call(s,i,t[l],l,h):(i=t[l],n=!0)}),!n)throw new TypeError(P);return i},C.find=C.detect=function(t,e,i){var s;return T(t,function(t,n,o){return e.call(i,t,n,o)?(s=t,!0):void 0}),s},C.filter=C.select=function(t,e,i){var s=[];return null==t?s:g&&t.filter===g?t.filter(e,i):(S(t,function(t,n,o){e.call(i,t,n,o)&&s.push(t)}),s)},C.reject=function(t,e,i){return C.filter(t,function(t,s,n){return!e.call(i,t,s,n)},i)},C.every=C.all=function(t,e,s){e||(e=C.identity);var n=!0;return null==t?n:m&&t.every===m?t.every(e,s):(S(t,function(t,o,r){return(n=n&&e.call(s,t,o,r))?void 0:i}),!!n)};var T=C.some=C.any=function(t,e,s){e||(e=C.identity);var n=!1;return null==t?n:v&&t.some===v?t.some(e,s):(S(t,function(t,o,r){return n||(n=e.call(s,t,o,r))?i:void 0}),!!n)};C.contains=C.include=function(t,e){return null==t?!1:b&&t.indexOf===b?-1!=t.indexOf(e):T(t,function(t){return t===e})},C.invoke=function(t,e){var i=a.call(arguments,2),s=C.isFunction(e);return C.map(t,function(t){return(s?e:t[e]).apply(t,i)})},C.pluck=function(t,e){return C.map(t,C.property(e))},C.where=function(t,e){return C.filter(t,C.matches(e))},C.findWhere=function(t,e){return C.find(t,C.matches(e))},C.max=function(t,e,i){if(!e&&C.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var s=-1/0,n=-1/0;return S(t,function(t,o,r){var a=e?e.call(i,t,o,r):t;a>n&&(s=t,n=a)}),s},C.min=function(t,e,i){if(!e&&C.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var s=1/0,n=1/0;return S(t,function(t,o,r){var a=e?e.call(i,t,o,r):t;n>a&&(s=t,n=a)}),s},C.shuffle=function(t){var e,i=0,s=[];return S(t,function(t){e=C.random(i++),s[i-1]=s[e],s[e]=t}),s},C.sample=function(t,e,i){return null==e||i?(t.length!==+t.length&&(t=C.values(t)),t[C.random(t.length-1)]):C.shuffle(t).slice(0,Math.max(0,e))};var F=function(t){return null==t?C.identity:C.isFunction(t)?t:C.property(t)};C.sortBy=function(t,e,i){return e=F(e),C.pluck(C.map(t,function(t,s,n){return{value:t,index:s,criteria:e.call(i,t,s,n)}}).sort(function(t,e){var i=t.criteria,s=e.criteria;if(i!==s){if(i>s||void 0===i)return 1;if(s>i||void 0===s)return-1}return t.index-e.index}),"value")};var k=function(t){return function(e,i,s){var n={};return i=F(i),S(e,function(o,r){var a=i.call(s,o,r,e);t(n,a,o)}),n}};C.groupBy=k(function(t,e,i){C.has(t,e)?t[e].push(i):t[e]=[i]}),C.indexBy=k(function(t,e,i){t[e]=i}),C.countBy=k(function(t,e){C.has(t,e)?t[e]++:t[e]=1}),C.sortedIndex=function(t,e,i,s){i=F(i);for(var n=i.call(s,e),o=0,r=t.length;r>o;){var a=o+r>>>1;i.call(s,t[a])<n?o=a+1:r=a}return o},C.toArray=function(t){return t?C.isArray(t)?a.call(t):t.length===+t.length?C.map(t,C.identity):C.values(t):[]},C.size=function(t){return null==t?0:t.length===+t.length?t.length:C.keys(t).length},C.first=C.head=C.take=function(t,e,i){return null==t?void 0:null==e||i?t[0]:0>e?[]:a.call(t,0,e)},C.initial=function(t,e,i){return a.call(t,0,t.length-(null==e||i?1:e))},C.last=function(t,e,i){return null==t?void 0:null==e||i?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},C.rest=C.tail=C.drop=function(t,e,i){return a.call(t,null==e||i?1:e)},C.compact=function(t){return C.filter(t,C.identity)};var E=function(t,e,i){return e&&C.every(t,C.isArray)?l.apply(i,t):(S(t,function(t){C.isArray(t)||C.isArguments(t)?e?r.apply(i,t):E(t,e,i):i.push(t)}),i)};C.flatten=function(t,e){return E(t,e,[])},C.without=function(t){return C.difference(t,a.call(arguments,1))},C.partition=function(t,e){var i=[],s=[];return S(t,function(t){(e(t)?i:s).push(t)}),[i,s]},C.uniq=C.unique=function(t,e,i,s){C.isFunction(e)&&(s=i,i=e,e=!1);var n=i?C.map(t,i,s):t,o=[],r=[];return S(n,function(i,s){(e?s&&r[r.length-1]===i:C.contains(r,i))||(r.push(i),o.push(t[s]))}),o},C.union=function(){return C.uniq(C.flatten(arguments,!0))},C.intersection=function(t){var e=a.call(arguments,1);return C.filter(C.uniq(t),function(t){return C.every(e,function(e){return C.contains(e,t)})})},C.difference=function(t){var e=l.apply(s,a.call(arguments,1));return C.filter(t,function(t){return!C.contains(e,t)})},C.zip=function(){for(var t=C.max(C.pluck(arguments,"length").concat(0)),e=new Array(t),i=0;t>i;i++)e[i]=C.pluck(arguments,""+i);return e},C.object=function(t,e){if(null==t)return{};for(var i={},s=0,n=t.length;n>s;s++)e?i[t[s]]=e[s]:i[t[s][0]]=t[s][1];return i},C.indexOf=function(t,e,i){if(null==t)return-1;var s=0,n=t.length;if(i){if("number"!=typeof i)return s=C.sortedIndex(t,e),t[s]===e?s:-1;s=0>i?Math.max(0,n+i):i}if(b&&t.indexOf===b)return t.indexOf(e,i);for(;n>s;s++)if(t[s]===e)return s;return-1},C.lastIndexOf=function(t,e,i){if(null==t)return-1;var s=null!=i;if(y&&t.lastIndexOf===y)return s?t.lastIndexOf(e,i):t.lastIndexOf(e);for(var n=s?i:t.length;n--;)if(t[n]===e)return n;return-1},C.range=function(t,e,i){arguments.length<=1&&(e=t||0,t=0),i=arguments[2]||1;for(var s=Math.max(Math.ceil((e-t)/i),0),n=0,o=new Array(s);s>n;)o[n++]=t,t+=i;return o};var I=function(){};C.bind=function(t,e){var i,s;if(_&&t.bind===_)return _.apply(t,a.call(arguments,1));if(!C.isFunction(t))throw new TypeError;return i=a.call(arguments,2),s=function(){if(!(this instanceof s))return t.apply(e,i.concat(a.call(arguments)));I.prototype=t.prototype;var n=new I;I.prototype=null;var o=t.apply(n,i.concat(a.call(arguments)));return Object(o)===o?o:n}},C.partial=function(t){var e=a.call(arguments,1);return function(){for(var i=0,s=e.slice(),n=0,o=s.length;o>n;n++)s[n]===C&&(s[n]=arguments[i++]);for(;i<arguments.length;)s.push(arguments[i++]);return t.apply(this,s)}},C.bindAll=function(t){var e=a.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return S(e,function(e){t[e]=C.bind(t[e],t)}),t},C.memoize=function(t,e){var i={};return e||(e=C.identity),function(){var s=e.apply(this,arguments);return C.has(i,s)?i[s]:i[s]=t.apply(this,arguments)}},C.delay=function(t,e){var i=a.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},C.defer=function(t){return C.delay.apply(C,[t,1].concat(a.call(arguments,1)))},C.throttle=function(t,e,i){var s,n,o,r=null,a=0;i||(i={});var l=function(){a=i.leading===!1?0:C.now(),r=null,o=t.apply(s,n),s=n=null};return function(){var h=C.now();a||i.leading!==!1||(a=h);var c=e-(h-a);return s=this,n=arguments,0>=c?(clearTimeout(r),r=null,a=h,o=t.apply(s,n),s=n=null):r||i.trailing===!1||(r=setTimeout(l,c)),o}},C.debounce=function(t,e,i){var s,n,o,r,a,l=function(){var h=C.now()-r;e>h?s=setTimeout(l,e-h):(s=null,i||(a=t.apply(o,n),o=n=null))};return function(){o=this,n=arguments,r=C.now();var h=i&&!s;return s||(s=setTimeout(l,e)),h&&(a=t.apply(o,n),o=n=null),a}},C.once=function(t){var e=!1,i;return function(){return e?i:(e=!0,i=t.apply(this,arguments),t=null,i)}},C.wrap=function(t,e){return C.partial(e,t)},C.compose=function(){var t=arguments;return function(){for(var e=arguments,i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},C.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},C.keys=function(t){if(!C.isObject(t))return[];if(x)return x(t);var e=[];for(var i in t)C.has(t,i)&&e.push(i);return e},C.values=function(t){for(var e=C.keys(t),i=e.length,s=new Array(i),n=0;i>n;n++)s[n]=t[e[n]];return s},C.pairs=function(t){for(var e=C.keys(t),i=e.length,s=new Array(i),n=0;i>n;n++)s[n]=[e[n],t[e[n]]];return s},C.invert=function(t){for(var e={},i=C.keys(t),s=0,n=i.length;n>s;s++)e[t[i[s]]]=i[s];return e},C.functions=C.methods=function(t){var e=[];for(var i in t)C.isFunction(t[i])&&e.push(i);return e.sort()},C.extend=function(t){return S(a.call(arguments,1),function(e){if(e)for(var i in e)t[i]=e[i]}),t},C.pick=function(t){var e={},i=l.apply(s,a.call(arguments,1));return S(i,function(i){i in t&&(e[i]=t[i])}),e},C.omit=function(t){var e={},i=l.apply(s,a.call(arguments,1));for(var n in t)C.contains(i,n)||(e[n]=t[n]);return e},C.defaults=function(t){return S(a.call(arguments,1),function(e){if(e)for(var i in e)void 0===t[i]&&(t[i]=e[i])}),t},C.clone=function(t){return C.isObject(t)?C.isArray(t)?t.slice():C.extend({},t):t},C.tap=function(t,e){return e(t),t};var A=function(t,e,i,s){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof C&&(t=t._wrapped),e instanceof C&&(e=e._wrapped);var n=h.call(t);if(n!=h.call(e))return!1;switch(n){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=i.length;o--;)if(i[o]==t)return s[o]==e;var r=t.constructor,a=e.constructor;if(r!==a&&!(C.isFunction(r)&&r instanceof r&&C.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1;i.push(t),s.push(e);var l=0,c=!0;if("[object Array]"==n){if(l=t.length,c=l==e.length)for(;l--&&(c=A(t[l],e[l],i,s)););}else{for(var u in t)if(C.has(t,u)&&(l++,!(c=C.has(e,u)&&A(t[u],e[u],i,s))))break;if(c){for(u in e)if(C.has(e,u)&&!l--)break;c=!l}}return i.pop(),s.pop(),c};C.isEqual=function(t,e){return A(t,e,[],[])},C.isEmpty=function(t){if(null==t)return!0;if(C.isArray(t)||C.isString(t))return 0===t.length;for(var e in t)if(C.has(t,e))return!1;return!0},C.isElement=function(t){return!(!t||1!==t.nodeType)},C.isArray=w||function(t){return"[object Array]"==h.call(t)},C.isObject=function(t){return t===Object(t)},S(["Arguments","Function","String","Number","Date","RegExp"],function(t){C["is"+t]=function(e){return h.call(e)=="[object "+t+"]"}}),C.isArguments(arguments)||(C.isArguments=function(t){return!(!t||!C.has(t,"callee"))}),"function"!=typeof/./&&(C.isFunction=function(t){return"function"==typeof t}),C.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},C.isNaN=function(t){return C.isNumber(t)&&t!=+t},C.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==h.call(t)},C.isNull=function(t){return null===t},C.isUndefined=function(t){return void 0===t},C.has=function(t,e){return c.call(t,e)},C.noConflict=function(){return t._=e,this},C.identity=function(t){return t},C.constant=function(t){return function(){return t}},C.property=function(t){return function(e){return e[t]}},C.matches=function(t){return function(e){if(e===t)return!0;for(var i in t)if(t[i]!==e[i])return!1;return!0}},C.times=function(t,e,i){for(var s=Array(Math.max(0,t)),n=0;t>n;n++)s[n]=e.call(i,n);return s},C.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},C.now=Date.now||function(){return(new Date).getTime()};var O={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};O.unescape=C.invert(O.escape);var D={escape:new RegExp("["+C.keys(O.escape).join("")+"]","g"),unescape:new RegExp("("+C.keys(O.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(t){C[t]=function(e){return null==e?"":(""+e).replace(D[t],function(e){return O[t][e]})}}),C.result=function(t,e){if(null==t)return void 0;var i=t[e];return C.isFunction(i)?i.call(t):i},C.mixin=function(t){S(C.functions(t),function(e){var i=C[e]=t[e];C.prototype[e]=function(){var t=[this._wrapped];return r.apply(t,arguments),j.call(this,i.apply(C,t))}})};var M=0;C.uniqueId=function(t){var e=++M+"";return t?t+e:e},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(t,e,i){var s;i=C.defaults({},i,C.templateSettings);var n=new RegExp([(i.escape||z).source,(i.interpolate||z).source,(i.evaluate||z).source].join("|")+"|$","g"),o=0,r="__p+='";t.replace(n,function(e,i,s,n,a){return r+=t.slice(o,a).replace(L,function(t){return"\\"+N[t]}),i&&(r+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),s&&(r+="'+\n((__t=("+s+"))==null?'':__t)+\n'"),n&&(r+="';\n"+n+"\n__p+='"),o=a+e.length,e}),r+="';\n",i.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{s=new Function(i.variable||"obj","_",r)}catch(a){throw a.source=r,a}if(e)return s(e,C);var l=function(t){return s.call(this,t,C)};return l.source="function("+(i.variable||"obj")+"){\n"+r+"}",l},C.chain=function(t){return C(t).chain()};var j=function(t){return this._chain?C(t).chain():t};C.mixin(C),S(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=s[t];C.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!=t&&"splice"!=t||0!==i.length||delete i[0],j.call(this,i)}}),S(["concat","join","slice"],function(t){var e=s[t];C.prototype[t]=function(){return j.call(this,e.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return C})}).call(this),function(t,e){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(i,$,s){t.Backbone=e(t,s,i,$)});else if("undefined"!=typeof exports){var i=require("underscore");e(t,exports,i)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,i,$){var s=t.Backbone,n=[],o=n.push,r=n.slice,a=n.splice;e.VERSION="1.1.2",e.$=$,e.noConflict=function(){return t.Backbone=s,this},e.emulateHTTP=!1,e.emulateJSON=!1;var l=e.Events={on:function(t,e,i){if(!c(this,"on",t,[e,i])||!e)return this;this._events||(this._events={});var s=this._events[t]||(this._events[t]=[]);return s.push({callback:e,context:i,ctx:i||this}),this},once:function(t,e,s){if(!c(this,"once",t,[e,s])||!e)return this;var n=this,o=i.once(function(){n.off(t,o),e.apply(this,arguments)});return o._callback=e,this.on(t,o,s)},off:function(t,e,s){var n,o,r,a,l,h,u,d;if(!this._events||!c(this,"off",t,[e,s]))return this;if(!t&&!e&&!s)return this._events=void 0,this;for(a=t?[t]:i.keys(this._events),l=0,h=a.length;h>l;l++)if(t=a[l],r=this._events[t]){if(this._events[t]=n=[],e||s)for(u=0,d=r.length;d>u;u++)o=r[u],(e&&e!==o.callback&&e!==o.callback._callback||s&&s!==o.context)&&n.push(o);n.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=r.call(arguments,1);if(!c(this,"trigger",t,e))return this;var i=this._events[t],s=this._events.all;return i&&u(i,e),s&&u(s,arguments),this},stopListening:function(t,e,s){var n=this._listeningTo;if(!n)return this;var o=!e&&!s;s||"object"!=typeof e||(s=this),t&&((n={})[t._listenId]=t);for(var r in n)t=n[r],t.off(e,s,this),(o||i.isEmpty(t._events))&&delete this._listeningTo[r];return this}},h=/\s+/,c=function(t,e,i,s){if(!i)return!0;if("object"==typeof i){for(var n in i)t[e].apply(t,[n,i[n]].concat(s));return!1}if(h.test(i)){for(var o=i.split(h),r=0,a=o.length;a>r;r++)t[e].apply(t,[o[r]].concat(s));return!1}return!0},u=function(t,e){var i,s=-1,n=t.length,o=e[0],r=e[1],a=e[2];switch(e.length){case 0:for(;++s<n;)(i=t[s]).callback.call(i.ctx);return;case 1:for(;++s<n;)(i=t[s]).callback.call(i.ctx,o);return;case 2:for(;++s<n;)(i=t[s]).callback.call(i.ctx,o,r);return;case 3:for(;++s<n;)(i=t[s]).callback.call(i.ctx,o,r,a);return;default:for(;++s<n;)(i=t[s]).callback.apply(i.ctx,e);return}},d={listenTo:"on",listenToOnce:"once"};i.each(d,function(t,e){l[e]=function(e,s,n){var o=this._listeningTo||(this._listeningTo={}),r=e._listenId||(e._listenId=i.uniqueId("l"));return o[r]=e,n||"object"!=typeof s||(n=this),e[t](s,n,this),this}}),l.bind=l.on,l.unbind=l.off,i.extend(e,l);var p=e.Model=function(t,e){var s=t||{};e||(e={}),this.cid=i.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(s=this.parse(s,e)||{}),s=i.defaults({},s,i.result(this,"defaults")),this.set(s,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(p.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,s){var n,o,r,a,l,h,c,u;if(null==t)return this;if("object"==typeof t?(o=t,s=e):(o={})[t]=e,s||(s={}),!this._validate(o,s))return!1;r=s.unset,l=s.silent,a=[],h=this._changing,this._changing=!0,h||(this._previousAttributes=i.clone(this.attributes),this.changed={}),u=this.attributes,c=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(n in o)e=o[n],i.isEqual(u[n],e)||a.push(n),i.isEqual(c[n],e)?delete this.changed[n]:this.changed[n]=e,r?delete u[n]:u[n]=e;if(!l){a.length&&(this._pending=s);for(var d=0,p=a.length;p>d;d++)this.trigger("change:"+a[d],this,u[a[d]],s)}if(h)return this;if(!l)for(;this._pending;)s=this._pending,this._pending=!1,this.trigger("change",this,s);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var s in this.attributes)e[s]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?i.clone(this.changed):!1;var e,s=!1,n=this._changing?this._previousAttributes:this.attributes;for(var o in t)i.isEqual(n[o],e=t[o])||((s||(s={}))[o]=e);return s},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=t?i.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,s=t.success;return t.success=function(i){return e.set(e.parse(i,t),t)?(s&&s(e,i,t),void e.trigger("sync",e,i,t)):!1},j(this,t),this.sync("read",this,t)},save:function(t,e,s){var n,o,r,a=this.attributes;if(null==t||"object"==typeof t?(n=t,s=e):(n={})[t]=e,s=i.extend({validate:!0},s),n&&!s.wait){if(!this.set(n,s))return!1}else if(!this._validate(n,s))return!1;n&&s.wait&&(this.attributes=i.extend({},a,n)),void 0===s.parse&&(s.parse=!0);var l=this,h=s.success;return s.success=function(t){l.attributes=a;var e=l.parse(t,s);return s.wait&&(e=i.extend(n||{},e)),i.isObject(e)&&!l.set(e,s)?!1:(h&&h(l,t,s),void l.trigger("sync",l,t,s))},j(this,s),o=this.isNew()?"create":s.patch?"patch":"update","patch"===o&&(s.attrs=n),r=this.sync(o,this,s),n&&s.wait&&(this.attributes=a),r},destroy:function(t){t=t?i.clone(t):{};var e=this,s=t.success,n=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(i){(t.wait||e.isNew())&&n(),s&&s(e,i,t),e.isNew()||e.trigger("sync",e,i,t)},this.isNew())return t.success(),!1;j(this,t);var o=this.sync("delete",this,t);return t.wait||n(),o},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||L();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var s=this.validationError=this.validate(t,e)||null;return s?(this.trigger("invalid",this,s,i.extend(e,{validationError:s})),!1):!0}});var f=["keys","values","pairs","invert","pick","omit"];i.each(f,function(t){p.prototype[t]=function(){var e=r.call(arguments);return e.unshift(this.attributes),i[t].apply(i,e)}});var g=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},m={add:!0,remove:!0,merge:!0},v={add:!0,remove:!1};i.extend(g.prototype,l,{model:p,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,v))},remove:function(t,e){var s=!i.isArray(t);t=s?[t]:i.clone(t),e||(e={});var n,o,r,a;for(n=0,o=t.length;o>n;n++)a=t[n]=this.get(t[n]),a&&(delete this._byId[a.id],delete this._byId[a.cid],r=this.indexOf(a),this.models.splice(r,1),this.length--,e.silent||(e.index=r,a.trigger("remove",a,this,e)),this._removeReference(a,e));return s?t[0]:t},set:function(t,e){e=i.defaults({},e,m),e.parse&&(t=this.parse(t,e));var s=!i.isArray(t);t=s?t?[t]:[]:i.clone(t);var n,o,r,a,l,h,c,u=e.at,d=this.model,f=this.comparator&&null==u&&e.sort!==!1,g=i.isString(this.comparator)?this.comparator:null,v=[],b=[],y={},w=e.add,x=e.merge,_=e.remove,C=!f&&w&&_?[]:!1;for(n=0,o=t.length;o>n;n++){if(l=t[n]||{},r=l instanceof p?a=l:l[d.prototype.idAttribute||"id"],h=this.get(r))_&&(y[h.cid]=!0),x&&(l=l===a?a.attributes:l,e.parse&&(l=h.parse(l,e)),h.set(l,e),f&&!c&&h.hasChanged(g)&&(c=!0)),t[n]=h;else if(w){if(a=t[n]=this._prepareModel(l,e),!a)continue;v.push(a),this._addReference(a,e)}a=h||a,!C||!a.isNew()&&y[a.id]||C.push(a),y[a.id]=!0}if(_){for(n=0,o=this.length;o>n;++n)y[(a=this.models[n]).cid]||b.push(a);b.length&&this.remove(b,e)}if(v.length||C&&C.length)if(f&&(c=!0),this.length+=v.length,null!=u)for(n=0,o=v.length;o>n;n++)this.models.splice(u+n,0,v[n]);else{C&&(this.models.length=0);var S=C||v;for(n=0,o=S.length;o>n;n++)this.models.push(S[n])}if(c&&this.sort({silent:!0}),!e.silent){for(n=0,o=v.length;o>n;n++)(a=v[n]).trigger("add",a,this,e);(c||C&&C.length)&&this.trigger("sort",this,e)}return s?t[0]:t},reset:function(t,e){e||(e={});for(var s=0,n=this.models.length;n>s;s++)this._removeReference(this.models[s],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return r.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return i.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var i in t)if(t[i]!==e.get(i))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),i.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(i.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return i.invoke(this.models,"get",t)},fetch:function(t){t=t?i.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,s=this;return t.success=function(i){var n=t.reset?"reset":"set";s[n](i,t),e&&e(s,i,t),s.trigger("sync",s,i,t)},j(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?i.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var s=this,n=e.success;return e.success=function(t,i){e.wait&&s.add(t,e),n&&n(t,i,e)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof p)return t;e=e?i.clone(e):{},e.collection=this;var s=new this.model(t,e);return s.validationError?(this.trigger("invalid",this,s.validationError,e),!1):s},_addReference:function(t,e){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,s){("add"!==t&&"remove"!==t||i===this)&&("destroy"===t&&this.remove(e,s),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];i.each(b,function(t){g.prototype[t]=function(){var e=r.call(arguments);return e.unshift(this.models),i[t].apply(i,e)}});var y=["groupBy","countBy","sortBy","indexBy"];i.each(y,function(t){g.prototype[t]=function(e,s){var n=i.isFunction(e)?e:function(t){return t.get(e)};return i[t](this.models,n,s)}});var w=e.View=function(t){this.cid=i.uniqueId("view"),t||(t={}),i.extend(this,i.pick(t,_)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\S+)\s*(.*)$/,_=["model","collection","el","id","attributes","className","tagName","events"];i.extend(w.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,i){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],i!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=i.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var s=t[e];if(i.isFunction(s)||(s=this[t[e]]),s){var n=e.match(x),o=n[1],r=n[2];s=i.bind(s,this),o+=".delegateEvents"+this.cid,""===r?this.$el.on(o,s):this.$el.on(o,r,s)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"),!1);else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t["class"]=i.result(this,"className"));var s=e.$("<"+i.result(this,"tagName")+">").attr(t);this.setElement(s,!1)}}}),e.sync=function(t,s,n){var o=S[t];i.defaults(n||(n={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var r={type:o,dataType:"json"};if(n.url||(r.url=i.result(s,"url")||L()),null!=n.data||!s||"create"!==t&&"update"!==t&&"patch"!==t||(r.contentType="application/json",r.data=JSON.stringify(n.attrs||s.toJSON(n))),n.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),n.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){r.type="POST",n.emulateJSON&&(r.data._method=o);var a=n.beforeSend;n.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",o),a?a.apply(this,arguments):void 0}}"GET"===r.type||n.emulateJSON||(r.processData=!1),"PATCH"===r.type&&C&&(r.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=n.xhr=e.ajax(i.extend(r,n));return s.trigger("request",s,l,n),l};var C=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),S={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var P=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,F=/(\(\?)?:\w+/g,k=/\*\w+/g,E=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(P.prototype,l,{initialize:function(){},route:function(t,s,n){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(s)&&(n=s,s=""),n||(n=this[s]);var o=this;return e.history.route(t,function(i){var r=o._extractParameters(t,i);o.execute(n,r),o.trigger.apply(o,["route:"+s].concat(r)),o.trigger("route",s,r),e.history.trigger("route",o,s,r)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(E,"\\$&").replace(T,"(?:$1)?").replace(F,function(t,e){return e?t:"([^/?]+)"}).replace(k,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var s=t.exec(e).slice(1);return i.map(s,function(t,e){return e===s.length-1?t||null:t?decodeURIComponent(t):null})}});var I=e.History=function(){this.handlers=[],i.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},A=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,D=/msie [\w.]+/,M=/\/$/,z=/#.*$/;I.started=!1,i.extend(I.prototype,l,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var i=this.root.replace(M,"");t.indexOf(i)||(t=t.slice(i.length))}else t=this.getHash();return t.replace(A,"")},start:function(t){if(I.started)throw new Error("Backbone.history has already been started");I.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var s=this.getFragment(),n=document.documentMode,o=D.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);if(this.root=("/"+this.root+"/").replace(O,"/"),o&&this._wantsHashChange){var r=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=r.hide().appendTo("body")[0].contentWindow,this.navigate(s)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=s;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(A,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()
},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),I.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return t=this.fragment=this.getFragment(t),i.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!I.started)return!1;e&&e!==!0||(e={trigger:!!e});var i=this.root+(t=this.getFragment(t||""));if(t=t.replace(z,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==i&&(i=i.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var s=t.href.replace(/(javascript:|#).*$/,"");t.replace(s+"#"+e)}else t.hash="#"+e}}),e.history=new I;var N=function(t,e){var s=this,n;n=t&&i.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},i.extend(n,s,e);var o=function(){this.constructor=n};return o.prototype=s.prototype,n.prototype=new o,t&&i.extend(n.prototype,t),n.__super__=s.prototype,n};p.extend=g.extend=P.extend=w.extend=I.extend=N;var L=function(){throw new Error('A "url" property or function must be specified')},j=function(t,e){var i=e.error;e.error=function(s){i&&i(t,s,e),t.trigger("error",t,s,e)}};return e}),Backbone.Validation=function(t){"use strict";var e={forceUpdate:!1,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype},i={formatLabel:function(t,i){return l[e.labelFormatter](t,i)},format:function(){var t=Array.prototype.slice.call(arguments),e=t.shift();return e.replace(/\{(\d+)\}/g,function(e,i){return"undefined"!=typeof t[i]?t[i]:e})}},s=function(e,i,n){return i=i||{},n=n||"",t.each(e,function(t,o){e.hasOwnProperty(o)&&(t&&"object"==typeof t&&!(t instanceof Array||t instanceof Date||t instanceof RegExp||t instanceof Backbone.Model||t instanceof Backbone.Collection)?s(t,i,n+o+"."):i[n+o]=t)}),i},n=function(){var n=function(e){return t.reduce(t.keys(t.result(e,"validation")||{}),function(t,e){return t[e]=void 0,t},{})},r=function(e,i){var s=e.validation?t.result(e,"validation")[i]||{}:{};return(t.isFunction(s)||t.isString(s))&&(s={fn:s}),t.isArray(s)||(s=[s]),t.reduce(s,function(e,i){return t.each(t.without(t.keys(i),"msg"),function(t){e.push({fn:h[t],val:i[t],msg:i.msg})}),e},[])},a=function(e,s,n,o){return t.reduce(r(e,s),function(r,a){var l=t.extend({},i,h),c=a.fn.call(l,n,s,a.val,e,o);return c===!1||r===!1?!1:c&&!r?t.result(a,"msg")||c:r},"")},l=function(e,i){var n,o={},r=!0,l=t.clone(i),h=s(i);return t.each(h,function(t,i){n=a(e,i,t,l),n&&(o[i]=n,r=!1)}),{invalidAttrs:o,isValid:r}},c=function(e,i){return{preValidate:function(e,i){var s=this,n={},o;return t.isObject(e)?(t.each(e,function(t,e){o=s.preValidate(e,t),o&&(n[e]=o)}),t.isEmpty(n)?void 0:n):a(this,e,i,t.extend({},this.attributes))},isValid:function(e){var i=s(this.attributes);return t.isString(e)?!a(this,e,i[e],t.extend({},this.attributes)):t.isArray(e)?t.reduce(e,function(e,s){return e&&!a(this,s,i[s],t.extend({},this.attributes))},!0,this):(e===!0&&this.validate(),this.validation?this._isValid:!0)},validate:function(o,r){var a=this,h=!o,c=t.extend({},i,r),u=n(a),d=t.extend({},u,a.attributes,o),p=s(o||d),f=l(a,d);return a._isValid=f.isValid,t.each(u,function(t,i){var s=f.invalidAttrs.hasOwnProperty(i);s||c.valid(e,i,c.selector)}),t.each(u,function(t,i){var s=f.invalidAttrs.hasOwnProperty(i),n=p.hasOwnProperty(i);s&&(n||h)&&c.invalid(e,i,f.invalidAttrs[i],c.selector)}),t.defer(function(){a.trigger("validated",a._isValid,a,f.invalidAttrs),a.trigger("validated:"+(a._isValid?"valid":"invalid"),a,f.invalidAttrs)}),!c.forceUpdate&&t.intersection(t.keys(f.invalidAttrs),t.keys(p)).length>0?f.invalidAttrs:void 0}}},u=function(e,i,s){t.extend(i,c(e,s))},d=function(t){delete t.validate,delete t.preValidate,delete t.isValid},p=function(t){u(this.view,t,this.options)},f=function(t){d(t)};return{version:"0.9.1",configure:function(i){t.extend(e,i)},bind:function(i,s){s=t.extend({},e,o,s);var n=s.model||i.model,r=s.collection||i.collection;if("undefined"==typeof n&&"undefined"==typeof r)throw"Before you execute the binding your view must have a model or a collection.\nSee http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.";n?u(i,n,s):r&&(r.each(function(t){u(i,t,s)}),r.bind("add",p,{view:i,options:s}),r.bind("remove",f))},unbind:function(e,i){i=t.extend({},i);var s=i.model||e.model,n=i.collection||e.collection;s?d(s):n&&(n.each(function(t){d(t)}),n.unbind("add",p),n.unbind("remove",f))},mixin:c(null,e)}}(),o=n.callbacks={valid:function(t,e,i){t.$("["+i+'~="'+e+'"]').removeClass("invalid").removeAttr("data-error")},invalid:function(t,e,i,s){t.$("["+s+'~="'+e+'"]').addClass("invalid").attr("data-error",i)}},r=n.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},a=n.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",digits:"{0} must only contain digits",number:"{0} must be a number",email:"{0} must be a valid email",url:"{0} must be a valid url",inlinePattern:"{0} is invalid"},l=n.labelFormatters={none:function(t){return t},sentenceCase:function(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,function(t,e){return 0===e?t.toUpperCase():" "+t.toLowerCase()}).replace(/_/g," ")},label:function(t,e){return e.labels&&e.labels[t]||l.sentenceCase(t,e)}},h=n.validators=function(){var e=String.prototype.trim?function(t){return null===t?"":String.prototype.trim.call(t)}:function(t){var e=/^\s+/,i=/\s+$/;return null===t?"":t.toString().replace(e,"").replace(i,"")},i=function(e){return t.isNumber(e)||t.isString(e)&&e.match(r.number)},s=function(i){return!(t.isNull(i)||t.isUndefined(i)||t.isString(i)&&""===e(i)||t.isArray(i)&&t.isEmpty(i))};return{fn:function(e,i,s,n,o){return t.isString(s)&&(s=n[s]),s.call(n,e,i,o)},required:function(e,i,n,o,r){var l=t.isFunction(n)?n.call(o,e,i,r):n;return l||s(e)?l&&!s(e)?this.format(a.required,this.formatLabel(i,o)):void 0:!1},acceptance:function(e,i,s,n){return"true"===e||t.isBoolean(e)&&e!==!1?void 0:this.format(a.acceptance,this.formatLabel(i,n))},min:function(t,e,s,n){return!i(t)||s>t?this.format(a.min,this.formatLabel(e,n),s):void 0},max:function(t,e,s,n){return!i(t)||t>s?this.format(a.max,this.formatLabel(e,n),s):void 0},range:function(t,e,s,n){return!i(t)||t<s[0]||t>s[1]?this.format(a.range,this.formatLabel(e,n),s[0],s[1]):void 0},length:function(e,i,s,n){return t.isString(e)&&e.length===s?void 0:this.format(a.length,this.formatLabel(i,n),s)},minLength:function(e,i,s,n){return!t.isString(e)||e.length<s?this.format(a.minLength,this.formatLabel(i,n),s):void 0},maxLength:function(e,i,s,n){return!t.isString(e)||e.length>s?this.format(a.maxLength,this.formatLabel(i,n),s):void 0},rangeLength:function(e,i,s,n){return!t.isString(e)||e.length<s[0]||e.length>s[1]?this.format(a.rangeLength,this.formatLabel(i,n),s[0],s[1]):void 0},oneOf:function(e,i,s,n){return t.include(s,e)?void 0:this.format(a.oneOf,this.formatLabel(i,n),s.join(", "))},equalTo:function(t,e,i,s,n){return t!==n[i]?this.format(a.equalTo,this.formatLabel(e,s),this.formatLabel(i,s)):void 0},pattern:function(t,e,i,n){return s(t)&&t.toString().match(r[i]||i)?void 0:this.format(a[i]||a.inlinePattern,this.formatLabel(e,n),i)}}}();return t.each(h,function(e,s){h[s]=t.bind(h[s],t.extend({},i,h))}),n}(_),+function($){"use strict";function t(t){$(i).remove(),$(s).each(function(){var i=e($(this)),s={relatedTarget:this};i.hasClass("open")&&(i.trigger(t=$.Event("hide.bs.dropdown",s)),t.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown",s))})}function e(t){var e=t.attr("data-target");e||(e=t.attr("href"),e=e&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var i=e&&$(e);return i&&i.length?i:t.parent()}var i=".dropdown-backdrop",s="[data-toggle=dropdown]",n=function(t){$(t).on("click.bs.dropdown",this.toggle)};n.prototype.toggle=function(i){var s=$(this);if(!s.is(".disabled, :disabled")){var n=e(s),o=n.hasClass("open");if(t(),!o){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&$('<div class="dropdown-backdrop"/>').insertAfter($(this)).on("click",t);var r={relatedTarget:this};if(n.trigger(i=$.Event("show.bs.dropdown",r)),i.isDefaultPrevented())return;n.toggleClass("open").trigger("shown.bs.dropdown",r),s.focus()}return!1}},n.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var i=$(this);if(t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled")){var n=e(i),o=n.hasClass("open");if(!o||o&&27==t.keyCode)return 27==t.which&&n.find(s).focus(),i.click();var r=" li:not(.divider):visible a",a=n.find("[role=menu]"+r+", [role=listbox]"+r);if(a.length){var l=a.index(a.filter(":focus"));38==t.keyCode&&l>0&&l--,40==t.keyCode&&l<a.length-1&&l++,~l||(l=0),a.eq(l).focus()}}}};var o=$.fn.dropdown;$.fn.dropdown=function(t){return this.each(function(){var e=$(this),i=e.data("bs.dropdown");i||e.data("bs.dropdown",i=new n(this)),"string"==typeof t&&i[t].call(e)})},$.fn.dropdown.Constructor=n,$.fn.dropdown.noConflict=function(){return $.fn.dropdown=o,this},$(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,n.prototype.toggle).on("keydown.bs.dropdown.data-api",s+", [role=menu], [role=listbox]",n.prototype.keydown)}(jQuery),+function($){"use strict";var t=function(t,e){this.options=e,this.$element=$(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,$.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},t.prototype.show=function(t){var e=this,i=$.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this)),this.backdrop(function(){var i=$.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show().scrollTop(0),i&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus();var s=$.Event("shown.bs.modal",{relatedTarget:t});i?e.$element.find(".modal-dialog").one($.support.transition.end,function(){e.$element.focus().trigger(s)}).emulateTransitionEnd(300):e.$element.focus().trigger(s)}))},t.prototype.hide=function(t){t&&t.preventDefault(),t=$.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),$(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),$.support.transition&&this.$element.hasClass("fade")?this.$element.one($.support.transition.end,$.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",$.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=$.support.transition&&e;if(this.$backdrop=$('<div class="modal-backdrop '+e+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",$.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one($.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one($.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var e=$.fn.modal;$.fn.modal=function(e,i){return this.each(function(){var s=$(this),n=s.data("bs.modal"),o=$.extend({},t.DEFAULTS,s.data(),"object"==typeof e&&e);n||s.data("bs.modal",n=new t(this,o)),"string"==typeof e?n[e](i):o.show&&n.show(i)})},$.fn.modal.Constructor=t,$.fn.modal.noConflict=function(){return $.fn.modal=e,this},$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=$(this),i=e.attr("href"),s=$(e.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),n=s.data("bs.modal")?"toggle":$.extend({remote:!/#/.test(i)&&i},s.data(),e.data());e.is("a")&&t.preventDefault(),s.modal(n,this).one("hide",function(){e.is(":visible")&&e.focus()})}),$(document).on("show.bs.modal",".modal",function(){$(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){$(document.body).removeClass("modal-open")})}(jQuery),function($){var t={className:"autosizejs",id:"autosizejs",append:"",callback:!1,resizeDelay:10,placeholder:!0},e='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',i=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],s,n=$(e).data("autosize",!0)[0];n.style.lineHeight="99px","99px"===$(n).css("lineHeight")&&i.push("lineHeight"),n.style.lineHeight="",$.fn.autosize=function(e){return this.length?(e=$.extend({},t,e||{}),n.parentNode!==document.body&&$(document.body).append(n),this.each(function(){function t(){var t,e=window.getComputedStyle?window.getComputedStyle(l,null):!1;e?(t=l.getBoundingClientRect().width,0===t&&(t=parseInt(e.width,10)),$.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(i,s){t-=parseInt(e[s],10)})):t=Math.max(h.width(),0),n.style.width=t+"px"}function o(){var o={};if(s=l,n.className=e.className,n.id=e.id,c=parseInt(h.css("maxHeight"),10),$.each(i,function(t,e){o[e]=h.css(e)}),$(n).css(o).attr("wrap",h.attr("wrap")),t(),window.chrome){var r=l.style.width;l.style.width="0px";var a=l.offsetWidth;l.style.width=r}}function r(){var i,r;s!==l?o():t(),n.value=!l.value&&e.placeholder?(h.attr("placeholder")||"")+e.append:l.value+e.append,n.style.overflowY=l.style.overflowY,r=parseInt(l.style.height,10),n.scrollTop=0,n.scrollTop=9e4,i=n.scrollTop,c&&i>c?(l.style.overflowY="scroll",i=c):(l.style.overflowY="hidden",u>i&&(i=u)),i+=d,r!==i&&(l.style.height=i+"px",p&&e.callback.call(l,l))}function a(){clearTimeout(g),g=setTimeout(function(){var t=h.width();t!==m&&(m=t,r())},parseInt(e.resizeDelay,10))}var l=this,h=$(l),c,u,d=0,p=$.isFunction(e.callback),f={height:l.style.height,overflow:l.style.overflow,overflowY:l.style.overflowY,wordWrap:l.style.wordWrap,resize:l.style.resize},g,m=h.width();h.data("autosize")||(h.data("autosize",!0),("border-box"===h.css("box-sizing")||"border-box"===h.css("-moz-box-sizing")||"border-box"===h.css("-webkit-box-sizing"))&&(d=h.outerHeight()-h.height()),u=Math.max(parseInt(h.css("minHeight"),10)-d||0,h.height()),h.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:"none"===h.css("resize")||"vertical"===h.css("resize")?"none":"horizontal"}),"onpropertychange"in l?"oninput"in l?h.on("input.autosize keyup.autosize",r):h.on("propertychange.autosize",function(){"value"===event.propertyName&&r()}):h.on("input.autosize",r),e.resizeDelay!==!1&&$(window).on("resize.autosize",a),h.on("autosize.resize",r),h.on("autosize.resizeIncludeStyle",function(){s=null,r()}),h.on("autosize.destroy",function(){s=null,clearTimeout(g),$(window).off("resize",a),h.off("autosize").off(".autosize").css(f).removeData("autosize")}),r())})):this}}(window.jQuery||window.$),function($){$.fn.slugify=function(t,e){return this.each(function(){var i=$(this),s=$(t);i.on("keyup change",function(){""!==i.val()&&void 0!==i.val()?i.data("locked",!0):i.data("locked",!1)}),s.on("keyup change",function(){!0!==i.data("locked")&&(i.is("input")||i.is("textarea")?i.val($.slugify(s.val(),e)):i.text($.slugify(s.val(),e)))})})},$.slugify=function(t,e){return e=$.extend({},$.slugify.options,e),"function"==typeof e.preSlug&&(t=e.preSlug(t)),t=$.trim(t),t=t.toLowerCase(),$.each(e.replaceMap,function(i,s){t=t.replace(new RegExp(i,"g"),s||e.invalid)}),t=t.replace(/\s+/g,e.whitespace).replace(new RegExp("[^a-z0-9 "+e.whitespace+"]","g"),e.invalid),"function"==typeof e.postSlug&&(t=e.postSlug(t)),t},$.slugify.options={whitespace:"-",invalid:"",preSlug:null,postSlug:null,replaceMap:{"":"a","":"a","":"a","":"ae","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"i","":"o","":"o","":"o","":"oe","":"o","":"oe","":"ss","":"u","":"u","":"u","":"ue","":"u","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i",i:"i","":"i","":"j","":"j","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","n":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","o":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"p","":"p","":"p","":"p","p":"p","":"p","":"p","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","s":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"a","":"b","":"g","":"g","":"d","":"d","":"e","":"z","":"i","":"th","":"i","":"k","":"l","":"m","":"m","":"n","":"x","":"o","":"p","":"r","":"s","":"s","":"t","":"u","":"f","":"ch","":"ps","":"o","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"r","":"r","":"a","":"b","":"v","":"g","":"d","":"e","":"e","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"ts","":"ch","":"sh","":"sh","":"i","":"","":"e","":"yu","":"ya","":"j","":"f","":"e","":"i","":"z","":"ks","":"ps","":"o","":"yu","":"ya","":"yu","":"ya"}}}(jQuery),function($){$.timer=function(func,time,autostart){return this.set=function(func,time,autostart){if(this.init=!0,"object"==typeof func){var paramList=["autostart","time"];for(var arg in paramList)void 0!=func[paramList[arg]]&&eval(paramList[arg]+" = func[paramList[arg]]");func=func.action}return"function"==typeof func&&(this.action=func),isNaN(time)||(this.intervalTime=time),autostart&&!this.isActive&&(this.isActive=!0,this.setTimer()),this},this.once=function(t){var e=this;return isNaN(t)&&(t=0),window.setTimeout(function(){e.action()},t),this},this.play=function(t){return this.isActive||(t?this.setTimer():this.setTimer(this.remaining),this.isActive=!0),this},this.pause=function(){return this.isActive&&(this.isActive=!1,this.remaining-=new Date-this.last,this.clearTimer()),this},this.stop=function(){return this.isActive=!1,this.remaining=this.intervalTime,this.clearTimer(),this},this.toggle=function(t){return this.isActive?this.pause():t?this.play(!0):this.play(),this},this.reset=function(){return this.isActive=!1,this.play(!0),this},this.clearTimer=function(){window.clearTimeout(this.timeoutObject)},this.setTimer=function(t){var e=this;"function"==typeof this.action&&(isNaN(t)&&(t=this.intervalTime),this.remaining=t,this.last=new Date,this.clearTimer(),this.timeoutObject=window.setTimeout(function(){e.go()},t))},this.go=function(){this.isActive&&(this.action(),this.setTimer())},this.init?new $.timer(func,time,autostart):(this.set(func,time,autostart),this)}}(jQuery),function($,t){function e(t,e){var s,n,o,r=t.nodeName.toLowerCase();return"area"===r?(s=t.parentNode,n=s.name,t.href&&n&&"map"===s.nodeName.toLowerCase()?(o=$("img[usemap=#"+n+"]")[0],!!o&&i(o)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||e:e)&&i(t)}function i(t){return $.expr.filters.visible(t)&&!$(t).parents().addBack().filter(function(){return"hidden"===$.css(this,"visibility")}).length}var s=0,n=/^ui-id-\d+$/;$.ui=$.ui||{},$.extend($.ui,{version:"@VERSION",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),$.fn.extend({focus:function(t){return function(e,i){return"number"==typeof e?this.each(function(){var t=this;setTimeout(function(){$(t).focus(),i&&i.call(t)},e)}):t.apply(this,arguments)}}($.fn.focus),scrollParent:function(){var t;return t=$.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test($.css(this,"position"))&&/(auto|scroll)/.test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?$(document):t},zIndex:function(e){if(e!==t)return this.css("zIndex",e);if(this.length)for(var i=$(this[0]),s,n;i.length&&i[0]!==document;){if(s=i.css("position"),("absolute"===s||"relative"===s||"fixed"===s)&&(n=parseInt(i.css("zIndex"),10),!isNaN(n)&&0!==n))return n;i=i.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){n.test(this.id)&&$(this).removeAttr("id")})}}),$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(t){return function(e){return!!$.data(e,t)}}):function(t,e,i){return!!$.data(t,i[3])},focusable:function(t){return e(t,!isNaN($.attr(t,"tabindex")))},tabbable:function(t){var i=$.attr(t,"tabindex"),s=isNaN(i);return(s||i>=0)&&e(t,!s)}}),$("<a>").outerWidth(1).jquery||$.each(["Width","Height"],function(e,i){function s(t,e,i,s){return $.each(n,function(){e-=parseFloat($.css(t,"padding"+this))||0,i&&(e-=parseFloat($.css(t,"border"+this+"Width"))||0),s&&(e-=parseFloat($.css(t,"margin"+this))||0)}),e}var n="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),r={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};$.fn["inner"+i]=function(e){return e===t?r["inner"+i].call(this):this.each(function(){$(this).css(o,s(this,e)+"px")})},$.fn["outer"+i]=function(t,e){return"number"!=typeof t?r["outer"+i].call(this,t):this.each(function(){$(this).css(o,s(this,t,!0,e)+"px")})}}),$.fn.addBack||($.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),$("<a>").data("a-b","a").removeData("a-b").data("a-b")&&($.fn.removeData=function(t){return function(e){return arguments.length?t.call(this,$.camelCase(e)):t.call(this)}}($.fn.removeData)),$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),$.support.selectstart="onselectstart"in document.createElement("div"),$.fn.extend({disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),$.extend($.ui,{plugin:{add:function(t,e,i){var s,n=$.ui[t].prototype;for(s in i)n.plugins[s]=n.plugins[s]||[],n.plugins[s].push([e,i[s]])},call:function(t,e,i){var s,n=t.plugins[e];if(n&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(s=0;s<n.length;s++)t.options[n[s][0]]&&n[s][1].apply(t.element,i)}},hasScroll:function(t,e){if("hidden"===$(t).css("overflow"))return!1;var i=e&&"left"===e?"scrollLeft":"scrollTop",s=!1;return t[i]>0?!0:(t[i]=1,s=t[i]>0,t[i]=0,s)}})}(jQuery),function($,t){var e=0,i=Array.prototype.slice,s=$.cleanData;$.cleanData=function(t){for(var e=0,i;null!=(i=t[e]);e++)try{$(i).triggerHandler("remove")}catch(n){}s(t)},$.widget=function(t,e,i){var s,n,o,r,a={},l=t.split(".")[0];t=t.split(".")[1],s=l+"-"+t,i||(i=e,e=$.Widget),$.expr[":"][s.toLowerCase()]=function(t){return!!$.data(t,s)},$[l]=$[l]||{},n=$[l][t],o=$[l][t]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},$.extend(o,n,{version:i.version,_proto:$.extend({},i),_childConstructors:[]}),r=new e,r.options=$.widget.extend({},r.options),$.each(i,function(t,i){return $.isFunction(i)?void(a[t]=function(){var s=function(){return e.prototype[t].apply(this,arguments)},n=function(i){return e.prototype[t].apply(this,i)};return function(){var t=this._super,e=this._superApply,o;return this._super=s,this._superApply=n,o=i.apply(this,arguments),this._super=t,this._superApply=e,o}}()):void(a[t]=i)}),o.prototype=$.widget.extend(r,{widgetEventPrefix:n?r.widgetEventPrefix||t:t},a,{constructor:o,namespace:l,widgetName:t,widgetFullName:s}),n?($.each(n._childConstructors,function(t,e){var i=e.prototype;$.widget(i.namespace+"."+i.widgetName,o,e._proto)}),delete n._childConstructors):e._childConstructors.push(o),$.widget.bridge(t,o)},$.widget.extend=function(e){for(var s=i.call(arguments,1),n=0,o=s.length,r,a;o>n;n++)for(r in s[n])a=s[n][r],s[n].hasOwnProperty(r)&&a!==t&&(e[r]=$.isPlainObject(a)?$.isPlainObject(e[r])?$.widget.extend({},e[r],a):$.widget.extend({},a):a);return e},$.widget.bridge=function(e,s){var n=s.prototype.widgetFullName||e;$.fn[e]=function(o){var r="string"==typeof o,a=i.call(arguments,1),l=this;
return o=!r&&a.length?$.widget.extend.apply(null,[o].concat(a)):o,this.each(r?function(){var i,s=$.data(this,n);return s?$.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,a),i!==s&&i!==t?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):$.error("no such method '"+o+"' for "+e+" widget instance"):$.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}:function(){var t=$.data(this,n);t?t.option(o||{})._init():$.data(this,n,new s(o,this))}),l}},$.Widget=function(){},$.Widget._childConstructors=[],$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=$(i||this.defaultElement||this)[0],this.element=$(i),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=$.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=$(),this.hoverable=$(),this.focusable=$(),i!==this&&($.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=$(i.style?i.ownerDocument:i.document||i),this.window=$(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:$.noop,widget:function(){return this.element},option:function(e,i){var s=e,n,o,r;if(0===arguments.length)return $.widget.extend({},this.options);if("string"==typeof e)if(s={},n=e.split("."),e=n.shift(),n.length){for(o=s[e]=$.widget.extend({},this.options[e]),r=0;r<n.length-1;r++)o[n[r]]=o[n[r]]||{},o=o[n[r]];if(e=n.pop(),1===arguments.length)return o[e]===t?null:o[e];o[e]=i}else{if(1===arguments.length)return this.options[e]===t?null:this.options[e];s[e]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,e,i){var s,n=this;"boolean"!=typeof t&&(i=e,e=t,t=!1),i?(e=s=$(e),this.bindings=this.bindings.add(e)):(i=e,e=this.element,s=this.widget()),$.each(i,function(i,o){function r(){return t||n.options.disabled!==!0&&!$(this).hasClass("ui-state-disabled")?("string"==typeof o?n[o]:o).apply(n,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||$.guid++);var a=i.match(/^(\w+)\s*(.*)$/),l=a[1]+n.eventNamespace,h=a[2];h?s.delegate(h,l,r):e.bind(l,r)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){$(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){$(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){$(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){$(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,e,i){var s,n,o=this.options[t];if(i=i||{},e=$.Event(e),e.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],n=e.originalEvent)for(s in n)s in e||(e[s]=n[s]);return this.element.trigger(e,i),!($.isFunction(o)&&o.apply(this.element[0],[e].concat(i))===!1||e.isDefaultPrevented())}},$.each({show:"fadeIn",hide:"fadeOut"},function(t,e){$.Widget.prototype["_"+t]=function(i,s,n){"string"==typeof s&&(s={effect:s});var o,r=s?s===!0||"number"==typeof s?e:s.effect||e:t;s=s||{},"number"==typeof s&&(s={duration:s}),o=!$.isEmptyObject(s),s.complete=n,s.delay&&i.delay(s.delay),o&&$.effects&&$.effects.effect[r]?i[t](s):r!==t&&i[r]?i[r](s.duration,s.easing,n):i.queue(function(e){$(this)[t](),n&&n.call(i[0]),e()})}})}(jQuery),function($,t){var e=!1;$(document).mouseup(function(){e=!1}),$.widget("ui.mouse",{version:"@VERSION",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(e){return!0===$.data(e.target,t.widgetName+".preventClickEvent")?($.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!e){this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,s=1===t.which,n="string"==typeof this.options.cancel&&t.target.nodeName?$(t.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===$.data(t.target,this.widgetName+".preventClickEvent")&&$.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},$(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(t){return $.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return $(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&$.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function($,t){$.widget("ui.draggable",$.ui.mouse,{version:"@VERSION",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var e=this.options;return this.helper||e.disabled||$(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?($(e.iframeFix===!0?"iframe":e.iframeFix).each(function(){$("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css($(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),$.ui.ddmanager&&($.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,$.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),$.ui.ddmanager&&!e.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),$.ui.ddmanager&&$.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,e){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!e){var i=this._uiHash();if(this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),$.ui.ddmanager&&$.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=this,i=!1;return $.ui.ddmanager&&!this.options.dropBehaviour&&(i=$.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"original"!==this.options.helper||$.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||$.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){e._trigger("stop",t)!==!1&&e._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return $("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),$.ui.ddmanager&&$.ui.ddmanager.dragStop(this,t),$.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!$(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var e=this.options,i=$.isFunction(e.helper)?$(e.helper.apply(this.element[0],[t])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),$.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&$.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,s=this.options;return s.containment?"window"===s.containment?void(this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-this.helperProportions.width-this.margins.left,$(window).scrollTop()+($(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===s.containment?void(this.containment=[0,0,$(document).width()-this.helperProportions.width-this.margins.left,($(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):s.containment.constructor===Array?void(this.containment=s.containment):("parent"===s.containment&&(s.containment=this.helper[0].parentNode),e=$(s.containment),i=e[0],void(i&&(t="hidden"!==e.css("overflow"),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=e))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:s.scrollTop(),left:s.scrollLeft()}),{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*i}},_generatePosition:function(t){var e,i,s,n,o=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=t.pageX,l=t.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(i=this.relative_container.offset(),e=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):e=this.containment,t.pageX-this.offset.click.left<e[0]&&(a=e[0]+this.offset.click.left),t.pageY-this.offset.click.top<e[1]&&(l=e[1]+this.offset.click.top),t.pageX-this.offset.click.left>e[2]&&(a=e[2]+this.offset.click.left),t.pageY-this.offset.click.top>e[3]&&(l=e[3]+this.offset.click.top)),o.grid&&(s=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=e?s-this.offset.click.top>=e[1]||s-this.offset.click.top>e[3]?s:s-this.offset.click.top>=e[1]?s-o.grid[1]:s+o.grid[1]:s,n=o.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,a=e?n-this.offset.click.left>=e[0]||n-this.offset.click.left>e[2]?n:n-this.offset.click.left>=e[0]?n-o.grid[0]:n+o.grid[0]:n)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,e,i){return i=i||this._uiHash(),$.ui.plugin.call(this,t,[e,i]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),$.Widget.prototype._trigger.call(this,t,e,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),$.ui.plugin.add("draggable","connectToSortable",{start:function(t,e){var i=$(this).data("ui-draggable"),s=i.options,n=$.extend({},e,{item:i.element});i.sortables=[],$(s.connectToSortable).each(function(){var e=$.data(this,"ui-sortable");e&&!e.options.disabled&&(i.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",t,n))})},stop:function(t,e){var i=$(this).data("ui-draggable"),s=$.extend({},e,{item:i.element});$.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,s))})},drag:function(t,e){var i=$(this).data("ui-draggable"),s=this;$.each(i.sortables,function(){var n=!1,o=this;this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(n=!0,$.each(i.sortables,function(){return this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&$.contains(o.instance.element[0],this.instance.element[0])&&(n=!1),n})),n?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=$(s).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return e.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i._trigger("toSortable",t),i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i._trigger("fromSortable",t),i.dropped=!1)})}}),$.ui.plugin.add("draggable","cursor",{start:function(){var t=$("body"),e=$(this).data("ui-draggable").options;t.css("cursor")&&(e._cursor=t.css("cursor")),t.css("cursor",e.cursor)},stop:function(){var t=$(this).data("ui-draggable").options;t._cursor&&$("body").css("cursor",t._cursor)}}),$.ui.plugin.add("draggable","opacity",{start:function(t,e){var i=$(e.helper),s=$(this).data("ui-draggable").options;i.css("opacity")&&(s._opacity=i.css("opacity")),i.css("opacity",s.opacity)},stop:function(t,e){var i=$(this).data("ui-draggable").options;i._opacity&&$(e.helper).css("opacity",i._opacity)}}),$.ui.plugin.add("draggable","scroll",{start:function(){var t=$(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var e=$(this).data("ui-draggable"),i=e.options,s=!1;e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName?(i.axis&&"x"===i.axis||(e.overflowOffset.top+e.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?e.scrollParent[0].scrollTop=s=e.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-e.overflowOffset.top<i.scrollSensitivity&&(e.scrollParent[0].scrollTop=s=e.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(e.overflowOffset.left+e.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?e.scrollParent[0].scrollLeft=s=e.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-e.overflowOffset.left<i.scrollSensitivity&&(e.scrollParent[0].scrollLeft=s=e.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-$(document).scrollTop()<i.scrollSensitivity?s=$(document).scrollTop($(document).scrollTop()-i.scrollSpeed):$(window).height()-(t.pageY-$(document).scrollTop())<i.scrollSensitivity&&(s=$(document).scrollTop($(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-$(document).scrollLeft()<i.scrollSensitivity?s=$(document).scrollLeft($(document).scrollLeft()-i.scrollSpeed):$(window).width()-(t.pageX-$(document).scrollLeft())<i.scrollSensitivity&&(s=$(document).scrollLeft($(document).scrollLeft()+i.scrollSpeed)))),s!==!1&&$.ui.ddmanager&&!i.dropBehaviour&&$.ui.ddmanager.prepareOffsets(e,t)}}),$.ui.plugin.add("draggable","snap",{start:function(){var t=$(this).data("ui-draggable"),e=t.options;t.snapElements=[],$(e.snap.constructor!==String?e.snap.items||":data(ui-draggable)":e.snap).each(function(){var e=$(this),i=e.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(t,e){var i,s,n,o,r,a,l,h,c,u,d=$(this).data("ui-draggable"),p=d.options,f=p.snapTolerance,g=e.offset.left,m=g+d.helperProportions.width,v=e.offset.top,b=v+d.helperProportions.height;for(c=d.snapElements.length-1;c>=0;c--)r=d.snapElements[c].left,a=r+d.snapElements[c].width,l=d.snapElements[c].top,h=l+d.snapElements[c].height,r-f>m||g>a+f||l-f>b||v>h+f||!$.contains(d.snapElements[c].item.ownerDocument,d.snapElements[c].item)?(d.snapElements[c].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,t,$.extend(d._uiHash(),{snapItem:d.snapElements[c].item})),d.snapElements[c].snapping=!1):("inner"!==p.snapMode&&(i=Math.abs(l-b)<=f,s=Math.abs(h-v)<=f,n=Math.abs(r-m)<=f,o=Math.abs(a-g)<=f,i&&(e.position.top=d._convertPositionTo("relative",{top:l-d.helperProportions.height,left:0}).top-d.margins.top),s&&(e.position.top=d._convertPositionTo("relative",{top:h,left:0}).top-d.margins.top),n&&(e.position.left=d._convertPositionTo("relative",{top:0,left:r-d.helperProportions.width}).left-d.margins.left),o&&(e.position.left=d._convertPositionTo("relative",{top:0,left:a}).left-d.margins.left)),u=i||s||n||o,"outer"!==p.snapMode&&(i=Math.abs(l-v)<=f,s=Math.abs(h-b)<=f,n=Math.abs(r-g)<=f,o=Math.abs(a-m)<=f,i&&(e.position.top=d._convertPositionTo("relative",{top:l,left:0}).top-d.margins.top),s&&(e.position.top=d._convertPositionTo("relative",{top:h-d.helperProportions.height,left:0}).top-d.margins.top),n&&(e.position.left=d._convertPositionTo("relative",{top:0,left:r}).left-d.margins.left),o&&(e.position.left=d._convertPositionTo("relative",{top:0,left:a-d.helperProportions.width}).left-d.margins.left)),!d.snapElements[c].snapping&&(i||s||n||o||u)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,t,$.extend(d._uiHash(),{snapItem:d.snapElements[c].item})),d.snapElements[c].snapping=i||s||n||o||u)}}),$.ui.plugin.add("draggable","stack",{start:function(){var t,e=this.data("ui-draggable").options,i=$.makeArray($(e.stack)).sort(function(t,e){return(parseInt($(t).css("zIndex"),10)||0)-(parseInt($(e).css("zIndex"),10)||0)});i.length&&(t=parseInt($(i[0]).css("zIndex"),10)||0,$(i).each(function(e){$(this).css("zIndex",t+e)}),this.css("zIndex",t+i.length))}}),$.ui.plugin.add("draggable","zIndex",{start:function(t,e){var i=$(e.helper),s=$(this).data("ui-draggable").options;i.css("zIndex")&&(s._zIndex=i.css("zIndex")),i.css("zIndex",s.zIndex)},stop:function(t,e){var i=$(this).data("ui-draggable").options;i._zIndex&&$(e.helper).css("zIndex",i._zIndex)}})}(jQuery),function($,t){function e(t,e,i){return t>e&&e+i>t}$.widget("ui.droppable",{version:"@VERSION",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept=$.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},$.ui.ddmanager.droppables[e.scope]=$.ui.ddmanager.droppables[e.scope]||[],$.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var t=0,e=$.ui.ddmanager.droppables[this.options.scope];t<e.length;t++)e[t]===this&&e.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,e){"accept"===t&&(this.accept=$.isFunction(e)?e:function(t){return t.is(e)}),$.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var e=$.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=$.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=$.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=$.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(e)))},_drop:function(t,e){var i=e||$.ui.ddmanager.current,s=!1;return i&&(i.currentItem||i.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=$.data(this,"ui-droppable");return t.options.greedy&&!t.options.disabled&&t.options.scope===i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&$.ui.intersect(i,$.extend(t,{offset:t.element.offset()}),t.options.tolerance)?(s=!0,!1):void 0}),s?!1:this.accept.call(this.element[0],i.currentItem||i.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(i)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),$.ui.intersect=function(t,i,s){if(!i.offset)return!1;var n,o,r=(t.positionAbs||t.position.absolute).left,a=(t.positionAbs||t.position.absolute).top,l=r+t.helperProportions.width,h=a+t.helperProportions.height,c=i.offset.left,u=i.offset.top,d=c+i.proportions().width,p=u+i.proportions().height;switch(s){case"fit":return r>=c&&d>=l&&a>=u&&p>=h;case"intersect":return c<r+t.helperProportions.width/2&&l-t.helperProportions.width/2<d&&u<a+t.helperProportions.height/2&&h-t.helperProportions.height/2<p;case"pointer":return n=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,o=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(o,u,i.proportions().height)&&e(n,c,i.proportions().width);case"touch":return(a>=u&&p>=a||h>=u&&p>=h||u>a&&h>p)&&(r>=c&&d>=r||l>=c&&d>=l||c>r&&l>d);default:return!1}},$.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,e){var i,s,n=$.ui.ddmanager.droppables[t.options.scope]||[],o=e?e.type:null,r=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<n.length;i++)if(!(n[i].options.disabled||t&&!n[i].accept.call(n[i].element[0],t.currentItem||t.element))){for(s=0;s<r.length;s++)if(r[s]===n[i].element[0]){n[i].proportions().height=0;continue t}n[i].visible="none"!==n[i].element.css("display"),n[i].visible&&("mousedown"===o&&n[i]._activate.call(n[i],e),n[i].offset=n[i].element.offset(),n[i].proportions({width:n[i].element[0].offsetWidth,height:n[i].element[0].offsetHeight}))}},drop:function(t,e){var i=!1;return $.each(($.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&$.ui.intersect(t,this,this.options.tolerance)&&(i=this._drop.call(this,e)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,e)))}),i},dragStart:function(t,e){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||$.ui.ddmanager.prepareOffsets(t,e)})},drag:function(t,e){t.options.refreshPositions&&$.ui.ddmanager.prepareOffsets(t,e),$.each($.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,s,n,o=$.ui.intersect(t,this,this.options.tolerance),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(s=this.options.scope,n=this.element.parents(":data(ui-droppable)").filter(function(){return $.data(this,"ui-droppable").options.scope===s}),n.length&&(i=$.data(n[0],"ui-droppable"),i.greedyChild="isover"===r)),i&&"isover"===r&&(i.isover=!1,i.isout=!0,i._out.call(i,e)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,e),i&&"isout"===r&&(i.isout=!1,i.isover=!0,i._over.call(i,e)))}})},dragStop:function(t,e){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||$.ui.ddmanager.prepareOffsets(t,e)}}}(jQuery),function($,t){function e(t,e,i){return t>e&&e+i>t}function i(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}$.widget("ui.sortable",$.ui.mouse,{version:"@VERSION",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;
this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,e){"disabled"===t?(this.options[t]=e,this.widget().toggleClass("ui-sortable-disabled",!!e)):$.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,e){var i=null,s=!1,n=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),$(t.target).parents().each(function(){return $.data(this,n.widgetName+"-item")===n?(i=$(this),!1):void 0}),$.data(t.target,n.widgetName+"-item")===n&&(i=$(t.target)),i&&(!this.options.handle||e||($(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(s=!0)}),s))?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,e,i){var s,n,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},$.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(n=this.document.find("body"),this.storedCursor=n.css("cursor"),n.css("cursor",o.cursor),this.storedStylesheet=$("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(n)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return $.ui.ddmanager&&($.ui.ddmanager.current=this),$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,i,s,n,o=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-$(document).scrollTop()<o.scrollSensitivity?r=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed):$(window).height()-(t.pageY-$(document).scrollTop())<o.scrollSensitivity&&(r=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed)),t.pageX-$(document).scrollLeft()<o.scrollSensitivity?r=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed):$(window).width()-(t.pageX-$(document).scrollLeft())<o.scrollSensitivity&&(r=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed))),r!==!1&&$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;e>=0;e--)if(i=this.items[e],s=i.item[0],n=this._intersectsWithPointer(i),n&&i.instance===this.currentContainer&&s!==this.currentItem[0]&&this.placeholder[1===n?"next":"prev"]()[0]!==s&&!$.contains(this.placeholder[0],s)&&("semi-dynamic"===this.options.type?!$.contains(this.element[0],s):!0)){if(this.direction=1===n?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),$.ui.ddmanager&&$.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){if(t){if($.ui.ddmanager&&!this.options.dropBehaviour&&$.ui.ddmanager.drop(this,t),this.options.revert){var i=this,s=this.placeholder.offset(),n=this.options.axis,o={};n&&"x"!==n||(o.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),n&&"y"!==n||(o.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,$(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),$.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?$(this.domPosition.prev).after(this.currentItem):$(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},$(e).each(function(){var e=($(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);e&&i.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e.each(function(){i.push($(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,r=o+t.width,a=t.top,l=a+t.height,h=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+h>a&&l>s+h,d="y"===this.options.axis||e+c>o&&r>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&a<s+this.helperProportions.height/2&&n-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),s="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=i&&s,o=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return n?this.floating?r&&"right"===r||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),s=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&s||"left"===o&&!s:n&&("down"===n&&i||"up"===n&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){function e(){r.push(this)}var i,s,n,o,r=[],a=[],l=this._connectWith();if(l&&t)for(i=l.length-1;i>=0;i--)for(n=$(l[i]),s=n.length-1;s>=0;s--)o=$.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&a.push([$.isFunction(o.options.items)?o.options.items.call(o.element):$(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(a.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;i>=0;i--)a[i][0].each(e);return $(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(e){for(var i=0;i<t.length;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e,i,s,n,o,r,a,l,h=this.items,c=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):$(this.options.items,this.element),this]],u=this._connectWith();if(u&&this.ready)for(e=u.length-1;e>=0;e--)for(s=$(u[e]),i=s.length-1;i>=0;i--)n=$.data(s[i],this.widgetFullName),n&&n!==this&&!n.options.disabled&&(c.push([$.isFunction(n.options.items)?n.options.items.call(n.element[0],t,{item:this.currentItem}):$(n.options.items,n.element),n]),this.containers.push(n));for(e=c.length-1;e>=0;e--)for(o=c[e][1],r=c[e][0],i=0,l=r.length;l>i;i++)a=$(r[i]),a.data(this.widgetName+"-item",o),h.push({item:a,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var e,i,s,n;for(e=this.items.length-1;e>=0;e--)i=this.items[e],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?$(this.options.toleranceElement,i.item):i.item,t||(i.width=s.outerWidth(),i.height=s.outerHeight()),n=s.offset(),i.left=n.left,i.top=n.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;e>=0;e--)n=this.containers[e].element.offset(),this.containers[e].containerCache.left=n.left,this.containers[e].containerCache.top=n.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var e,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(e=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),s=$("<"+i+">",t.document[0]).addClass(e||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?t.currentItem.children().each(function(){$("<td>&#160;</td>",t.document[0]).attr("colspan",$(this).attr("colspan")||1).appendTo(s)}):"img"===i&&s.attr("src",t.currentItem.attr("src")),e||s.css("visibility","hidden"),s},update:function(s,n){(!e||i.forcePlaceholderSize)&&(n.height()||n.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=$(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var s,n,o,r,a,l,h,c,u,d,p=null,f=null;for(s=this.containers.length-1;s>=0;s--)if(!$.contains(this.currentItem[0],this.containers[s].element[0]))if(this._intersectsWith(this.containers[s].containerCache)){if(p&&$.contains(this.containers[s].element[0],p.element[0]))continue;p=this.containers[s],f=s}else this.containers[s].containerCache.over&&(this.containers[s]._trigger("out",t,this._uiHash(this)),this.containers[s].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(o=1e4,r=null,d=p.floating||i(this.currentItem),a=d?"left":"top",l=d?"width":"height",h=this.positionAbs[a]+this.offset.click[a],n=this.items.length-1;n>=0;n--)$.contains(this.containers[f].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(!d||e(this.positionAbs.top+this.offset.click.top,this.items[n].top,this.items[n].height))&&(c=this.items[n].item.offset()[a],u=!1,Math.abs(c-h)>Math.abs(c+this.items[n][l]-h)&&(u=!0,c+=this.items[n][l]),Math.abs(c-h)<o&&(o=Math.abs(c-h),r=this.items[n],this.direction=u?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return;r?this._rearrange(t,r,null,!0):this._rearrange(t,null,this.containers[f].element,!0),this._trigger("change",t,this._uiHash()),this.containers[f]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(t){var e=this.options,i=$.isFunction(e.helper)?$(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||$("parent"!==e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||e.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||e.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),$.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&$.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),("document"===s.containment||"window"===s.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,$("document"===s.containment?document:window).width()-this.helperProportions.width-this.margins.left,($("document"===s.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(t=$(s.containment)[0],e=$(s.containment).offset(),i="hidden"!==$(t).css("overflow"),this.containment=[e.left+(parseInt($(t).css("borderLeftWidth"),10)||0)+(parseInt($(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt($(t).css("borderTopWidth"),10)||0)+(parseInt($(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt($(t).css("borderLeftWidth"),10)||0)-(parseInt($(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt($(t).css("borderTopWidth"),10)||0)-(parseInt($(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(s[0].tagName);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():n?0:s.scrollTop())*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():n?0:s.scrollLeft())*i}},_generatePosition:function(t){var e,i,s=this.options,n=t.pageX,o=t.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(n=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(n=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),s.grid&&(e=this.originalPageY+Math.round((o-this.originalPageY)/s.grid[1])*s.grid[1],o=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-s.grid[1]:e+s.grid[1]:e,i=this.originalPageX+Math.round((n-this.originalPageX)/s.grid[0])*s.grid[0],n=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-s.grid[0]:i+s.grid[0]:i)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),s=0;s<n.length;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(s=0;s<n.length;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){$.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||$([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}})}(jQuery),function(t,e,i){function s(t,e,i){return t.addEventListener?void t.addEventListener(e,i,!1):void t.attachEvent("on"+e,i)}function n(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return C[t.which]?C[t.which]:S[t.which]?S[t.which]:String.fromCharCode(t.which).toLowerCase()}function o(t,e){return t.sort().join(",")===e.sort().join(",")}function r(t){t=t||{};var e=!1,i;for(i in I)t[i]?e=!0:I[i]=0;e||(M=!1)}function a(t,e,i,s,n,r){var a,l,h=[],c=i.type;if(!k[t])return[];for("keyup"==c&&f(t)&&(e=[t]),a=0;a<k[t].length;++a)if(l=k[t][a],(s||!l.seq||I[l.seq]==l.level)&&c==l.action&&("keypress"==c&&!i.metaKey&&!i.ctrlKey||o(e,l.modifiers))){var u=!s&&l.combo==n,d=s&&l.seq==s&&l.level==r;(u||d)&&k[t].splice(a,1),h.push(l)}return h}function l(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}function h(t){return t.preventDefault?void t.preventDefault():void(t.returnValue=!1)}function c(t){return t.stopPropagation?void t.stopPropagation():void(t.cancelBubble=!0)}function u(t,e,i,s){N.stopCallback(e,e.target||e.srcElement,i,s)||t(e,i)===!1&&(h(e),c(e))}function d(t,e,i){var s=a(t,e,i),n,o={},l=0,h=!1;for(n=0;n<s.length;++n)s[n].seq&&(l=Math.max(l,s[n].level));for(n=0;n<s.length;++n)if(s[n].seq){if(s[n].level!=l)continue;h=!0,o[s[n].seq]=1,u(s[n].callback,i,s[n].combo,s[n].seq)}else h||u(s[n].callback,i,s[n].combo);var c="keypress"==i.type&&D;i.type!=M||f(t)||c||r(o),D=h&&"keydown"==i.type}function p(t){"number"!=typeof t.which&&(t.which=t.keyCode);var e=n(t);if(e)return"keyup"==t.type&&O===e?void(O=!1):void N.handleKey(e,l(t),t)}function f(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function g(){clearTimeout(A),A=setTimeout(r,1e3)}function m(){if(!F){F={};for(var t in C)t>95&&112>t||C.hasOwnProperty(t)&&(F[C[t]]=t)}return F}function v(t,e,i){return i||(i=m()[t]?"keydown":"keypress"),"keypress"==i&&e.length&&(i="keydown"),i}function b(t,e,i,s){function o(e){return function(){M=e,++I[t],g()}}function a(e){u(i,e,t),"keyup"!==s&&(O=n(e)),setTimeout(r,10)}I[t]=0;for(var l=0;l<e.length;++l){var h=l+1===e.length,c=h?a:o(s||w(e[l+1]).action);x(e[l],c,s,t,l)}}function y(t){return"+"===t?["+"]:t.split("+")}function w(t,e){var i,s,n,o=[];for(i=y(t),n=0;n<i.length;++n)s=i[n],T[s]&&(s=T[s]),e&&"keypress"!=e&&P[s]&&(s=P[s],o.push("shift")),f(s)&&o.push(s);return e=v(s,o,e),{key:s,modifiers:o,action:e}}function x(t,e,i,s,n){E[t+":"+i]=e,t=t.replace(/\s+/g," ");var o=t.split(" "),r;return o.length>1?void b(t,o,e,i):(r=w(t,i),k[r.key]=k[r.key]||[],a(r.key,r.modifiers,{type:r.action},s,t,n),void k[r.key][s?"unshift":"push"]({callback:e,modifiers:r.modifiers,action:r.action,seq:s,level:n,combo:t}))}function _(t,e,i){for(var s=0;s<t.length;++s)x(t[s],e,i)}for(var C={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},S={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},P={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},T={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},F,k={},E={},I={},A,O=!1,D=!1,M=!1,z=1;20>z;++z)C[111+z]="f"+z;for(z=0;9>=z;++z)C[z+96]=z;s(e,"keypress",p),s(e,"keydown",p),s(e,"keyup",p);var N={bind:function(t,e,i){return t=t instanceof Array?t:[t],_(t,e,i),this},unbind:function(t,e){return N.bind(t,function(){},e)},trigger:function(t,e){return E[t+":"+e]&&E[t+":"+e]({},t),this},reset:function(){return k={},E={},this},stopCallback:function(t,e){return(" "+e.className+" ").indexOf(" mousetrap ")>-1?!1:"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable},handleKey:d};t.Mousetrap=N,"function"==typeof define&&define.amd&&define(N)}(window,document),Mousetrap=function(t){var e={},i=t.stopCallback;return t.stopCallback=function(t,s,n,o){return e[n]||e[o]?!1:i(t,s,n)},t.bindGlobal=function(i,s,n){if(t.bind(i,s,n),i instanceof Array)for(var o=0;o<i.length;o++)e[i[o]]=!0;else e[i]=!0},t}(Mousetrap),function(t){"function"==typeof define&&define.amd?define(t):window.purl=t()}(function(){function t(t,e){for(var i=decodeURI(t),s=g[e?"strict":"loose"].exec(i),n={attr:{},param:{},seg:{}},r=14;r--;)n.attr[p[r]]=s[r]||"";return n.param.query=o(n.attr.query),n.param.fragment=o(n.attr.fragment),n.seg.path=n.attr.path.replace(/^\/+|\/+$/g,"").split("/"),n.seg.fragment=n.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),n.attr.base=n.attr.host?(n.attr.protocol?n.attr.protocol+"://"+n.attr.host:n.attr.host)+(n.attr.port?":"+n.attr.port:""):"",n}function e(t){var e=t.tagName;return"undefined"!=typeof e?d[e.toLowerCase()]:e}function i(t,e){if(0===t[e].length)return t[e]={};var i={};for(var s in t[e])i[s]=t[e][s];return t[e]=i,i}function s(t,e,n,o){var r=t.shift();if(r){var a=e[n]=e[n]||[];"]"==r?h(a)?""!==o&&a.push(o):"object"==typeof a?a[c(a).length]=o:a=e[n]=[e[n],o]:~r.indexOf("]")?(r=r.substr(0,r.length-1),!m.test(r)&&h(a)&&(a=i(e,n)),s(t,a,r,o)):(!m.test(r)&&h(a)&&(a=i(e,n)),s(t,a,r,o))}else h(e[n])?e[n].push(o):e[n]="object"==typeof e[n]?o:"undefined"==typeof e[n]?o:[e[n],o]}function n(t,e,i){if(~e.indexOf("]")){var n=e.split("[");s(n,t,"base",i)}else{if(!m.test(e)&&h(t.base)){var o={};for(var a in t.base)o[a]=t.base[a];t.base=o}""!==e&&r(t.base,e,i)}return t}function o(t){return l(String(t).split(/&|;/),function(t,e){try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(i){}var s=e.indexOf("="),o=a(e),r=e.substr(0,o||s),l=e.substr(o||s,e.length);return l=l.substr(l.indexOf("=")+1,l.length),""===r&&(r=e,l=""),n(t,r,l)},{base:{}}).base}function r(t,e,i){var s=t[e];"undefined"==typeof s?t[e]=i:h(s)?s.push(i):t[e]=[s,i]}function a(t){for(var e=t.length,i,s,n=0;e>n;++n)if(s=t[n],"]"==s&&(i=!1),"["==s&&(i=!0),"="==s&&!i)return n}function l(t,e){for(var i=0,s=t.length>>0,n=arguments[2];s>i;)i in t&&(n=e.call(void 0,n,t[i],i,t)),++i;return n}function h(t){return"[object Array]"===Object.prototype.toString.call(t)}function c(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e}function u(e,i){return 1===arguments.length&&e===!0&&(i=!0,e=void 0),i=i||!1,e=e||window.location.toString(),{data:t(e,i),attr:function(t){return t=f[t]||t,"undefined"!=typeof t?this.data.attr[t]:this.data.attr},param:function(t){return"undefined"!=typeof t?this.data.param.query[t]:this.data.param.query},fparam:function(t){return"undefined"!=typeof t?this.data.param.fragment[t]:this.data.param.fragment},segment:function(t){return"undefined"==typeof t?this.data.seg.path:(t=0>t?this.data.seg.path.length+t:t-1,this.data.seg.path[t])},fsegment:function(t){return"undefined"==typeof t?this.data.seg.fragment:(t=0>t?this.data.seg.fragment.length+t:t-1,this.data.seg.fragment[t])}}}var d={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href"},p=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],f={anchor:"fragment"},g={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},m=/^[0-9]+$/;return u.jQuery=function($){null!=$&&($.fn.url=function(t){var i="";return this.length&&(i=$(this).attr(e(this[0]))||""),u(i,t)},$.url=u)},u.jQuery(window.jQuery),u}),function(t,e,i){!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):jQuery&&!jQuery.fn.qtip&&t(jQuery)}(function($){"use strict";function s(t,e,i,s){this.id=i,this.target=t,this.tooltip=T,this.elements={target:t},this._id=B+"-"+i,this.timers={img:{}},this.options=e,this.plugins={},this.cache={event:{},target:$(),disabled:P,attr:s,onTooltip:P,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=P}function n(t){return t===T||"object"!==$.type(t)}function o(t){return!($.isFunction(t)||t&&t.attr||t.length||"object"===$.type(t)&&(t.jquery||t.then))}function r(t){var e,i,s,r;return n(t)?P:(n(t.metadata)&&(t.metadata={type:t.metadata}),"content"in t&&(e=t.content,n(e)||e.jquery||e.done?e=t.content={text:i=o(e)?P:e}:i=e.text,"ajax"in e&&(s=e.ajax,r=s&&s.once!==P,delete e.ajax,e.text=function(t,e){var n=i||$(this).attr(e.options.content.attr)||"Loading...",o=$.ajax($.extend({},s,{context:e})).then(s.success,T,s.error).then(function(t){return t&&r&&e.set("content.text",t),t
},function(t,i,s){e.destroyed||0===t.status||e.set("content.text",i+": "+s)});return r?n:(e.set("content.text",n),o)}),"title"in e&&(n(e.title)||(e.button=e.title.button,e.title=e.title.text),o(e.title||P)&&(e.title=P))),"position"in t&&n(t.position)&&(t.position={my:t.position,at:t.position}),"show"in t&&n(t.show)&&(t.show=t.show.jquery?{target:t.show}:t.show===S?{ready:S}:{event:t.show}),"hide"in t&&n(t.hide)&&(t.hide=t.hide.jquery?{target:t.hide}:{event:t.hide}),"style"in t&&n(t.style)&&(t.style={classes:t.style}),$.each(U,function(){this.sanitize&&this.sanitize(t)}),t)}function a(t,e){for(var i=0,s,n=t,o=e.split(".");n=n[o[i++]];)i<o.length&&(s=n);return[s||t,o.pop()]}function l(t,e){var i,s,n;for(i in this.checks)for(s in this.checks[i])(n=new RegExp(s,"i").exec(t))&&(e.push(n),("builtin"===i||this.plugins[i])&&this.checks[i][s].apply(this.plugins[i]||this,e))}function h(t){return X.concat("").join(t?"-"+t+" ":" ")}function c(i){return i&&{type:i.type,pageX:i.pageX,pageY:i.pageY,target:i.target,relatedTarget:i.relatedTarget,scrollX:i.scrollX||t.pageXOffset||e.body.scrollLeft||e.documentElement.scrollLeft,scrollY:i.scrollY||t.pageYOffset||e.body.scrollTop||e.documentElement.scrollTop}||{}}function u(t,e){return e>0?setTimeout($.proxy(t,this),e):void t.call(this)}function d(t){return this.tooltip.hasClass(ee)?P:(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),void(this.timers.show=u.call(this,function(){this.toggle(S,t)},this.options.show.delay)))}function p(t){if(this.tooltip.hasClass(ee))return P;var e=$(t.relatedTarget),i=e.closest(K)[0]===this.tooltip[0],s=e[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==e[0]&&"mouse"===this.options.position.target&&i||this.options.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(i||s))try{t.preventDefault(),t.stopImmediatePropagation()}catch(n){}else this.timers.hide=u.call(this,function(){this.toggle(P,t)},this.options.hide.delay,this)}function f(t){return this.tooltip.hasClass(ee)||!this.options.hide.inactive?P:(clearTimeout(this.timers.inactive),void(this.timers.inactive=u.call(this,function(){this.hide(t)},this.options.hide.inactive)))}function g(t){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(t)}function m(t,i,s){$(e.body).delegate(t,(i.split?i:i.join(he+" "))+he,function(){var t=H.api[$.attr(this,Y)];t&&!t.disabled&&s.apply(t,arguments)})}function v(t,i,n){var o,a,l,h,c,u=$(e.body),d=t[0]===e?u:t,p=t.metadata?t.metadata(n.metadata):T,f="html5"===n.metadata.type&&p?p[n.metadata.name]:T,g=t.data(n.metadata.name||"qtipopts");try{g="string"==typeof g?$.parseJSON(g):g}catch(m){}if(h=$.extend(S,{},H.defaults,n,"object"==typeof g?r(g):T,r(f||p)),a=h.position,h.id=i,"boolean"==typeof h.content.text){if(l=t.attr(h.content.attr),h.content.attr===P||!l)return P;h.content.text=l}if(a.container.length||(a.container=u),a.target===P&&(a.target=d),h.show.target===P&&(h.show.target=d),h.show.solo===S&&(h.show.solo=a.container.closest("body")),h.hide.target===P&&(h.hide.target=d),h.position.viewport===S&&(h.position.viewport=a.container),a.container=a.container.eq(0),a.at=new q(a.at,S),a.my=new q(a.my),t.data(B))if(h.overwrite)t.qtip("destroy",!0);else if(h.overwrite===P)return P;return t.attr(V,i),h.suppress&&(c=t.attr("title"))&&t.removeAttr("title").attr(se,c).attr("title",""),o=new s(t,h,i,!!l),t.data(B,o),t.one("remove.qtip-"+i+" removeqtip.qtip-"+i,function(){var t;(t=$(this).data(B))&&t.destroy(!0)}),o}function b(t){return t.charAt(0).toUpperCase()+t.slice(1)}function y(t,e){var s=e.charAt(0).toUpperCase()+e.slice(1),n=(e+" "+xe.join(s+" ")+s).split(" "),o,r,a=0;if(we[e])return t.css(we[e]);for(;o=n[a++];)if((r=t.css(o))!==i)return we[e]=o,r}function w(t,e){return Math.ceil(parseFloat(y(t,e)))}function x(t,e){this._ns="tip",this.options=e,this.offset=e.offset,this.size=[e.width,e.height],this.init(this.qtip=t)}function _(t,e){this.options=e,this._ns="-modal",this.init(this.qtip=t)}function C(t,e){this._ns="ie6",this.init(this.qtip=t)}var S=!0,P=!1,T=null,F="x",k="y",E="width",I="height",A="top",O="left",D="bottom",M="right",z="center",N="flip",L="flipinvert",j="shift",H,R,q,W,U={},B="qtip",V="data-hasqtip",Y="data-qtip-id",X=["ui-widget","ui-tooltip"],K="."+B,G="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),Q=B+"-fixed",Z=B+"-default",J=B+"-focus",te=B+"-hover",ee=B+"-disabled",ie="_replacedByqTip",se="oldtitle",ne,oe={ie:function(){for(var t=3,i=e.createElement("div");(i.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->")&&i.getElementsByTagName("i")[0];);return t>4?t:0/0}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||P};R=s.prototype,R._when=function(t){return $.when.apply($,t)},R.render=function(t){if(this.rendered||this.destroyed)return this;var e=this,i=this.options,s=this.cache,n=this.elements,o=i.content.text,r=i.content.title,a=i.content.button,l=i.position,h="."+this._id+" ",c=[],u;return $.attr(this.target[0],"aria-describedby",this._id),this.tooltip=n.tooltip=u=$("<div/>",{id:this._id,"class":[B,Z,i.style.classes,B+"-pos-"+i.position.my.abbrev()].join(" "),width:i.style.width||"",height:i.style.height||"",tracking:"mouse"===l.target&&l.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":P,"aria-describedby":this._id+"-content","aria-hidden":S}).toggleClass(ee,this.disabled).attr(Y,this.id).data(B,this).appendTo(l.container).append(n.content=$("<div />",{"class":B+"-content",id:this._id+"-content","aria-atomic":S})),this.rendered=-1,this.positioning=S,r&&(this._createTitle(),$.isFunction(r)||c.push(this._updateTitle(r,P))),a&&this._createButton(),$.isFunction(o)||c.push(this._updateContent(o,P)),this.rendered=S,this._setWidget(),$.each(U,function(t){var i;"render"===this.initialize&&(i=this(e))&&(e.plugins[t]=i)}),this._unassignEvents(),this._assignEvents(),this._when(c).then(function(){e._trigger("render"),e.positioning=P,e.hiddenDuringWait||!i.show.ready&&!t||e.toggle(S,s.event,P),e.hiddenDuringWait=P}),H.api[this.id]=this,this},R.destroy=function(t){function e(){if(!this.destroyed){this.destroyed=S;var t=this.target,e=t.attr(se);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),$.each(this.plugins,function(t){this.destroy&&this.destroy()}),clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this._unassignEvents(),t.removeData(B).removeAttr(Y).removeAttr(V).removeAttr("aria-describedby"),this.options.suppress&&e&&t.attr("title",e).removeAttr(se),this._unbind(t),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=T,delete H.api[this.id]}}return this.destroyed?this.target:(t===S&&"hide"!==this.triggering||!this.rendered?e.call(this):(this.tooltip.one("tooltiphidden",$.proxy(e,this)),!this.triggering&&this.hide()),this.target)},W=R.checks={builtin:{"^id$":function(t,e,i,s){var n=i===S?H.nextid:i,o=B+"-"+n;n!==P&&n.length>0&&!$("#"+o).length?(this._id=o,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):t[e]=s},"^prerender":function(t,e,i){i&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(t,e,i){this._updateContent(i)},"^content.attr$":function(t,e,i,s){this.options.content.text===this.target.attr(s)&&this._updateContent(this.target.attr(i))},"^content.title$":function(t,e,i){return i?(i&&!this.elements.title&&this._createTitle(),void this._updateTitle(i)):this._removeTitle()},"^content.button$":function(t,e,i){this._updateButton(i)},"^content.title.(text|button)$":function(t,e,i){this.set("content."+e,i)},"^position.(my|at)$":function(t,e,i){"string"==typeof i&&(t[e]=new q(i,"at"===e))},"^position.container$":function(t,e,i){this.rendered&&this.tooltip.appendTo(i)},"^show.ready$":function(t,e,i){i&&(!this.rendered&&this.render(S)||this.toggle(S))},"^style.classes$":function(t,e,i,s){this.rendered&&this.tooltip.removeClass(s).addClass(i)},"^style.(width|height)":function(t,e,i){this.rendered&&this.tooltip.css(e,i)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(t,e,i){this.rendered&&this.tooltip.toggleClass(Z,!!i)},"^events.(render|show|move|hide|focus|blur)$":function(t,e,i){this.rendered&&this.tooltip[($.isFunction(i)?"":"un")+"bind"]("tooltip"+e,i)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var t=this.options.position;this.tooltip.attr("tracking","mouse"===t.target&&t.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},R.get=function(t){if(this.destroyed)return this;var e=a(this.options,t.toLowerCase()),i=e[0][e[1]];return i.precedance?i.string():i};var re=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,ae=/^prerender|show\.ready/i;R.set=function(t,e){if(this.destroyed)return this;var i=this.rendered,s=P,n=this.options,o=this.checks,h;return"string"==typeof t?(h=t,t={},t[h]=e):t=$.extend({},t),$.each(t,function(e,o){if(i&&ae.test(e))return void delete t[e];var r=a(n,e.toLowerCase()),l;l=r[0][r[1]],r[0][r[1]]=o&&o.nodeType?$(o):o,s=re.test(e)||s,t[e]=[r[0],r[1],o,l]}),r(n),this.positioning=S,$.each(t,$.proxy(l,this)),this.positioning=P,this.rendered&&this.tooltip[0].offsetWidth>0&&s&&this.reposition("mouse"===n.position.target?T:this.cache.event),this},R._update=function(t,e,i){var s=this,n=this.cache;return this.rendered&&t?($.isFunction(t)&&(t=t.call(this.elements.target,n.event,this)||""),$.isFunction(t.then)?(n.waiting=S,t.then(function(t){return n.waiting=P,s._update(t,e)},T,function(t){return s._update(t,e)})):t===P||!t&&""!==t?P:(t.jquery&&t.length>0?e.empty().append(t.css({display:"block",visibility:"visible"})):e.html(t),this._waitForContent(e).then(function(t){t.images&&t.images.length&&s.rendered&&s.tooltip[0].offsetWidth>0&&s.reposition(n.event,!t.length)}))):P},R._waitForContent=function(t){var e=this.cache;return e.waiting=S,($.fn.imagesLoaded?t.imagesLoaded():$.Deferred().resolve([])).done(function(){e.waiting=P}).promise()},R._updateContent=function(t,e){this._update(t,this.elements.content,e)},R._updateTitle=function(t,e){this._update(t,this.elements.title,e)===P&&this._removeTitle(P)},R._createTitle=function(){var t=this.elements,e=this._id+"-title";t.titlebar&&this._removeTitle(),t.titlebar=$("<div />",{"class":B+"-titlebar "+(this.options.style.widget?h("header"):"")}).append(t.title=$("<div />",{id:e,"class":B+"-title","aria-atomic":S})).insertBefore(t.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(t){$(this).toggleClass("ui-state-active ui-state-focus","down"===t.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(t){$(this).toggleClass("ui-state-hover","mouseover"===t.type)}),this.options.content.button&&this._createButton()},R._removeTitle=function(t){var e=this.elements;e.title&&(e.titlebar.remove(),e.titlebar=e.title=e.button=T,t!==P&&this.reposition())},R.reposition=function(i,s){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=S;var n=this.cache,o=this.tooltip,r=this.options.position,a=r.target,l=r.my,h=r.at,c=r.viewport,u=r.container,d=r.adjust,p=d.method.split(" "),f=o.outerWidth(P),g=o.outerHeight(P),m=0,v=0,b=o.css("position"),y={left:0,top:0},w=o[0].offsetWidth>0,x=i&&"scroll"===i.type,_=$(t),C=u[0].ownerDocument,T=this.mouse,F,k;if($.isArray(a)&&2===a.length)h={x:O,y:A},y={left:a[0],top:a[1]};else if("mouse"===a)h={x:O,y:A},!T||!T.pageX||!d.mouse&&i&&i.pageX?i&&i.pageX||((!d.mouse||this.options.show.distance)&&n.origin&&n.origin.pageX?i=n.origin:(!i||i&&("resize"===i.type||"scroll"===i.type))&&(i=n.event)):i=T,"static"!==b&&(y=u.offset()),C.body.offsetWidth!==(t.innerWidth||C.documentElement.clientWidth)&&(k=$(e.body).offset()),y={left:i.pageX-y.left+(k&&k.left||0),top:i.pageY-y.top+(k&&k.top||0)},d.mouse&&x&&T&&(y.left-=(T.scrollX||0)-_.scrollLeft(),y.top-=(T.scrollY||0)-_.scrollTop());else{if("event"===a?i&&i.target&&"scroll"!==i.type&&"resize"!==i.type?n.target=$(i.target):i.target||(n.target=this.elements.target):"event"!==a&&(n.target=$(a.jquery?a:this.elements.target)),a=n.target,a=$(a).eq(0),0===a.length)return this;a[0]===e||a[0]===t?(m=oe.iOS?t.innerWidth:a.width(),v=oe.iOS?t.innerHeight:a.height(),a[0]===t&&(y={top:(c||a).scrollTop(),left:(c||a).scrollLeft()})):U.imagemap&&a.is("area")?F=U.imagemap(this,a,h,U.viewport?p:P):U.svg&&a&&a[0].ownerSVGElement?F=U.svg(this,a,h,U.viewport?p:P):(m=a.outerWidth(P),v=a.outerHeight(P),y=a.offset()),F&&(m=F.width,v=F.height,k=F.offset,y=F.position),y=this.reposition.offset(a,y,u),(oe.iOS>3.1&&oe.iOS<4.1||oe.iOS>=4.3&&oe.iOS<4.33||!oe.iOS&&"fixed"===b)&&(y.left-=_.scrollLeft(),y.top-=_.scrollTop()),(!F||F&&F.adjustable!==P)&&(y.left+=h.x===M?m:h.x===z?m/2:0,y.top+=h.y===D?v:h.y===z?v/2:0)}return y.left+=d.x+(l.x===M?-f:l.x===z?-f/2:0),y.top+=d.y+(l.y===D?-g:l.y===z?-g/2:0),U.viewport?(y.adjusted=U.viewport(this,y,r,m,v,f,g),k&&y.adjusted.left&&(y.left+=k.left),k&&y.adjusted.top&&(y.top+=k.top)):y.adjusted={left:0,top:0},this._trigger("move",[y,c.elem||c],i)?(delete y.adjusted,s===P||!w||isNaN(y.left)||isNaN(y.top)||"mouse"===a||!$.isFunction(r.effect)?o.css(y):$.isFunction(r.effect)&&(r.effect.call(o,this,$.extend({},y)),o.queue(function(t){$(this).css({opacity:"",height:""}),oe.ie&&this.style.removeAttribute("filter"),t()})),this.positioning=P,this):this},R.reposition.offset=function(t,i,s){function n(t,e){i.left+=e*t.scrollLeft(),i.top+=e*t.scrollTop()}if(!s[0])return i;var o=$(t[0].ownerDocument),r=!!oe.ie&&"CSS1Compat"!==e.compatMode,a=s[0],l,h,c,u;do"static"!==(h=$.css(a,"position"))&&("fixed"===h?(c=a.getBoundingClientRect(),n(o,-1)):(c=$(a).position(),c.left+=parseFloat($.css(a,"borderLeftWidth"))||0,c.top+=parseFloat($.css(a,"borderTopWidth"))||0),i.left-=c.left+(parseFloat($.css(a,"marginLeft"))||0),i.top-=c.top+(parseFloat($.css(a,"marginTop"))||0),l||"hidden"===(u=$.css(a,"overflow"))||"visible"===u||(l=$(a)));while(a=a.offsetParent);return l&&(l[0]!==o[0]||r)&&n(l,1),i};var le=(q=R.reposition.Corner=function(t,e){t=(""+t).replace(/([A-Z])/," $1").replace(/middle/gi,z).toLowerCase(),this.x=(t.match(/left|right/i)||t.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(t.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!e;var i=t.charAt(0);this.precedance="t"===i||"b"===i?k:F}).prototype;le.invert=function(t,e){this[t]=this[t]===O?M:this[t]===M?O:e||this[t]},le.string=function(){var t=this.x,e=this.y;return t===e?t:this.precedance===k||this.forceY&&"center"!==e?e+" "+t:t+" "+e},le.abbrev=function(){var t=this.string().split(" ");return t[0].charAt(0)+(t[1]&&t[1].charAt(0)||"")},le.clone=function(){return new q(this.string(),this.forceY)},R.toggle=function(t,i){var s=this.cache,n=this.options,o=this.tooltip;if(i){if(/over|enter/.test(i.type)&&/out|leave/.test(s.event.type)&&n.show.target.add(i.target).length===n.show.target.length&&o.has(i.relatedTarget).length)return this;s.event=c(i)}if(this.waiting&&!t&&(this.hiddenDuringWait=S),!this.rendered)return t?this.render(1):this;if(this.destroyed||this.disabled)return this;var r=t?"show":"hide",a=this.options[r],l=this.options[t?"hide":"show"],h=this.options.position,u=this.options.content,d=this.tooltip.css("width"),p=this.tooltip.is(":visible"),f=t||1===a.target.length,g=!i||a.target.length<2||s.target[0]===i.target,m,v,b,y,w;return(typeof t).search("boolean|number")&&(t=!p),m=!o.is(":animated")&&p===t&&g,v=m?T:!!this._trigger(r,[90]),this.destroyed?this:(v!==P&&t&&this.focus(i),!v||m?this:($.attr(o[0],"aria-hidden",!t),t?(s.origin=c(this.mouse),$.isFunction(u.text)&&this._updateContent(u.text,P),$.isFunction(u.title)&&this._updateTitle(u.title,P),!ne&&"mouse"===h.target&&h.adjust.mouse&&($(e).bind("mousemove."+B,this._storeMouse),ne=S),d||o.css("width",o.outerWidth(P)),this.reposition(i,arguments[2]),d||o.css("width",""),a.solo&&("string"==typeof a.solo?$(a.solo):$(K,a.solo)).not(o).not(a.target).qtip("hide",$.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete s.origin,ne&&!$(K+'[tracking="true"]:visible',a.solo).not(o).length&&($(e).unbind("mousemove."+B),ne=P),this.blur(i)),w=$.proxy(function(){t?(oe.ie&&o[0].style.removeAttribute("filter"),o.css("overflow",""),"string"==typeof a.autofocus&&$(this.options.show.autofocus,o).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):o.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(t?"visible":"hidden")},this),a.effect===P||f===P?(o[r](),w()):$.isFunction(a.effect)?(o.stop(1,1),a.effect.call(o,this),o.queue("fx",function(t){w(),t()})):o.fadeTo(90,t?1:0,w),t&&a.target.trigger("qtip-"+this.id+"-inactive"),this))},R.show=function(t){return this.toggle(S,t)},R.hide=function(t){return this.toggle(P,t)},R.focus=function(t){if(!this.rendered||this.destroyed)return this;var e=$(K),i=this.tooltip,s=parseInt(i[0].style.zIndex,10),n=H.zindex+e.length,o;return i.hasClass(J)||this._trigger("focus",[n],t)&&(s!==n&&(e.each(function(){this.style.zIndex>s&&(this.style.zIndex=this.style.zIndex-1)}),e.filter("."+J).qtip("blur",t)),i.addClass(J)[0].style.zIndex=n),this},R.blur=function(t){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(J),this._trigger("blur",[this.tooltip.css("zIndex")],t),this)},R.disable=function(t){return this.destroyed?this:("toggle"===t?t=!(this.rendered?this.tooltip.hasClass(ee):this.disabled):"boolean"!=typeof t&&(t=S),this.rendered&&this.tooltip.toggleClass(ee,t).attr("aria-disabled",t),this.disabled=!!t,this)},R.enable=function(){return this.disable(P)},R._createButton=function(){var t=this,e=this.elements,i=e.tooltip,s=this.options.content.button,n="string"==typeof s,o=n?s:"Close tooltip";e.button&&e.button.remove(),e.button=s.jquery?s:$("<a />",{"class":"qtip-close "+(this.options.style.widget?"":B+"-icon"),title:o,"aria-label":o}).prepend($("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),e.button.appendTo(e.titlebar||i).attr("role","button").click(function(e){return i.hasClass(ee)||t.hide(e),P})},R._updateButton=function(t){if(!this.rendered)return P;var e=this.elements.button;t?this._createButton():e.remove()},R._setWidget=function(){var t=this.options.style.widget,e=this.elements,i=e.tooltip,s=i.hasClass(ee);i.removeClass(ee),ee=t?"ui-state-disabled":"qtip-disabled",i.toggleClass(ee,s),i.toggleClass("ui-helper-reset "+h(),t).toggleClass(Z,this.options.style.def&&!t),e.content&&e.content.toggleClass(h("content"),t),e.titlebar&&e.titlebar.toggleClass(h("header"),t),e.button&&e.button.toggleClass(B+"-icon",!t)},R._storeMouse=function(t){(this.mouse=c(t)).type="mousemove"},R._bind=function(t,e,i,s,n){var o="."+this._id+(s?"-"+s:"");e.length&&$(t).bind((e.split?e:e.join(o+" "))+o,$.proxy(i,n||this))},R._unbind=function(t,e){$(t).unbind("."+this._id+(e?"-"+e:""))};var he="."+B;$(function(){m(K,["mouseenter","mouseleave"],function(t){var e="mouseenter"===t.type,i=$(t.currentTarget),s=$(t.relatedTarget||t.target),n=this.options;e?(this.focus(t),i.hasClass(Q)&&!i.hasClass(ee)&&clearTimeout(this.timers.hide)):"mouse"===n.position.target&&n.hide.event&&n.show.target&&!s.closest(n.show.target[0]).length&&this.hide(t),i.toggleClass(te,e)}),m("["+Y+"]",G,f)}),R._trigger=function(t,e,i){var s=$.Event("tooltip"+t);return s.originalEvent=i&&$.extend({},i)||this.cache.event||T,this.triggering=t,this.tooltip.trigger(s,[this].concat(e||[])),this.triggering=P,!s.isDefaultPrevented()},R._bindEvents=function(t,e,i,s,n,o){if(s.add(i).length===s.length){var r=[];e=$.map(e,function(e){var i=$.inArray(e,t);return i>-1?void r.push(t.splice(i,1)[0]):e}),r.length&&this._bind(i,r,function(t){var e=this.rendered?this.tooltip[0].offsetWidth>0:!1;(e?o:n).call(this,t)})}this._bind(i,t,n),this._bind(s,e,o)},R._assignInitialEvents=function(t){function e(t){return this.disabled||this.destroyed?P:(this.cache.event=c(t),this.cache.target=t?$(t.target):[i],clearTimeout(this.timers.show),void(this.timers.show=u.call(this,function(){this.render("object"==typeof t||s.show.ready)},s.show.delay)))}var s=this.options,n=s.show.target,o=s.hide.target,r=s.show.event?$.trim(""+s.show.event).split(" "):[],a=s.hide.event?$.trim(""+s.hide.event).split(" "):[];/mouse(over|enter)/i.test(s.show.event)&&!/mouse(out|leave)/i.test(s.hide.event)&&a.push("mouseleave"),this._bind(n,"mousemove",function(t){this._storeMouse(t),this.cache.onTarget=S}),this._bindEvents(r,a,n,o,e,function(){clearTimeout(this.timers.show)}),(s.show.ready||s.prerender)&&e.call(this,t)},R._assignEvents=function(){var i=this,s=this.options,n=s.position,o=this.tooltip,r=s.show.target,a=s.hide.target,l=n.container,h=n.viewport,c=$(e),u=$(e.body),m=$(t),v=s.show.event?$.trim(""+s.show.event).split(" "):[],b=s.hide.event?$.trim(""+s.hide.event).split(" "):[];$.each(s.events,function(t,e){i._bind(o,"toggle"===t?["tooltipshow","tooltiphide"]:["tooltip"+t],e,null,o)}),/mouse(out|leave)/i.test(s.hide.event)&&"window"===s.hide.leave&&this._bind(c,["mouseout","blur"],function(t){/select|option/.test(t.target.nodeName)||t.relatedTarget||this.hide(t)}),s.hide.fixed?a=a.add(o.addClass(Q)):/mouse(over|enter)/i.test(s.show.event)&&this._bind(a,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+s.hide.event).indexOf("unfocus")>-1&&this._bind(l.closest("html"),["mousedown","touchstart"],function(t){var e=$(t.target),i=this.rendered&&!this.tooltip.hasClass(ee)&&this.tooltip[0].offsetWidth>0,s=e.parents(K).filter(this.tooltip[0]).length>0;e[0]===this.target[0]||e[0]===this.tooltip[0]||s||this.target.has(e[0]).length||!i||this.hide(t)}),"number"==typeof s.hide.inactive&&(this._bind(r,"qtip-"+this.id+"-inactive",f),this._bind(a.add(o),H.inactiveEvents,f,"-inactive")),this._bindEvents(v,b,r,a,d,p),this._bind(r.add(o),"mousemove",function(t){if("number"==typeof s.hide.distance){var e=this.cache.origin||{},i=this.options.hide.distance,n=Math.abs;(n(t.pageX-e.pageX)>=i||n(t.pageY-e.pageY)>=i)&&this.hide(t)}this._storeMouse(t)}),"mouse"===n.target&&n.adjust.mouse&&(s.hide.event&&this._bind(r,["mouseenter","mouseleave"],function(t){this.cache.onTarget="mouseenter"===t.type}),this._bind(c,"mousemove",function(t){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(ee)&&this.tooltip[0].offsetWidth>0&&this.reposition(t)})),(n.adjust.resize||h.length)&&this._bind($.event.special.resize?h:m,"resize",g),n.adjust.scroll&&this._bind(m.add(n.container),"scroll",g)},R._unassignEvents=function(){var i=[this.options.show.target[0],this.options.hide.target[0],this.rendered&&this.tooltip[0],this.options.position.container[0],this.options.position.viewport[0],this.options.position.container.closest("html")[0],t,e];this._unbind($([]).pushStack($.grep(i,function(t){return"object"==typeof t})))},H=$.fn.qtip=function(t,e,s){var n=(""+t).toLowerCase(),o=T,a=$.makeArray(arguments).slice(1),l=a[a.length-1],h=this[0]?$.data(this[0],B):T;return!arguments.length&&h||"api"===n?h:"string"==typeof t?(this.each(function(){var t=$.data(this,B);if(!t)return S;if(l&&l.timeStamp&&(t.cache.event=l),!e||"option"!==n&&"options"!==n)t[n]&&t[n].apply(t,a);else{if(s===i&&!$.isPlainObject(e))return o=t.get(e),P;t.set(e,s)}}),o!==T?o:this):"object"!=typeof t&&arguments.length?void 0:(h=r($.extend(S,{},t)),this.each(function(t){var e,i;return i=$.isArray(h.id)?h.id[t]:h.id,i=!i||i===P||i.length<1||H.api[i]?H.nextid++:i,e=v($(this),i,h),e===P?S:(H.api[i]=e,$.each(U,function(){"initialize"===this.initialize&&this(e)}),void e._assignInitialEvents(l))}))},$.qtip=s,H.api={},$.each({attr:function(t,e){if(this.length){var i=this[0],s="title",n=$.data(i,"qtip");if(t===s&&n&&"object"==typeof n&&n.options.suppress)return arguments.length<2?$.attr(i,se):(n&&n.options.content.attr===s&&n.cache.attr&&n.set("content.text",e),this.attr(se,e))}return $.fn["attr"+ie].apply(this,arguments)},clone:function(t){var e=$([]),i="title",s=$.fn["clone"+ie].apply(this,arguments);return t||s.filter("["+se+"]").attr("title",function(){return $.attr(this,se)}).removeAttr(se),s}},function(t,e){if(!e||$.fn[t+ie])return S;var i=$.fn[t+ie]=$.fn[t];$.fn[t]=function(){return e.apply(this,arguments)||i.apply(this,arguments)}}),$.ui||($["cleanData"+ie]=$.cleanData,$.cleanData=function(t){for(var e=0,i;(i=$(t[e])).length;e++)if(i.attr(V))try{i.triggerHandler("removeqtip")}catch(s){}$["cleanData"+ie].apply(this,arguments)}),H.version="2.2.0",H.nextid=0,H.inactiveEvents=G,H.zindex=15e3,H.defaults={prerender:P,id:P,overwrite:S,suppress:S,content:{text:S,attr:"title",title:P,button:P},position:{my:"top left",at:"bottom right",target:P,container:P,viewport:P,adjust:{x:0,y:0,mouse:S,scroll:S,resize:S,method:"flipinvert flipinvert"},effect:function(t,e,i){$(this).animate(e,{duration:200,queue:P})}},show:{target:P,event:"mouseenter",effect:S,delay:90,solo:P,ready:P,autofocus:P},hide:{target:P,event:"mouseleave",effect:S,delay:0,fixed:P,inactive:P,leave:"window",distance:P},style:{classes:"",widget:P,width:P,height:P,def:S},events:{render:T,move:T,show:T,hide:T,toggle:T,visible:T,hidden:T,focus:T,blur:T}};var ce,ue=".qtip-tip",de="margin",pe="border",fe="color",ge="background-color",me="transparent",ve=" !important",be=!!e.createElement("canvas").getContext,ye=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,we={},xe=["Webkit","O","Moz","ms"];if(be)var _e=t.devicePixelRatio||1,Ce=function(){var t=e.createElement("canvas").getContext("2d");return t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||1}(),Se=_e/Ce;else var Pe=function(t,e,i){return"<qtipvml:"+t+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(e||"")+' style="behavior: url(#default#VML); '+(i||"")+'" />'};$.extend(x.prototype,{init:function(t){var e,i;i=this.element=t.elements.tip=$("<div />",{"class":B+"-tip"}).prependTo(t.tooltip),be?(e=$("<canvas />").appendTo(this.element)[0].getContext("2d"),e.lineJoin="miter",e.miterLimit=1e5,e.save()):(e=Pe("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(e+e),t._bind($("*",i).add(i),["click","mousedown"],function(t){t.stopPropagation()},this._ns)),t._bind(t.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(t){var e=this.qtip.elements.titlebar;return e&&(t.y===A||t.y===z&&this.element.position().top+this.size[1]/2+this.options.offset<e.outerHeight(S))},_parseCorner:function(t){var e=this.qtip.options.position.my;return t===P||e===P?t=P:t===S?t=new q(e.string()):t.string||(t=new q(t),t.fixed=S),t},_parseWidth:function(t,e,i){var s=this.qtip.elements,n=pe+b(e)+"Width";return(i?w(i,n):w(s.content,n)||w(this._useTitle(t)&&s.titlebar||s.content,n)||w(s.tooltip,n))||0},_parseRadius:function(t){var e=this.qtip.elements,i=pe+b(t.y)+b(t.x)+"Radius";return oe.ie<9?0:w(this._useTitle(t)&&e.titlebar||e.content,i)||w(e.tooltip,i)||0},_invalidColour:function(t,e,i){var s=t.css(e);return!s||i&&s===t.css(i)||ye.test(s)?P:s},_parseColours:function(t){var e=this.qtip.elements,i=this.element.css("cssText",""),s=pe+b(t[t.precedance])+b(fe),n=this._useTitle(t)&&e.titlebar||e.content,o=this._invalidColour,r=[];return r[0]=o(i,ge)||o(n,ge)||o(e.content,ge)||o(e.tooltip,ge)||i.css(ge),r[1]=o(i,s,fe)||o(n,s,fe)||o(e.content,s,fe)||o(e.tooltip,s,fe)||e.tooltip.css(s),$("*",i).add(i).css("cssText",ge+":"+me+ve+";"+pe+":0"+ve+";"),r},_calculateSize:function(t){var e=t.precedance===k,i=this.options.width,s=this.options.height,n="c"===t.abbrev(),o=(e?i:s)*(n?.5:1),r=Math.pow,a=Math.round,l,h,c,u=Math.sqrt(r(o,2)+r(s,2)),d=[this.border/o*u,this.border/s*u];return d[2]=Math.sqrt(r(d[0],2)-r(this.border,2)),d[3]=Math.sqrt(r(d[1],2)-r(this.border,2)),l=u+d[2]+d[3]+(n?0:d[0]),h=l/u,c=[a(h*i),a(h*s)],e?c:c.reverse()},_calculateTip:function(t,e,i){i=i||1,e=e||this.size;var s=e[0]*i,n=e[1]*i,o=Math.ceil(s/2),r=Math.ceil(n/2),a={br:[0,0,s,n,s,0],bl:[0,0,s,0,0,n],tr:[0,n,s,0,s,n],tl:[0,0,0,n,s,n],tc:[0,n,o,0,s,n],bc:[0,0,s,0,o,n],rc:[0,0,s,r,0,n],lc:[s,0,s,n,0,r]};return a.lt=a.br,a.rt=a.bl,a.lb=a.tr,a.rb=a.tl,a[t.abbrev()]},_drawCoords:function(t,e){t.beginPath(),t.moveTo(e[0],e[1]),t.lineTo(e[2],e[3]),t.lineTo(e[4],e[5]),t.closePath()},create:function(){var t=this.corner=(be||oe.ie)&&this._parseCorner(this.options.corner);return(this.enabled=!!this.corner&&"c"!==this.corner.abbrev())&&(this.qtip.cache.corner=t.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(e,i){if(!this.enabled)return this;var s=this.qtip.elements,n=this.element,o=n.children(),r=this.options,a=this.size,l=r.mimic,h=Math.round,c,u,d,p,f,g,m,v,b;e||(e=this.qtip.cache.corner||this.corner),l===P?l=e:(l=new q(l),l.precedance=e.precedance,"inherit"===l.x?l.x=e.x:"inherit"===l.y?l.y=e.y:l.x===l.y&&(l[e.precedance]=e[e.precedance])),u=l.precedance,e.precedance===F?this._swapDimensions():this._resetDimensions(),c=this.color=this._parseColours(e),c[1]!==me?(v=this.border=this._parseWidth(e,e[e.precedance]),r.border&&1>v&&!ye.test(c[1])&&(c[0]=c[1]),this.border=v=r.border!==S?r.border:v):this.border=v=0,m=this.size=this._calculateSize(e),n.css({width:m[0],height:m[1],lineHeight:m[1]+"px"}),g=e.precedance===k?[h(l.x===O?v:l.x===M?m[0]-a[0]-v:(m[0]-a[0])/2),h(l.y===A?m[1]-a[1]:0)]:[h(l.x===O?m[0]-a[0]:0),h(l.y===A?v:l.y===D?m[1]-a[1]-v:(m[1]-a[1])/2)],be?(d=o[0].getContext("2d"),d.restore(),d.save(),d.clearRect(0,0,6e3,6e3),p=this._calculateTip(l,a,Se),f=this._calculateTip(l,this.size,Se),o.attr(E,m[0]*Se).attr(I,m[1]*Se),o.css(E,m[0]).css(I,m[1]),this._drawCoords(d,f),d.fillStyle=c[1],d.fill(),d.translate(g[0]*Se,g[1]*Se),this._drawCoords(d,p),d.fillStyle=c[0],d.fill()):(p=this._calculateTip(l),p="m"+p[0]+","+p[1]+" l"+p[2]+","+p[3]+" "+p[4]+","+p[5]+" xe",g[2]=v&&/^(r|b)/i.test(e.string())?8===oe.ie?2:1:0,o.css({coordsize:m[0]+v+" "+(m[1]+v),antialias:""+(l.string().indexOf(z)>-1),left:g[0]-g[2]*Number(u===F),top:g[1]-g[2]*Number(u===k),width:m[0]+v,height:m[1]+v}).each(function(t){var e=$(this);e[e.prop?"prop":"attr"]({coordsize:m[0]+v+" "+(m[1]+v),path:p,fillcolor:c[0],filled:!!t,stroked:!t}).toggle(!(!v&&!t)),!t&&e.html(Pe("stroke",'weight="'+2*v+'px" color="'+c[1]+'" miterlimit="1000" joinstyle="miter"'))})),t.opera&&setTimeout(function(){s.tip.css({display:"inline-block",visibility:"visible"})},1),i!==P&&this.calculate(e,m)},calculate:function(t,e){if(!this.enabled)return P;var i=this,s=this.qtip.elements,n=this.element,o=this.options.offset,r=s.tooltip.hasClass("ui-widget"),a={},l,h;return t=t||this.corner,l=t.precedance,e=e||this._calculateSize(t),h=[t.x,t.y],l===F&&h.reverse(),$.each(h,function(n,r){var h,c,u;r===z?(h=l===k?O:A,a[h]="50%",a[de+"-"+h]=-Math.round(e[l===k?0:1]/2)+o):(h=i._parseWidth(t,r,s.tooltip),c=i._parseWidth(t,r,s.content),u=i._parseRadius(t),a[r]=Math.max(-i.border,n?c:o+(u>h?u:-h)))}),a[t[l]]-=e[l===F?0:1],n.css({margin:"",top:"",bottom:"",left:"",right:""}).css(a),a},reposition:function(t,e,s,n){function o(t,e,i,s,n){t===j&&l.precedance===e&&h[s]&&l[i]!==z?l.precedance=l.precedance===F?k:F:t!==j&&h[s]&&(l[e]=l[e]===z?h[s]>0?s:n:l[e]===s?n:s)}function r(t,e,n){l[t]===z?g[de+"-"+e]=p[t]=f[de+"-"+e]-h[e]:(m=f[n]!==i?[h[e],-f[e]]:[-h[e],f[e]],(p[t]=Math.max(m[0],m[1]))>m[0]&&(s[e]-=h[e],p[e]=P),g[f[n]!==i?n:e]=p[t])}if(this.enabled){var a=e.cache,l=this.corner.clone(),h=s.adjusted,c=e.options.position.adjust.method.split(" "),u=c[0],d=c[1]||c[0],p={left:P,top:P,x:0,y:0},f,g={},m;this.corner.fixed!==S&&(o(u,F,k,O,M),o(d,k,F,A,D),l.string()===a.corner.string()||a.cornerTop===h.top&&a.cornerLeft===h.left||this.update(l,P)),f=this.calculate(l),f.right!==i&&(f.left=-f.right),f.bottom!==i&&(f.top=-f.bottom),f.user=this.offset,(p.left=u===j&&!!h.left)&&r(F,O,M),(p.top=d===j&&!!h.top)&&r(k,A,D),this.element.css(g).toggle(!(p.x&&p.y||l.x===z&&p.y||l.y===z&&p.x)),s.left-=f.left.charAt?f.user:u!==j||p.top||!p.left&&!p.top?f.left+this.border:0,s.top-=f.top.charAt?f.user:d!==j||p.left||!p.left&&!p.top?f.top+this.border:0,a.cornerLeft=h.left,a.cornerTop=h.top,a.corner=l.clone()
}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),ce=U.tip=function(t){return new x(t,t.options.style.tip)},ce.initialize="render",ce.sanitize=function(t){if(t.style&&"tip"in t.style){var e=t.style.tip;"object"!=typeof e&&(e=t.style.tip={corner:e}),/string|boolean/i.test(typeof e.corner)||(e.corner=S)}},W.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(t){this.size=[t.width,t.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},$.extend(S,H.defaults,{style:{tip:{corner:S,mimic:P,width:6,height:6,border:S,offset:0}}});var Te,Fe,ke="qtip-modal",Ee="."+ke;Fe=function(){function t(t){if($.expr[":"].focusable)return $.expr[":"].focusable;var e=!isNaN($.attr(t,"tabindex")),i=t.nodeName&&t.nodeName.toLowerCase(),s,n,o;return"area"===i?(s=t.parentNode,n=s.name,t.href&&n&&"map"===s.nodeName.toLowerCase()?(o=$("img[usemap=#"+n+"]")[0],!!o&&o.is(":visible")):!1):/input|select|textarea|button|object/.test(i)?!t.disabled:"a"===i?t.href||e:e}function i(t){o.length<1&&t.length?t.not("body").blur():o.first().focus()}function s(t){if(h.is(":visible")){var e=$(t.target),s=r.tooltip,n=e.closest(K),l;l=n.length<1?P:parseInt(n[0].style.zIndex,10)>parseInt(s[0].style.zIndex,10),l||e.closest(K)[0]===s[0]||i(e),a=t.target===o[o.length-1]}}var n=this,o={},r,a,l,h;$.extend(n,{init:function(){return h=n.elem=$("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return P}}).hide(),$(e.body).bind("focusin"+Ee,s),$(e).bind("keydown"+Ee,function(t){r&&r.options.show.modal.escape&&27===t.keyCode&&r.hide(t)}),h.bind("click"+Ee,function(t){r&&r.options.show.modal.blur&&r.hide(t)}),n},update:function(e){r=e,o=e.options.show.modal.stealfocus!==P?e.tooltip.find("*").filter(function(){return t(this)}):[]},toggle:function(t,s,o){var a=$(e.body),c=t.tooltip,u=t.options.show.modal,d=u.effect,p=s?"show":"hide",f=h.is(":visible"),g=$(Ee).filter(":visible:not(:animated)").not(c),m;return n.update(t),s&&u.stealfocus!==P&&i($(":focus")),h.toggleClass("blurs",u.blur),s&&h.appendTo(e.body),h.is(":animated")&&f===s&&l!==P||!s&&g.length?n:(h.stop(S,P),$.isFunction(d)?d.call(h,s):d===P?h[p]():h.fadeTo(parseInt(o,10)||90,s?1:0,function(){s||h.hide()}),s||h.queue(function(t){h.css({left:"",top:""}),$(Ee).length||h.detach(),t()}),l=s,r.destroyed&&(r=T),n)}}),n.init()},Fe=new Fe,$.extend(_.prototype,{init:function(t){var e=t.tooltip;return this.options.on?(t.elements.overlay=Fe.elem,e.addClass(ke).css("z-index",H.modal_zindex+$(Ee).length),t._bind(e,["tooltipshow","tooltiphide"],function(t,i,s){var n=t.originalEvent;if(t.target===e[0])if(n&&"tooltiphide"===t.type&&/mouse(leave|enter)/.test(n.type)&&$(n.relatedTarget).closest(Fe.elem[0]).length)try{t.preventDefault()}catch(o){}else(!n||n&&"tooltipsolo"!==n.type)&&this.toggle(t,"tooltipshow"===t.type,s)},this._ns,this),t._bind(e,"tooltipfocus",function(t,i){if(!t.isDefaultPrevented()&&t.target===e[0]){var s=$(Ee),n=H.modal_zindex+s.length,o=parseInt(e[0].style.zIndex,10);Fe.elem[0].style.zIndex=n-1,s.each(function(){this.style.zIndex>o&&(this.style.zIndex-=1)}),s.filter("."+J).qtip("blur",t.originalEvent),e.addClass(J)[0].style.zIndex=n,Fe.update(i);try{t.preventDefault()}catch(r){}}},this._ns,this),void t._bind(e,"tooltiphide",function(t){t.target===e[0]&&$(Ee).filter(":visible").not(e).last().qtip("focus",t)},this._ns,this)):this},toggle:function(t,e,i){return t&&t.isDefaultPrevented()?this:void Fe.toggle(this.qtip,!!e,i)},destroy:function(){this.qtip.tooltip.removeClass(ke),this.qtip._unbind(this.qtip.tooltip,this._ns),Fe.toggle(this.qtip,P),delete this.qtip.elements.overlay}}),Te=U.modal=function(t){return new _(t,t.options.show.modal)},Te.sanitize=function(t){t.show&&("object"!=typeof t.show.modal?t.show.modal={on:!!t.show.modal}:"undefined"==typeof t.show.modal.on&&(t.show.modal.on=S))},H.modal_zindex=H.zindex-200,Te.initialize="render",W.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth>0)}},$.extend(S,H.defaults,{show:{modal:{on:P,effect:S,blur:S,stealfocus:S,escape:S}}}),U.viewport=function(i,s,n,o,r,a,l){function h(t,e,i,n,o,r,a,l,h){var c=s[o],u=d[t],f=p[t],g=i===j,m=u===o?h:u===r?-h:-h/2,v=f===o?l:f===r?-l:-l/2,b=q[o]+W[o]-(N?0:T[o]),y=b-c,w=c+h-(a===E?H:R)-b,x=m-(d.precedance===t||u===d[e]?v:0)-(f===z?l/2:0);return g?(x=(u===o?1:-1)*m,s[o]+=y>0?y:w>0?-w:0,s[o]=Math.max(-T[o]+W[o],c-x,Math.min(Math.max(-T[o]+W[o]+(a===E?H:R),c+x),s[o],"center"===u?c-m:1e9))):(n*=i===L?2:0,y>0&&(u!==o||w>0)?(s[o]-=x+n,C.invert(t,o)):w>0&&(u!==r||y>0)&&(s[o]-=(u===z?-x:x)+n,C.invert(t,r)),s[o]<q&&-s[o]>w&&(s[o]=c,C=d.clone())),s[o]-c}var c=n.target,u=i.elements.tooltip,d=n.my,p=n.at,f=n.adjust,g=f.method.split(" "),m=g[0],v=g[1]||g[0],b=n.viewport,y=n.container,w=i.cache,x={left:0,top:0},_,C,S,T,N,H,R,q,W;return b.jquery&&c[0]!==t&&c[0]!==e.body&&"none"!==f.method?(T=y.offset()||x,N="static"===y.css("position"),_="fixed"===u.css("position"),H=b[0]===t?b.width():b.outerWidth(P),R=b[0]===t?b.height():b.outerHeight(P),q={left:_?0:b.scrollLeft(),top:_?0:b.scrollTop()},W=b.offset()||x,("shift"!==m||"shift"!==v)&&(C=d.clone()),x={left:"none"!==m?h(F,k,m,f.x,O,M,E,o,a):0,top:"none"!==v?h(k,F,v,f.y,A,D,I,r,l):0},C&&w.lastClass!==(S=B+"-pos-"+C.abbrev())&&u.removeClass(i.cache.lastClass).addClass(i.cache.lastClass=S),x):x},U.polys={polygon:function(t,e){var i={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:P},s=0,n,o=[],r=1,a=1,l=0,h=0,c,u;for(s=t.length;s--;)n=[parseInt(t[--s],10),parseInt(t[s+1],10)],n[0]>i.position.right&&(i.position.right=n[0]),n[0]<i.position.left&&(i.position.left=n[0]),n[1]>i.position.bottom&&(i.position.bottom=n[1]),n[1]<i.position.top&&(i.position.top=n[1]),o.push(n);if(c=i.width=Math.abs(i.position.right-i.position.left),u=i.height=Math.abs(i.position.bottom-i.position.top),"c"===e.abbrev())i.position={left:i.position.left+i.width/2,top:i.position.top+i.height/2};else{for(;c>0&&u>0&&r>0&&a>0;)for(c=Math.floor(c/2),u=Math.floor(u/2),e.x===O?r=c:e.x===M?r=i.width-c:r+=Math.floor(c/2),e.y===A?a=u:e.y===D?a=i.height-u:a+=Math.floor(u/2),s=o.length;s--&&!(o.length<2);)l=o[s][0]-i.position.left,h=o[s][1]-i.position.top,(e.x===O&&l>=r||e.x===M&&r>=l||e.x===z&&(r>l||l>i.width-r)||e.y===A&&h>=a||e.y===D&&a>=h||e.y===z&&(a>h||h>i.height-a))&&o.splice(s,1);i.position={left:o[0][0],top:o[0][1]}}return i},rect:function(t,e,i,s){return{width:Math.abs(i-t),height:Math.abs(s-e),position:{left:Math.min(t,i),top:Math.min(e,s)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(t,e,i,s,n){var o=U.polys._angles[n.abbrev()],r=0===o?0:i*Math.cos(o*Math.PI),a=s*Math.sin(o*Math.PI);return{width:2*i-Math.abs(r),height:2*s-Math.abs(a),position:{left:t+r,top:e+a},adjustable:P}},circle:function(t,e,i,s){return U.polys.ellipse(t,e,i,i,s)}},U.svg=function(t,i,s){for(var n=$(e),o=i[0],r=$(o.ownerSVGElement),a=o.ownerDocument,l=(parseInt(i.css("stroke-width"),10)||0)/2,h=!0,c,u,d,p,f,g,m,v,b,y,w;!o.getBBox;)o=o.parentNode;if(!o.getBBox||!o.parentNode)return P;switch(o.nodeName){case"ellipse":case"circle":b=U.polys.ellipse(o.cx.baseVal.value,o.cy.baseVal.value,(o.rx||o.r).baseVal.value+l,(o.ry||o.r).baseVal.value+l,s);break;case"line":case"polygon":case"polyline":for(v=o.points||[{x:o.x1.baseVal.value,y:o.y1.baseVal.value},{x:o.x2.baseVal.value,y:o.y2.baseVal.value}],b=[],m=-1,f=v.numberOfItems||v.length;++m<f;)g=v.getItem?v.getItem(m):v[m],b.push.apply(b,[g.x,g.y]);b=U.polys.polygon(b,s);break;default:b=o.getBoundingClientRect(),b={width:b.width,height:b.height,position:{left:b.left,top:b.top}},h=!1}if(y=b.position,r=r[0],h&&r.createSVGPoint&&(u=o.getScreenCTM(),v=r.createSVGPoint(),v.x=y.left,v.y=y.top,d=v.matrixTransform(u),y.left=d.x,y.top=d.y),a!==e){var c=$((a.defaultView||a.parentWindow).frameElement).offset();c&&(y.left+=c.left,y.top+=c.top)}return a=$(a),y.left+=a.scrollLeft(),y.top+=a.scrollTop(),b},U.imagemap=function(t,e,i,s){e.jquery||(e=$(e));var n=e.attr("shape").toLowerCase().replace("poly","polygon"),o=$('img[usemap="#'+e.parent("map").attr("name")+'"]'),r=$.trim(e.attr("coords")),a=r.replace(/,$/,"").split(","),l,h,c,u,d,p;if(!o.length)return P;if("polygon"===n)d=U.polys.polygon(a,i);else{if(!U.polys[n])return P;for(c=-1,p=a.length,h=[];++c<p;)h.push(parseInt(a[c],10));d=U.polys[n].apply(this,h.concat(i))}return l=o.offset(),l.left+=Math.ceil((o.outerWidth(P)-o.width())/2),l.top+=Math.ceil((o.outerHeight(P)-o.height())/2),d.position.left+=l.left,d.position.top+=l.top,d};var Ie,Ae='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>';$.extend(C.prototype,{_scroll:function(){var e=this.qtip.elements.overlay;e&&(e[0].style.top=$(t).scrollTop()+"px")},init:function(i){var s=i.tooltip,n;$("select, object").length<1&&(this.bgiframe=i.elements.bgiframe=$(Ae).appendTo(s),i._bind(s,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=$("<div/>",{id:B+"-rcontainer"}).appendTo(e.body),i.elements.overlay&&i.elements.overlay.addClass("qtipmodal-ie6fix")&&(i._bind(t,["scroll","resize"],this._scroll,this._ns,this),i._bind(s,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var t=this.qtip.tooltip,e={height:t.outerHeight(P),width:t.outerWidth(P)},i=this.qtip.plugins.tip,s=this.qtip.elements.tip,n,o;o=parseInt(t.css("borderLeftWidth"),10)||0,o={left:-o,top:-o},i&&s&&(n="x"===i.corner.precedance?[E,O]:[I,A],o[n[1]]-=s[n[0]]()),this.bgiframe.css(o).css(e)},redraw:function(){if(this.qtip.rendered<1||this.drawing)return this;var t=this.qtip.tooltip,e=this.qtip.options.style,i=this.qtip.options.position.container,s,n,o,r;return this.qtip.drawing=1,e.height&&t.css(I,e.height),e.width?t.css(E,e.width):(t.css(E,"").appendTo(this.redrawContainer),n=t.width(),1>n%2&&(n+=1),o=t.css("maxWidth")||"",r=t.css("minWidth")||"",s=(o+r).indexOf("%")>-1?i.width()/100:0,o=(o.indexOf("%")>-1?s:1)*parseInt(o,10)||n,r=(r.indexOf("%")>-1?s:1)*parseInt(r,10)||0,n=o+r?Math.min(Math.max(n,r),o):n,t.css(E,Math.round(n)).appendTo(i)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([t,this.qtip.tooltip],this._ns)}}),Ie=U.ie6=function(t){return 6===oe.ie?new C(t):P},Ie.initialize="render",W.ie6={"^content|style$":function(){this.redraw()}}})}(window,document),function($){"undefined"==typeof $.fn.each2&&$.extend($.fn,{each2:function(t){for(var e=$([0]),i=-1,s=this.length;++i<s&&(e.context=e[0]=this[i])&&t.call(e[0],i,e)!==!1;);return this}})}(jQuery),function($,t){"use strict";function e(t){var e=$(document.createTextNode(""));t.before(e),e.before(t),e.remove()}function i(t){var e,i,s,n;if(!t||t.length<1)return t;for(e="",i=0,s=t.length;s>i;i++)n=t.charAt(i),e+=H[n]||n;return e}function s(t,e){for(var i=0,s=e.length;s>i;i+=1)if(o(t,e[i]))return i;return-1}function n(){var t=$(j);t.appendTo("body");var e={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),e}function o(e,i){return e===i?!0:e===t||i===t?!1:null===e||null===i?!1:e.constructor===String?e+""==i+"":i.constructor===String?i+""==e+"":!1}function r(t,e){var i,s,n;if(null===t||t.length<1)return[];for(i=t.split(e),s=0,n=i.length;n>s;s+=1)i[s]=$.trim(i[s]);return i}function a(t){return t.outerWidth(!1)-t.width()}function l(e){var i="keyup-change-value";e.on("keydown",function(){$.data(e,i)===t&&$.data(e,i,e.val())}),e.on("keyup",function(){var s=$.data(e,i);s!==t&&e.val()!==s&&($.removeData(e,i),e.trigger("keyup-change"))})}function h(e){e.on("mousemove",function(e){var i=z;(i===t||i.x!==e.pageX||i.y!==e.pageY)&&$(e.target).trigger("mousemove-filtered",e)})}function c(e,i,s){s=s||t;var n;return function(){var t=arguments;window.clearTimeout(n),n=window.setTimeout(function(){i.apply(s,t)},e)}}function u(t){var e=!1,i;return function(){return e===!1&&(i=t(),e=!0),i}}function d(t,e){var i=c(t,function(t){e.trigger("scroll-debounced",t)});e.on("scroll",function(t){s(t.target,e.get())>=0&&i(t)})}function p(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e=t[0],i=t.val().length,s;t.focus();var n=e.offsetWidth>0||e.offsetHeight>0;n&&e===document.activeElement&&(e.setSelectionRange?e.setSelectionRange(i,i):e.createTextRange&&(s=e.createTextRange(),s.collapse(!1),s.select()))},0)}function f(t){t=$(t)[0];var e=0,i=0;if("selectionStart"in t)e=t.selectionStart,i=t.selectionEnd-e;else if("selection"in document){t.focus();var s=document.selection.createRange();i=document.selection.createRange().text.length,s.moveStart("character",-t.value.length),e=s.text.length-i}return{offset:e,length:i}}function g(t){t.preventDefault(),t.stopPropagation()}function m(t){t.preventDefault(),t.stopImmediatePropagation()}function v(t){if(!M){var e=t[0].currentStyle||window.getComputedStyle(t[0],null);M=$(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:e.fontSize,fontFamily:e.fontFamily,fontStyle:e.fontStyle,fontWeight:e.fontWeight,letterSpacing:e.letterSpacing,textTransform:e.textTransform,whiteSpace:"nowrap"}),M.attr("class","select2-sizer"),$("body").append(M)}return M.text(t.val()),M.width()}function b(t,e,i){var s,n=[],o;s=t.attr("class"),s&&(s=""+s,$(s.split(" ")).each2(function(){0===this.indexOf("select2-")&&n.push(this)})),s=e.attr("class"),s&&(s=""+s,$(s.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(o=i(this),o&&n.push(o))})),t.attr("class",n.join(" "))}function y(t,e,s,n){var o=i(t.toUpperCase()).indexOf(i(e.toUpperCase())),r=e.length;return 0>o?void s.push(n(t)):(s.push(n(t.substring(0,o))),s.push("<span class='select2-match'>"),s.push(n(t.substring(o,o+r))),s.push("</span>"),void s.push(n(t.substring(o+r,t.length))))}function w(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})}function x(e){var i,s=null,n=e.quietMillis||100,o=e.url,r=this;return function(a){window.clearTimeout(i),i=window.setTimeout(function(){var i=e.data,n=o,l=e.transport||$.fn.select2.ajaxDefaults.transport,h={type:e.type||"GET",cache:e.cache||!1,jsonpCallback:e.jsonpCallback||t,dataType:e.dataType||"json"},c=$.extend({},$.fn.select2.ajaxDefaults.params,h);i=i?i.call(r,a.term,a.page,a.context):null,n="function"==typeof n?n.call(r,a.term,a.page,a.context):n,s&&"function"==typeof s.abort&&s.abort(),e.params&&($.isFunction(e.params)?$.extend(c,e.params.call(r)):$.extend(c,e.params)),$.extend(c,{url:n,dataType:e.dataType,data:i,success:function(t){var i=e.results(t,a.page);a.callback(i)}}),s=l.call(r,c)},n)}}function _(t){var e=t,i,s,n=function(t){return""+t.text};$.isArray(e)&&(s=e,e={results:s}),$.isFunction(e)===!1&&(s=e,e=function(){return s});var o=e();return o.text&&(n=o.text,$.isFunction(n)||(i=o.text,n=function(t){return t[i]})),function(t){var i=t.term,s={results:[]},o;return""===i?void t.callback(e()):(o=function(e,s){var r,a;if(e=e[0],e.children){r={};for(a in e)e.hasOwnProperty(a)&&(r[a]=e[a]);r.children=[],$(e.children).each2(function(t,e){o(e,r.children)}),(r.children.length||t.matcher(i,n(r),e))&&s.push(r)}else t.matcher(i,n(e),e)&&s.push(e)},$(e().results).each2(function(t,e){o(e,s.results)}),void t.callback(s))}}function C(e){var i=$.isFunction(e);return function(s){var n=s.term,o={results:[]};$(i?e():e).each(function(){var e=this.text!==t,i=e?this.text:this;(""===n||s.matcher(n,i))&&o.results.push(e?this:{id:this,text:this})}),s.callback(o)}}function S(t,e){if($.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(e+" must be a string, function, or falsy value")}function P(t){if($.isFunction(t)){var e=Array.prototype.slice.call(arguments,1);return t.apply(null,e)}return t}function T(t){var e=0;return $.each(t,function(t,i){i.children?e+=T(i.children):e++}),e}function F(e,i,s,n){var r=e,a=!1,l,h,c,u,d;if(!n.createSearchChoice||!n.tokenSeparators||n.tokenSeparators.length<1)return t;for(;;){for(h=-1,c=0,u=n.tokenSeparators.length;u>c&&(d=n.tokenSeparators[c],h=e.indexOf(d),!(h>=0));c++);if(0>h)break;if(l=e.substring(0,h),e=e.substring(h+d.length),l.length>0&&(l=n.createSearchChoice.call(this,l,i),l!==t&&null!==l&&n.id(l)!==t&&null!==n.id(l))){for(a=!1,c=0,u=i.length;u>c;c++)if(o(n.id(l),n.id(i[c]))){a=!0;break}a||s(l)}}return r!==e?e:void 0}function k(t,e){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=$.extend(i.prototype,e),i}if(window.Select2===t){var E,I,A,O,D,M,z={x:0,y:0},N,L,E={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case E.LEFT:case E.RIGHT:case E.UP:case E.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case E.SHIFT:case E.CTRL:case E.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},j="<div class='select2-measure-scrollbar'></div>",H={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z"};N=$(document),D=function(){var t=1;return function(){return t++}}(),N.on("mousemove",function(t){z.x=t.pageX,z.y=t.pageY}),I=k(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(e){var i,s,o=".select2-results";this.opts=e=this.prepareOpts(e),this.id=e.id,e.element.data("select2")!==t&&null!==e.element.data("select2")&&e.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=$("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(e.element.attr("id")||"autogen"+D()).replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.containerSelector="#"+this.containerId,this.container.attr("id",this.containerId),this.body=u(function(){return e.element.closest("body")}),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",e.element.attr("style")),this.container.css(P(e.containerCss)),this.container.addClass(P(e.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",g),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(P(e.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",g),this.results=i=this.container.find(o),this.search=s=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",g),h(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",o,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchend",o,this.bind(this.selectHighlighted)),this.dropdown.on("touchmove",o,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",o,this.bind(this.clearTouchMoved)),d(80,this.results),this.dropdown.on("scroll-debounced",o,this.bind(this.loadMoreIfNeeded)),$(this.container).on("change",".select2-input",function(t){t.stopPropagation()}),$(this.dropdown).on("change",".select2-input",function(t){t.stopPropagation()}),$.fn.mousewheel&&i.mousewheel(function(t,e,s,n){var o=i.scrollTop();n>0&&0>=o-n?(i.scrollTop(0),g(t)):0>n&&i.get(0).scrollHeight-i.scrollTop()+n<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),g(t))}),l(s),s.on("keyup-change input paste",this.bind(this.updateResults)),s.on("focus",function(){s.addClass("select2-focused")}),s.on("blur",function(){s.removeClass("select2-focused")}),this.dropdown.on("mouseup",o,this.bind(function(t){$(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown focusin",function(t){t.stopPropagation()}),this.nextSearchTerm=t,$.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==e.maximumInputLength&&this.search.attr("maxlength",e.maximumInputLength);var r=e.element.prop("disabled");r===t&&(r=!1),this.enable(!r);var a=e.element.prop("readonly");a===t&&(a=!1),this.readonly(a),L=L||n(),this.autofocus=e.element.prop("autofocus"),e.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",e.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,i=e.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),i!==t&&(i.container.remove(),i.liveRegion.remove(),i.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:o(t.attr("locked"),"locked")||o(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(e){var i,s,n,a,l=this;if(i=e.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=s=e.element),s&&$.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in e)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),e=$.extend({},{populateResults:function(i,s,n){var o,r=this.opts.id,a=this.liveRegion;(o=function(i,s,h){var c,u,d,p,f,g,m,v,b,y;for(i=e.sortResults(i,s,n),c=0,u=i.length;u>c;c+=1)d=i[c],f=d.disabled===!0,p=!f&&r(d)!==t,g=d.children&&d.children.length>0,m=$("<li></li>"),m.addClass("select2-results-dept-"+h),m.addClass("select2-result"),m.addClass(p?"select2-result-selectable":"select2-result-unselectable"),f&&m.addClass("select2-disabled"),g&&m.addClass("select2-result-with-children"),m.addClass(l.opts.formatResultCssClass(d)),m.attr("role","presentation"),v=$(document.createElement("div")),v.addClass("select2-result-label"),v.attr("id","select2-result-label-"+D()),v.attr("role","option"),y=e.formatResult(d,v,n,l.opts.escapeMarkup),y!==t&&(v.html(y),m.append(v)),g&&(b=$("<ul></ul>"),b.addClass("select2-result-sub"),o(d.children,b,h+1),m.append(b)),m.data("select2-data",d),s.append(m);a.text(e.formatMatches(i.length))})(s,i,0)}},$.fn.select2.defaults,e),"function"!=typeof e.id&&(n=e.id,e.id=function(t){return t[n]}),$.isArray(e.element.data("select2Tags"))){if("tags"in e)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+e.element.attr("id");e.tags=e.element.data("select2Tags")}if(s?(e.query=this.bind(function(e){var s={results:[],more:!1},n=e.term,o,r,a;a=function(t,i){var s;t.is("option")?e.matcher(n,t.text(),t)&&i.push(l.optionToData(t)):t.is("optgroup")&&(s=l.optionToData(t),t.children().each2(function(t,e){a(e,s.children)}),s.children.length>0&&i.push(s))},o=i.children(),this.getPlaceholder()!==t&&o.length>0&&(r=this.getPlaceholderOption(),r&&(o=o.not(r))),o.each2(function(t,e){a(e,s.results)}),e.callback(s)}),e.id=function(t){return t.id}):"query"in e||("ajax"in e?(a=e.element.data("ajax-url"),a&&a.length>0&&(e.ajax.url=a),e.query=x.call(e.element,e.ajax)):"data"in e?e.query=_(e.data):"tags"in e&&(e.query=C(e.tags),e.createSearchChoice===t&&(e.createSearchChoice=function(t){return{id:$.trim(t),text:$.trim(t)}}),e.initSelection===t&&(e.initSelection=function(t,i){var s=[];$(r(t.val(),e.separator)).each(function(){var t={id:this,text:this},i=e.tags;$.isFunction(i)&&(i=i()),$(i).each(function(){return o(this.id,t.id)?(t=this,!1):void 0}),s.push(t)}),i(s)}))),"function"!=typeof e.query)throw"query function not defined for Select2 "+e.element.attr("id");if("top"===e.createSearchChoicePosition)e.createSearchChoicePosition=function(t,e){t.unshift(e)};else if("bottom"===e.createSearchChoicePosition)e.createSearchChoicePosition=function(t,e){t.push(e)};else if("function"!=typeof e.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return e},monitorSource:function(){var e=this.opts.element,i,s;e.on("change.select2",this.bind(function(t){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),i=this.bind(function(){var i=e.prop("disabled");i===t&&(i=!1),this.enable(!i);var s=e.prop("readonly");s===t&&(s=!1),this.readonly(s),b(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(P(this.opts.containerCssClass)),b(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(P(this.opts.dropdownCssClass))}),e.on("propertychange.select2",i),this.mutationCallback===t&&(this.mutationCallback=function(t){t.forEach(i)}),s=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,s!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new s(this.mutationCallback),this.propertyObserver.observe(e.get(0),{attributes:!0,subtree:!1}))
},triggerSelect:function(t){var e=$.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(e),!e.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=$.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t=this.dropdown,e=this.container.offset(),i=this.container.outerHeight(!1),s=this.container.outerWidth(!1),n=t.outerHeight(!1),o=$(window),r=o.width(),a=o.height(),l=o.scrollLeft()+r,h=o.scrollTop()+a,c=e.top+i,u=e.left,d=h>=c+n,p=e.top-n>=o.scrollTop(),f=t.outerWidth(!1),g=l>=u+f,m=t.hasClass("select2-drop-above"),v,b,y,w,x;m?(b=!0,!p&&d&&(y=!0,b=!1)):(b=!1,!d&&p&&(y=!0,b=!0)),y&&(t.hide(),e=this.container.offset(),i=this.container.outerHeight(!1),s=this.container.outerWidth(!1),n=t.outerHeight(!1),l=o.scrollLeft()+r,h=o.scrollTop()+a,c=e.top+i,u=e.left,f=t.outerWidth(!1),g=l>=u+f,t.show()),this.opts.dropdownAutoWidth?(x=$(".select2-results",t)[0],t.addClass("select2-drop-auto-width"),t.css("width",""),f=t.outerWidth(!1)+(x.scrollHeight===x.clientHeight?0:L.width),f>s?s=f:f=s,g=l>=u+f):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(v=this.body().offset(),c-=v.top,u-=v.left),g||(u=e.left+this.container.outerWidth(!1)-f),w={left:u,width:s},b?(w.top=e.top-n,w.bottom="auto",this.container.addClass("select2-drop-above"),t.addClass("select2-drop-above")):(w.top=c,w.bottom="auto",this.container.removeClass("select2-drop-above"),t.removeClass("select2-drop-above")),w=$.extend(w,P(this.opts.dropdownCss)),t.css(w)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=$.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var t=this.containerId,i="scroll."+t,s="resize."+t,n="orientationchange."+t,o;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),o=$("#select2-drop-mask"),0==o.length&&(o=$(document.createElement("div")),o.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),o.hide(),o.appendTo(this.body()),o.on("mousedown touchstart click",function(t){e(o);var i=$("#select2-drop"),s;i.length>0&&(s=i.data("select2"),s.opts.selectOnBlur&&s.selectHighlighted({noFocus:!0}),s.close(),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==o[0]&&this.dropdown.before(o),$("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),o.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var r=this;this.container.parents().add(window).each(function(){$(this).on(s+" "+i+" "+n,function(t){r.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerId,e="scroll."+t,i="resize."+t,s="orientationchange."+t;this.container.parents().add(window).each(function(){$(this).off(e).off(i).off(s)}),this.clearDropdownAlignmentPreference(),$("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger($.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return P(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t=this.results,e,i,s,n,o,r,a;if(i=this.highlight(),!(0>i)){if(0==i)return void t.scrollTop(0);e=this.findHighlightableChoices().find(".select2-result-label"),s=$(e[i]),n=s.offset().top+s.outerHeight(!0),i===e.length-1&&(a=t.find("li.select2-more-results"),a.length>0&&(n=a.offset().top+a.outerHeight(!0))),o=t.offset().top+t.outerHeight(!0),n>o&&t.scrollTop(t.scrollTop()+(n-o)),r=s.offset().top-t.offset().top,0>r&&"none"!=s.css("display")&&t.scrollTop(t.scrollTop()+r)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var e=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<e.length;){i+=t;var s=$(e[i]);if(s.hasClass("select2-result-selectable")&&!s.hasClass("select2-disabled")&&!s.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(t){var e=this.findHighlightableChoices(),i,n;return 0===arguments.length?s(e.filter(".select2-highlighted")[0],e.get()):(t>=e.length&&(t=e.length-1),0>t&&(t=0),this.removeHighlight(),i=$(e[t]),i.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",i.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(i.text()),n=i.data("select2-data"),void(n&&this.opts.element.trigger({type:"select2-highlight",val:this.id(n),choice:n})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var e=$(t.target).closest(".select2-result-selectable");if(e.length>0&&!e.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(e))}else 0==e.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var t=this.results,e=t.find("li.select2-more-results"),i,s=this.resultsPage+1,n=this,o=this.search.val(),r=this.context;0!==e.length&&(i=e.offset().top-t.offset().top-t.height(),i<=this.opts.loadMorePadding&&(e.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:s,context:r,matcher:this.opts.matcher,callback:this.bind(function(i){n.opened()&&(n.opts.populateResults.call(this,t,i.results,{term:o,page:s,context:r}),n.postprocessResults(i,!1,!1),i.more===!0?(e.detach().appendTo(t).text(P(n.opts.formatLoadMore,s+1)),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):e.remove(),n.positionDropdown(),n.resultsPage=s,n.context=i.context,this.opts.element.trigger({type:"select2-loaded",items:i}))})})))},tokenize:function(){},updateResults:function(e){function i(){n.removeClass("select2-active"),h.positionDropdown(),h.liveRegion.text(r.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?r.text():h.opts.formatMatches(r.find(".select2-result-selectable").length))}function s(t){r.html(t),i()}var n=this.search,r=this.results,a=this.opts,l,h=this,c,u=n.val(),d=$.data(this.container,"select2-last-term"),p;if((e===!0||!d||!o(u,d))&&($.data(this.container,"select2-last-term",u),e===!0||this.showSearchInput!==!1&&this.opened())){p=++this.queryCount;var f=this.getMaximumSelectionSize();if(f>=1&&(l=this.data(),$.isArray(l)&&l.length>=f&&S(a.formatSelectionTooBig,"formatSelectionTooBig")))return void s("<li class='select2-selection-limit'>"+P(a.formatSelectionTooBig,f)+"</li>");if(n.val().length<a.minimumInputLength)return s(S(a.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+P(a.formatInputTooShort,n.val(),a.minimumInputLength)+"</li>":""),void(e&&this.showSearch&&this.showSearch(!0));if(a.maximumInputLength&&n.val().length>a.maximumInputLength)return void s(S(a.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+P(a.formatInputTooLong,n.val(),a.maximumInputLength)+"</li>":"");a.formatSearching&&0===this.findHighlightableChoices().length&&s("<li class='select2-searching'>"+P(a.formatSearching)+"</li>"),n.addClass("select2-active"),this.removeHighlight(),c=this.tokenize(),c!=t&&null!=c&&n.val(c),this.resultsPage=1,a.query({element:a.element,term:n.val(),page:this.resultsPage,context:null,matcher:a.matcher,callback:this.bind(function(l){var c;if(p==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=l.context===t?null:l.context,this.opts.createSearchChoice&&""!==n.val()&&(c=this.opts.createSearchChoice.call(h,n.val(),l.results),c!==t&&null!==c&&h.id(c)!==t&&null!==h.id(c)&&0===$(l.results).filter(function(){return o(h.id(this),h.id(c))}).length&&this.opts.createSearchChoicePosition(l.results,c)),0===l.results.length&&S(a.formatNoMatches,"formatNoMatches"))return void s("<li class='select2-no-results'>"+P(a.formatNoMatches,n.val())+"</li>");r.empty(),h.opts.populateResults.call(this,r,l.results,{term:n.val(),page:this.resultsPage,context:null}),l.more===!0&&S(a.formatLoadMore,"formatLoadMore")&&(r.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(P(a.formatLoadMore,this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(l,e),i(),this.opts.element.trigger({type:"select2-loaded",items:l})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){p(this.search)},selectHighlighted:function(t){if(this._touchMoved)return void this.clearTouchMoved();var e=this.highlight(),i=this.results.find(".select2-highlighted"),s=i.closest(".select2-result").data("select2-data");s?(this.highlight(e),this.onSelect(s,t)):t&&t.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var e=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&e||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.text()&&""===e.val())return e}},initContainerWidth:function(){function e(){var e,i,s,n,o,r;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(e=this.opts.element.attr("style"),e!==t)for(i=e.split(";"),n=0,o=i.length;o>n;n+=1)if(r=i[n].replace(/\s/g,""),s=r.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==s&&s.length>=1)return s[1];return"resolve"===this.opts.width?(e=this.opts.element.css("width"),e.indexOf("%")>0?e:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return $.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=e.call(this);null!==i&&this.container.css("width",i)}}),A=k(I,{createContainer:function(){var t=$(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var e,i,s;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),e=this.search.get(0),e.createTextRange?(i=e.createTextRange(),i.collapse(!1),i.select()):e.setSelectionRange&&(s=this.search.val().length,e.setSelectionRange(s,s)),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger($.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){$("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,i=this.container,s=this.dropdown,n=D(),o;this.showSearch(this.opts.minimumResultsForSearch<0?!1:!0),this.selection=t=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+n),this.focusser.attr("aria-labelledby","select2-chosen-"+n),this.results.attr("id","select2-results-"+n),this.search.attr("aria-owns","select2-results-"+n),this.focusser.attr("id","s2id_autogen"+n),o=$("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(o.text()).attr("for",this.focusser.attr("id"));var r=this.opts.element.attr("title");this.opts.element.attr("title",r||o.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text($("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){if(t.which===E.PAGE_UP||t.which===E.PAGE_DOWN)return void g(t);switch(t.which){case E.UP:case E.DOWN:return this.moveHighlight(t.which===E.UP?-1:1),void g(t);case E.ENTER:return this.selectHighlighted(),void g(t);case E.TAB:return void this.selectHighlighted({noFocus:!0});case E.ESC:return this.cancel(t),void g(t)}}})),this.search.on("blur",this.bind(function(t){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()&&t.which!==E.TAB&&!E.isControl(t)&&!E.isFunctionKey(t)&&t.which!==E.ESC){if(this.opts.openOnEnter===!1&&t.which===E.ENTER)return void g(t);if(t.which==E.DOWN||t.which==E.UP||t.which==E.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),void g(t)}return t.which==E.DELETE||t.which==E.BACKSPACE?(this.opts.allowClear&&this.clear(),void g(t)):void 0}})),l(this.focusser),this.focusser.on("keyup-change input",this.bind(function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(t){this.isInterfaceEnabled()&&(this.clear(),m(t),this.close(),this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(i){e(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),g(i)})),s.on("mousedown touchstart",this.bind(function(){this.search.focus()})),t.on("focus",this.bind(function(t){g(t)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger($.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var e=this.selection.data("select2-data");if(e){var i=$.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var s=this.getPlaceholderOption();this.opts.element.val(s?s.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(e),choice:e}),this.triggerChange({removed:e}))}},initSelection:function(){var e;if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var i=this;this.opts.initSelection.call(null,this.opts.element,function(e){e!==t&&null!==e&&(i.updateSelection(e),i.close(),i.setPlaceholder(),i.nextSearchTerm=i.opts.nextSearchTerm(e,i.search.val()))})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()?(e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val():!1},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),e=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(t,i){var s=t.find("option").filter(function(){return this.selected&&!this.disabled});i(e.optionToData(s))}:"data"in t&&(t.initSelection=t.initSelection||function(e,i){var s=e.val(),n=null;t.query({matcher:function(e,i,r){var a=o(s,t.id(r));return a&&(n=r),a},callback:$.isFunction(i)?function(){i(n)}:$.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,i){var s=0,n=this,r=!0;if(this.findHighlightableChoices().each2(function(t,e){return o(n.id(e.data("select2-data")),n.opts.element.val())?(s=t,!1):void 0}),i!==!1&&this.highlight(e===!0&&s>=0?s:0),e===!0){var a=this.opts.minimumResultsForSearch;a>=0&&this.showSearch(T(t.results)>=a)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),$(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(t,e){if(this.triggerSelect(t)){var i=this.opts.element.val(),s=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.close(),e&&e.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),o(i,this.id(t))||this.triggerChange({added:t,removed:s})}},updateSelection:function(e){var i=this.selection.find(".select2-chosen"),s,n;this.selection.data("select2-data",e),i.empty(),null!==e&&(s=this.opts.formatSelection(e,i,this.opts.escapeMarkup)),s!==t&&i.append(s),n=this.opts.formatSelectionCssClass(e,i),n!==t&&i.addClass(n),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,i=!1,s=null,n=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(i=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(t,e){return s=n.optionToData(e),!1}),this.updateSelection(s),this.setPlaceholder(),i&&this.triggerChange({added:s,removed:o});else{if(!e&&0!==e)return void this.clear(i);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(t){n.opts.element.val(t?n.id(t):""),n.updateSelection(t),n.setPlaceholder(),i&&n.triggerChange({added:t,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var i,s=!1;return 0===arguments.length?(i=this.selection.data("select2-data"),i==t&&(i=null),i):(arguments.length>1&&(s=arguments[1]),void(e?(i=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),s&&this.triggerChange({added:e,removed:i})):this.clear(s)))}}),O=k(I,{createContainer:function(){var t=$(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),e=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(t,i){var s=[];t.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(t,i){s.push(e.optionToData(i))}),i(s)}:"data"in t&&(t.initSelection=t.initSelection||function(e,i){var s=r(e.val(),t.separator),n=[];t.query({matcher:function(e,i,r){var a=$.grep(s,function(e){return o(e,t.id(r))}).length;return a&&n.push(r),a},callback:$.isFunction(i)?function(){for(var e=[],r=0;r<s.length;r++)for(var a=s[r],l=0;l<n.length;l++){var h=n[l];if(o(a,t.id(h))){e.push(h),n.splice(l,1);break}}i(e)}:$.noop})}),t},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){$("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t=".select2-choices",e;this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(t);var i=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(t){i.search[0].focus(),i.selectChoice($(this))}),this.search.attr("id","s2id_autogen"+D()),this.search.prev().text($("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(t){if(this.isInterfaceEnabled()){++this.keydowns;var i=e.find(".select2-search-choice-focus"),s=i.prev(".select2-search-choice:not(.select2-locked)"),n=i.next(".select2-search-choice:not(.select2-locked)"),o=f(this.search);if(i.length&&(t.which==E.LEFT||t.which==E.RIGHT||t.which==E.BACKSPACE||t.which==E.DELETE||t.which==E.ENTER)){var r=i;return t.which==E.LEFT&&s.length?r=s:t.which==E.RIGHT?r=n.length?n:null:t.which===E.BACKSPACE?this.unselect(i.first())&&(this.search.width(10),r=s.length?s:n):t.which==E.DELETE?this.unselect(i.first())&&(this.search.width(10),r=n.length?n:null):t.which==E.ENTER&&(r=null),this.selectChoice(r),g(t),void(r&&r.length||this.open())}if((t.which===E.BACKSPACE&&1==this.keydowns||t.which==E.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),void g(t);if(this.selectChoice(null),this.opened())switch(t.which){case E.UP:case E.DOWN:return this.moveHighlight(t.which===E.UP?-1:1),void g(t);case E.ENTER:return this.selectHighlighted(),void g(t);case E.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case E.ESC:return this.cancel(t),void g(t)}if(t.which!==E.TAB&&!E.isControl(t)&&!E.isFunctionKey(t)&&t.which!==E.BACKSPACE&&t.which!==E.ESC){if(t.which===E.ENTER){if(this.opts.openOnEnter===!1)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),(t.which===E.PAGE_UP||t.which===E.PAGE_DOWN)&&g(t),t.which===E.ENTER&&g(t)}}})),this.search.on("keyup",this.bind(function(t){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger($.Event("select2-blur"))})),this.container.on("click",t,this.bind(function(t){this.isInterfaceEnabled()&&($(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",t,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){var e;if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var i=this;this.opts.initSelection.call(null,this.opts.element,function(e){e!==t&&null!==e&&(i.updateSelection(e),i.close(),i.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),i=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.search.focus(),this.opts.element.trigger($.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var e=[],i=[],n=this;$(t).each(function(){s(n.id(this),e)<0&&(e.push(n.id(this)),i.push(this))}),t=i,this.selection.find(".select2-search-choice").remove(),$(t).each(function(){n.addSelectedChoice(this)}),n.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,i){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.clearSearch(),this.updateResults(),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),i&&i.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(e){var i=!e.locked,s=$("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),n=$("<li class='select2-search-choice select2-locked'><div></div></li>"),o=i?s:n,r=this.id(e),a=this.getVal(),l,h;l=this.opts.formatSelection(e,o.find("div"),this.opts.escapeMarkup),l!=t&&o.find("div").replaceWith("<div>"+l+"</div>"),h=this.opts.formatSelectionCssClass(e,o.find("div")),h!=t&&o.addClass(h),i&&o.find(".select2-search-choice-close").on("mousedown",g).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect($(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),g(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),o.data("select2-data",e),o.insertBefore(this.searchContainer),a.push(r),this.setVal(a)},unselect:function(t){var e=this.getVal(),i,n;if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(i=t.data("select2-data")){var o=$.Event("select2-removing");if(o.val=this.id(i),o.choice=i,this.opts.element.trigger(o),o.isDefaultPrevented())return!1;for(;(n=s(this.id(i),e))>=0;)e.splice(n,1),this.setVal(e),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}),!0}},postprocessResults:function(t,e,i){var n=this.getVal(),o=this.results.find(".select2-result"),r=this.results.find(".select2-result-with-children"),a=this;o.each2(function(t,e){var i=a.id(e.data("select2-data"));s(i,n)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))}),r.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&i!==!1&&a.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&S(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+P(a.opts.formatNoMatches,a.search.val())+"</li>")
},getMaxSearchWidth:function(){return this.selection.width()-a(this.search)},resizeSearch:function(){var t,e,i,s,n,o=a(this.search);t=v(this.search)+10,e=this.search.offset().left,i=this.selection.width(),s=this.selection.offset().left,n=i-(e-s)-o,t>n&&(n=i-o),40>n&&(n=i-o),0>=n&&(n=t),this.search.width(Math.floor(n))},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),r(t,this.opts.separator))},setVal:function(t){var e;this.select?this.select.val(t):(e=[],$(t).each(function(){s(this,e)<0&&e.push(this)}),this.opts.element.val(0===e.length?"":e.join(this.opts.separator)))},buildChangeDetails:function(t,e){for(var e=e.slice(0),t=t.slice(0),i=0;i<e.length;i++)for(var s=0;s<t.length;s++)o(this.opts.id(e[i]),this.opts.id(t[s]))&&(e.splice(i,1),i>0&&i--,t.splice(s,1),s--);return{added:e,removed:t}},val:function(e,i){var s,n=this;if(0===arguments.length)return this.getVal();if(s=this.data(),s.length||(s=[]),!e&&0!==e)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:s}));if(this.setVal(e),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(s,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var e=$.map(t,n.id);n.setVal(e),n.updateSelection(t),n.clearSearch(),i&&n.triggerChange(n.buildChangeDetails(s,n.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],e=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(e.opts.id($(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,e){var i=this,s,n;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return $(this).data("select2-data")}).get():(n=this.data(),t||(t=[]),s=$.map(t,function(t){return i.opts.id(t)}),this.setVal(s),this.updateSelection(t),this.clearSearch(),e&&this.triggerChange(this.buildChangeDetails(n,this.data())),void 0)}}),$.fn.select2=function(){var e=Array.prototype.slice.call(arguments,0),i,n,o,r,a,l=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],h=["opened","isFocused","container","dropdown"],c=["val","data"],u={search:"externalSearch"};return this.each(function(){if(0===e.length||"object"==typeof e[0])i=0===e.length?{}:$.extend({},e[0]),i.element=$(this),"select"===i.element.get(0).tagName.toLowerCase()?a=i.element.prop("multiple"):(a=i.multiple||!1,"tags"in i&&(i.multiple=a=!0)),n=a?new window.Select2["class"].multi:new window.Select2["class"].single,n.init(i);else{if("string"!=typeof e[0])throw"Invalid arguments to select2 plugin: "+e;if(s(e[0],l)<0)throw"Unknown method: "+e[0];if(r=t,n=$(this).data("select2"),n===t)return;if(o=e[0],"container"===o?r=n.container:"dropdown"===o?r=n.dropdown:(u[o]&&(o=u[o]),r=n[o].apply(n,e.slice(1))),s(e[0],h)>=0||s(e[0],c)&&1==e.length)return!1}}),r===t?this:r},$.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,i,s){var n=[];return y(t.text,i.term,n,s),n.join("")},formatSelection:function(e,i,s){return e?s(e.text):t},sortResults:function(t,e,i){return t},formatResultCssClass:function(t){return t.css},formatSelectionCssClass:function(e,i){return t},formatMatches:function(t){return t+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){var i=e-t.length;return"Please enter "+i+" or more character"+(1==i?"":"s")},formatInputTooLong:function(t,e){var i=t.length-e;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(t){return"Loading more results"},formatSearching:function(){return"Searching"},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},matcher:function(t,e){return i(""+e).toUpperCase().indexOf(i(""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:F,escapeMarkup:w,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(t){return null},nextSearchTerm:function(e,i){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(t){return t.opts.minimumResultsForSearch<0?!1:!0}},$.fn.select2.ajaxDefaults={transport:$.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:x,local:_,tags:C},util:{debounce:c,markMatch:y,escapeMarkup:w,stripDiacritics:i},"class":{"abstract":I,single:A,multi:O}}}}(jQuery),/**
 * @license MIT
 * @fileOverview Favico animations
 * @author Miroslav Magda, http://blog.ejci.net
 * @version 0.3.5
 */
function(){var t=function(t){"use strict";function e(t){if(t.paused||t.ended||v)return!1;try{u.clearRect(0,0,h,l),u.drawImage(t,0,0,h,l)}catch(i){}w=setTimeout(e,A.duration,t),I.setIcon(c)}function i(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,s){return e+e+i+i+s+s});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:!1}function s(t,e){var i={},s;for(s in t)i[s]=t[s];for(s in e)i[s]=e[s];return i}function n(){return document.hidden||document.msHidden||document.webkitHidden||document.mozHidden}t=t?t:{};var o={bgColor:"#d00",textColor:"#fff",fontFamily:"sans-serif",fontStyle:"bold",type:"circle",position:"down",animation:"slide",elementId:!1},r,a,l,h,c,u,d,p,f,g,m,v,b,y,w;b={},b.ff="undefined"!=typeof InstallTrigger,b.chrome=!!window.chrome,b.opera=!!window.opera||navigator.userAgent.indexOf("Opera")>=0,b.ie=/*@cc_on!@*/!1,b.safari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,b.supported=b.chrome||b.ff||b.opera;var x=[];m=function(){},p=v=!1;var _=function(){r=s(o,t),r.bgColor=i(r.bgColor),r.textColor=i(r.textColor),r.position=r.position.toLowerCase(),r.animation=A.types[""+r.animation]?r.animation:o.animation;var e=r.position.indexOf("up")>-1,n=r.position.indexOf("left")>-1;if(e||n)for(var p=0;p<A.types[""+r.animation].length;p++){var f=A.types[""+r.animation][p];e&&(f.y=f.y<.6?f.y-.4:f.y-2*f.y+(1-f.w)),n&&(f.x=f.x<.6?f.x-.4:f.x-2*f.x+(1-f.h)),A.types[""+r.animation][p]=f}r.type=S[""+r.type]?r.type:o.type;try{a=I.getIcon(),c=document.createElement("canvas"),d=document.createElement("img"),a.hasAttribute("href")?(d.setAttribute("src",a.getAttribute("href")),d.onload=function(){l=d.height>0?d.height:32,h=d.width>0?d.width:32,c.height=l,c.width=h,u=c.getContext("2d"),C.ready()}):(d.setAttribute("src",""),l=32,h=32,d.height=l,d.width=h,c.height=l,c.width=h,u=c.getContext("2d"),C.ready())}catch(g){throw"Error initializing favico. Message: "+g.message}},C={};C.ready=function(){p=!0,C.reset(),m()},C.reset=function(){p&&(x=[],f=!1,u.clearRect(0,0,h,l),u.drawImage(d,0,0,h,l),I.setIcon(c),window.clearTimeout(y),window.clearTimeout(w))},C.start=function(){if(p&&!g){var t=function(){f=x[0],g=!1,x.length>0&&(x.shift(),C.start())};if(x.length>0){g=!0;var e=function(){["type","animation","bgColor","textColor","fontFamily","fontStyle"].forEach(function(t){t in x[0].options&&(r[t]=x[0].options[t])}),A.run(x[0].options,function(){t()},!1)};f?A.run(f.options,function(){e()},!0):e()}}};var S={},P=function(t){return t.n="number"==typeof t.n?Math.abs(0|t.n):t.n,t.x=h*t.x,t.y=l*t.y,t.w=h*t.w,t.h=l*t.h,t.len=(""+t.n).length,t};S.circle=function(t){t=P(t);var e=!1;2===t.len?(t.x=t.x-.4*t.w,t.w=1.4*t.w,e=!0):t.len>=3&&(t.x=t.x-.65*t.w,t.w=1.65*t.w,e=!0),u.clearRect(0,0,h,l),u.drawImage(d,0,0,h,l),u.beginPath(),u.font=r.fontStyle+" "+Math.floor(t.h*(t.n>99?.85:1))+"px "+r.fontFamily,u.textAlign="center",e?(u.moveTo(t.x+t.w/2,t.y),u.lineTo(t.x+t.w-t.h/2,t.y),u.quadraticCurveTo(t.x+t.w,t.y,t.x+t.w,t.y+t.h/2),u.lineTo(t.x+t.w,t.y+t.h-t.h/2),u.quadraticCurveTo(t.x+t.w,t.y+t.h,t.x+t.w-t.h/2,t.y+t.h),u.lineTo(t.x+t.h/2,t.y+t.h),u.quadraticCurveTo(t.x,t.y+t.h,t.x,t.y+t.h-t.h/2),u.lineTo(t.x,t.y+t.h/2),u.quadraticCurveTo(t.x,t.y,t.x+t.h/2,t.y)):u.arc(t.x+t.w/2,t.y+t.h/2,t.h/2,0,2*Math.PI),u.fillStyle="rgba("+r.bgColor.r+","+r.bgColor.g+","+r.bgColor.b+","+t.o+")",u.fill(),u.closePath(),u.beginPath(),u.stroke(),u.fillStyle="rgba("+r.textColor.r+","+r.textColor.g+","+r.textColor.b+","+t.o+")","number"==typeof t.n&&t.n>999?u.fillText((t.n>9999?9:Math.floor(t.n/1e3))+"k+",Math.floor(t.x+t.w/2),Math.floor(t.y+t.h-.2*t.h)):u.fillText(t.n,Math.floor(t.x+t.w/2),Math.floor(t.y+t.h-.15*t.h)),u.closePath()},S.rectangle=function(t){t=P(t);var e=!1;2===t.len?(t.x=t.x-.4*t.w,t.w=1.4*t.w,e=!0):t.len>=3&&(t.x=t.x-.65*t.w,t.w=1.65*t.w,e=!0),u.clearRect(0,0,h,l),u.drawImage(d,0,0,h,l),u.beginPath(),u.font=r.fontStyle+" "+Math.floor(t.h*(t.n>99?.9:1))+"px "+r.fontFamily,u.textAlign="center",u.fillStyle="rgba("+r.bgColor.r+","+r.bgColor.g+","+r.bgColor.b+","+t.o+")",u.fillRect(t.x,t.y,t.w,t.h),u.fillStyle="rgba("+r.textColor.r+","+r.textColor.g+","+r.textColor.b+","+t.o+")","number"==typeof t.n&&t.n>999?u.fillText((t.n>9999?9:Math.floor(t.n/1e3))+"k+",Math.floor(t.x+t.w/2),Math.floor(t.y+t.h-.2*t.h)):u.fillText(t.n,Math.floor(t.x+t.w/2),Math.floor(t.y+t.h-.15*t.h)),u.closePath()};var T=function(t,e){e=("string"==typeof e?{animation:e}:e)||{},m=function(){try{if("number"==typeof t?t>0:""!==t){var s={type:"badge",options:{n:t}};if("animation"in e&&A.types[""+e.animation]&&(s.options.animation=""+e.animation),"type"in e&&S[""+e.type]&&(s.options.type=""+e.type),["bgColor","textColor"].forEach(function(t){t in e&&(s.options[t]=i(e[t]))}),["fontStyle","fontFamily"].forEach(function(t){t in e&&(s.options[t]=e[t])}),x.push(s),x.length>100)throw"Too many badges requests in queue.";C.start()}else C.reset()}catch(n){throw"Error setting badge. Message: "+n.message}},p&&m()},F=function(t){m=function(){try{var e=t.width,i=t.height,s=document.createElement("img"),n=i/l>e/h?e/h:i/l;s.setAttribute("src",t.getAttribute("src")),s.height=i/n,s.width=e/n,u.clearRect(0,0,h,l),u.drawImage(s,0,0,h,l),I.setIcon(c)}catch(o){throw"Error setting image. Message: "+o.message}},p&&m()},k=function(t){m=function(){try{if("stop"===t)return v=!0,C.reset(),void(v=!1);t.addEventListener("play",function(){e(this)},!1)}catch(i){throw"Error setting video. Message: "+i.message}},p&&m()},E=function(t){if(window.URL&&window.URL.createObjectURL||(window.URL=window.URL||{},window.URL.createObjectURL=function(t){return t}),b.supported){var i=!1;navigator.getUserMedia=navigator.getUserMedia||navigator.oGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia,m=function(){try{if("stop"===t)return v=!0,C.reset(),void(v=!1);i=document.createElement("video"),i.width=h,i.height=l,navigator.getUserMedia({video:!0,audio:!1},function(t){i.src=URL.createObjectURL(t),i.play(),e(i)},function(){})}catch(s){throw"Error setting webcam. Message: "+s.message}},p&&m()}},I={};I.getIcon=function(){var t=!1,e="",i=function(){for(var t=document.getElementsByTagName("head")[0].getElementsByTagName("link"),e=t.length,i=e-1;i>=0;i--)if(/(^|\s)icon(\s|$)/i.test(t[i].getAttribute("rel")))return t[i];return!1};if(r.elementId?(t=document.getElementById(r.elementId),t.setAttribute("href",t.getAttribute("src"))):(t=i(),t===!1&&(t=document.createElement("link"),t.setAttribute("rel","icon"),document.getElementsByTagName("head")[0].appendChild(t))),e=r.elementId?t.src:t.href,"data:"!==e.substr(0,5)&&-1===e.indexOf(document.location.hostname))throw new Error("Error setting favicon. Favicon image is on different domain (Icon: "+e+", Domain: "+document.location.hostname+")");return t.setAttribute("type","image/png"),t},I.setIcon=function(t){var e=t.toDataURL("image/png");if(r.elementId)document.getElementById(r.elementId).setAttribute("src",e);else if(b.ff||b.opera){var i=a;a=document.createElement("link"),b.opera&&a.setAttribute("rel","icon"),a.setAttribute("rel","icon"),a.setAttribute("type","image/png"),document.getElementsByTagName("head")[0].appendChild(a),a.setAttribute("href",e),i.parentNode&&i.parentNode.removeChild(i)}else a.setAttribute("href",e)};var A={};return A.duration=40,A.types={},A.types.fade=[{x:.4,y:.4,w:.6,h:.6,o:0},{x:.4,y:.4,w:.6,h:.6,o:.1},{x:.4,y:.4,w:.6,h:.6,o:.2},{x:.4,y:.4,w:.6,h:.6,o:.3},{x:.4,y:.4,w:.6,h:.6,o:.4},{x:.4,y:.4,w:.6,h:.6,o:.5},{x:.4,y:.4,w:.6,h:.6,o:.6},{x:.4,y:.4,w:.6,h:.6,o:.7},{x:.4,y:.4,w:.6,h:.6,o:.8},{x:.4,y:.4,w:.6,h:.6,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],A.types.none=[{x:.4,y:.4,w:.6,h:.6,o:1}],A.types.pop=[{x:1,y:1,w:0,h:0,o:1},{x:.9,y:.9,w:.1,h:.1,o:1},{x:.8,y:.8,w:.2,h:.2,o:1},{x:.7,y:.7,w:.3,h:.3,o:1},{x:.6,y:.6,w:.4,h:.4,o:1},{x:.5,y:.5,w:.5,h:.5,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],A.types.popFade=[{x:.75,y:.75,w:0,h:0,o:0},{x:.65,y:.65,w:.1,h:.1,o:.2},{x:.6,y:.6,w:.2,h:.2,o:.4},{x:.55,y:.55,w:.3,h:.3,o:.6},{x:.5,y:.5,w:.4,h:.4,o:.8},{x:.45,y:.45,w:.5,h:.5,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],A.types.slide=[{x:.4,y:1,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.8,w:.6,h:.6,o:1},{x:.4,y:.7,w:.6,h:.6,o:1},{x:.4,y:.6,w:.6,h:.6,o:1},{x:.4,y:.5,w:.6,h:.6,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],A.run=function(t,e,i,o){var a=A.types[n()?"none":r.animation];return o=i===!0?"undefined"!=typeof o?o:a.length-1:"undefined"!=typeof o?o:0,e=e?e:function(){},o<a.length&&o>=0?(S[r.type](s(t,a[o])),y=setTimeout(function(){i?o-=1:o+=1,A.run(t,e,i,o)},A.duration),I.setIcon(c),void 0):void e()},_(),{badge:T,video:k,image:F,webcam:E,reset:C.reset,browser:{supported:b.supported}}};"undefined"!=typeof define&&define.amd?define([],function(){return t}):"undefined"!=typeof module&&module.exports?module.exports=t:this.Favico=t}(),Number.prototype.pad=function(t){"number"!=typeof t&&(t=2);for(var e=String(this);e.length<t;)e="0"+e;return e},String.prototype.contains=function(t){return-1!=this.indexOf(t)},$.fn.serializeObject=function(){var t={},e=this.serializeArray();return $.each(e,function(){void 0!==t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t};